var createBoidsModule=(()=>async function(r={}){var e,n,t,a,i,o=r,u=new Promise(((r,e)=>{n=r,t=e})),s="object"==typeof window,f="undefined"!=typeof WorkerGlobalScope,c=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process.type,import.meta.url),l="";function d(r){return o["locateFile"]?o["locateFile"](r,l):l+r}if(s||f){try{l=new URL(".",c).href}catch{}f&&(i=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),a=async r=>{var e=await fetch(r,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)}}console.log.bind(console);var v,y,h,p,m,g,w,A,b,C,T,W,R=console.error.bind(console),P=!1;function F(){var r=y.buffer;h=new Int8Array(r),m=new Int16Array(r),p=new Uint8Array(r),g=new Uint16Array(r),w=new Int32Array(r),A=new Uint32Array(r),b=new Float32Array(r),W=new Float64Array(r),C=new BigInt64Array(r),T=new BigUint64Array(r)}function S(){if(o["preRun"]){"function"==typeof o["preRun"]&&(o["preRun"]=[o["preRun"]]);while(o["preRun"].length)Y(o["preRun"].shift())}q(X)}function k(){Zr["m"]()}function E(){if(o["postRun"]){"function"==typeof o["postRun"]&&(o["postRun"]=[o["postRun"]]);while(o["postRun"].length)z(o["postRun"].shift())}q(G)}var B,I=0,U=null;function V(r){I++,o["monitorRunDependencies"]?.(I)}function $(r){if(I--,o["monitorRunDependencies"]?.(I),0==I&&U){var e=U;U=null,e()}}function x(r){o["onAbort"]?.(r),r="Aborted("+r+")",R(r),P=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw t(e),e}function _(){return o["locateFile"]?d("wasm_boids.wasm"):new URL("wasm_boids.wasm",import.meta.url).href}function D(r){if(r==B&&v)return new Uint8Array(v);if(i)return i(r);throw"both async and sync fetching of the wasm failed"}async function M(r){if(!v)try{var e=await a(r);return new Uint8Array(e)}catch{}return D(r)}async function j(r,e){try{var n=await M(r),t=await WebAssembly.instantiate(n,e);return t}catch(a){R(`failed to asynchronously prepare wasm: ${a}`),x(a)}}async function L(r,e,n){if(!r&&"function"==typeof WebAssembly.instantiateStreaming)try{var t=fetch(e,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(t,n);return a}catch(i){R(`wasm streaming compile failed: ${i}`),R("falling back to ArrayBuffer instantiation")}return j(e,n)}function N(){return{a:Qr}}async function O(){function r(r,e){return Zr=r.exports,y=Zr["l"],F(),$("wasm-instantiate"),Zr}function e(e){return r(e["instance"])}V("wasm-instantiate");var n=N();if(o["instantiateWasm"])return new Promise(((e,t)=>{o["instantiateWasm"](n,((n,t)=>{e(r(n,t))}))}));B??=_();try{var a=await L(v,B,n),i=e(a);return i}catch(u){return t(u),Promise.reject(u)}}var H,q=r=>{while(r.length>0)r.shift()(o)},G=[],z=r=>G.push(r),X=[],Y=r=>X.push(r),J=r=>ne(r),K=()=>ae(),Q=()=>x(""),Z=r=>{if(null===r)return"null";var e=typeof r;return"object"===e||"array"===e||"function"===e?r.toString():""+r},rr=()=>{for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);H=r},er=r=>{var e="",n=r;while(p[n])e+=H[p[n++]];return e},nr={},tr={},ar={},ir=o["BindingError"]=class extends Error{constructor(r){super(r),this.name="BindingError"}},or=r=>{throw new ir(r)};function ur(r,e,n={}){var t=e.name;if(r||or(`type "${t}" must have a positive integer typeid pointer`),tr.hasOwnProperty(r)){if(n.ignoreDuplicateRegistrations)return;or(`Cannot register type '${t}' twice`)}if(tr[r]=e,delete ar[r],nr.hasOwnProperty(r)){var a=nr[r];delete nr[r],a.forEach((r=>r()))}}function sr(r,e,n={}){return ur(r,e,n)}var fr=(r,e,n)=>{switch(e){case 1:return n?r=>h[r]:r=>p[r];case 2:return n?r=>m[r>>1]:r=>g[r>>1];case 4:return n?r=>w[r>>2]:r=>A[r>>2];case 8:return n?r=>C[r>>3]:r=>T[r>>3];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},cr=(r,e,n,t,a)=>{e=er(e);var i=-1!=e.indexOf("u");sr(r,{name:e,fromWireType:r=>r,toWireType:function(r,e){if("bigint"!=typeof e&&"number"!=typeof e)throw new TypeError(`Cannot convert "${Z(e)}" to ${this.name}`);return"number"==typeof e&&(e=BigInt(e)),e},argPackAdvance:lr,readValueFromPointer:fr(e,n,!i),destructorFunction:null})},lr=8,dr=(r,e,n,t)=>{e=er(e),sr(r,{name:e,fromWireType:function(r){return!!r},toWireType:function(r,e){return e?n:t},argPackAdvance:lr,readValueFromPointer:function(r){return this["fromWireType"](p[r])},destructorFunction:null})},vr=[],yr=[],hr=r=>{r>9&&0===--yr[r+1]&&(yr[r]=void 0,vr.push(r))},pr=()=>yr.length/2-5-vr.length,mr=()=>{yr.push(0,1,void 0,1,null,1,!0,1,!1,1),o["count_emval_handles"]=pr},gr={toValue:r=>(r||or(`Cannot use deleted val. handle = ${r}`),yr[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=vr.pop()||yr.length;return yr[e]=r,yr[e+1]=1,e}}}};function wr(r){return this["fromWireType"](A[r>>2])}var Ar={name:"emscripten::val",fromWireType:r=>{var e=gr.toValue(r);return hr(r),e},toWireType:(r,e)=>gr.toHandle(e),argPackAdvance:lr,readValueFromPointer:wr,destructorFunction:null},br=r=>sr(r,Ar),Cr=(r,e)=>{switch(e){case 4:return function(r){return this["fromWireType"](b[r>>2])};case 8:return function(r){return this["fromWireType"](W[r>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},Tr=(r,e,n)=>{e=er(e),sr(r,{name:e,fromWireType:r=>r,toWireType:(r,e)=>e,argPackAdvance:lr,readValueFromPointer:Cr(e,n),destructorFunction:null})},Wr=(r,e,n,t,a)=>{e=er(e),-1===a&&(a=4294967295);var i=r=>r;if(0===t){var o=32-8*n;i=r=>r<<o>>>o}var u,s=e.includes("unsigned"),f=(r,e)=>{};u=s?function(r,e){return f(e,this.name),e>>>0}:function(r,e){return f(e,this.name),e},sr(r,{name:e,fromWireType:i,toWireType:u,argPackAdvance:lr,readValueFromPointer:fr(e,n,0!==t),destructorFunction:null})},Rr=(r,e,n)=>{var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],a=t[e];function i(r){var e=A[r>>2],n=A[r+4>>2];return new a(h.buffer,n,e)}n=er(n),sr(r,{name:n,fromWireType:i,argPackAdvance:lr,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},Pr=(r,e,n,t)=>{if(!(t>0))return 0;for(var a=n,i=n+t-1,o=0;o<r.length;++o){var u=r.charCodeAt(o);if(u>=55296&&u<=57343){var s=r.charCodeAt(++o);u=65536+((1023&u)<<10)|1023&s}if(u<=127){if(n>=i)break;e[n++]=u}else if(u<=2047){if(n+1>=i)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=i)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=i)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}return e[n]=0,n-a},Fr=(r,e,n)=>Pr(r,p,e,n),Sr=r=>{for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t<=127?e++:t<=2047?e+=2:t>=55296&&t<=57343?(e+=4,++n):e+=3}return e},kr="undefined"!=typeof TextDecoder?new TextDecoder:void 0,Er=(r,e=0,n=NaN)=>{var t=e+n,a=e;while(r[a]&&!(a>=t))++a;if(a-e>16&&r.buffer&&kr)return kr.decode(r.subarray(e,a));var i="";while(e<a){var o=r[e++];if(128&o){var u=63&r[e++];if(192!=(224&o)){var s=63&r[e++];if(o=224==(240&o)?(15&o)<<12|u<<6|s:(7&o)<<18|u<<12|s<<6|63&r[e++],o<65536)i+=String.fromCharCode(o);else{var f=o-65536;i+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else i+=String.fromCharCode((31&o)<<6|u)}else i+=String.fromCharCode(o)}return i},Br=(r,e)=>r?Er(p,r,e):"",Ir=(r,e)=>{e=er(e);var n=!0;sr(r,{name:e,fromWireType(r){var e,t=A[r>>2],a=r+4;if(n)for(var i=a,o=0;o<=t;++o){var u=a+o;if(o==t||0==p[u]){var s=u-i,f=Br(i,s);void 0===e?e=f:(e+=String.fromCharCode(0),e+=f),i=u+1}}else{var c=new Array(t);for(o=0;o<t;++o)c[o]=String.fromCharCode(p[a+o]);e=c.join("")}return ee(r),e},toWireType(r,e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var a="string"==typeof e;a||ArrayBuffer.isView(e)&&1==e.BYTES_PER_ELEMENT||or("Cannot pass non-string to std::string"),t=n&&a?Sr(e):e.length;var i=re(4+t+1),o=i+4;if(A[i>>2]=t,a)if(n)Fr(e,o,t+1);else for(var u=0;u<t;++u){var s=e.charCodeAt(u);s>255&&(ee(i),or("String has UTF-16 code units that do not fit in 8 bits")),p[o+u]=s}else p.set(e,o);return null!==r&&r.push(ee,i),i},argPackAdvance:lr,readValueFromPointer:wr,destructorFunction(r){ee(r)}})},Ur="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Vr=(r,e)=>{var n=r,t=n>>1,a=t+e/2;while(!(t>=a)&&g[t])++t;if(n=t<<1,n-r>32&&Ur)return Ur.decode(p.subarray(r,n));for(var i="",o=0;!(o>=e/2);++o){var u=m[r+2*o>>1];if(0==u)break;i+=String.fromCharCode(u)}return i},$r=(r,e,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var t=e,a=n<2*r.length?n/2:r.length,i=0;i<a;++i){var o=r.charCodeAt(i);m[e>>1]=o,e+=2}return m[e>>1]=0,e-t},xr=r=>2*r.length,_r=(r,e)=>{var n=0,t="";while(!(n>=e/4)){var a=w[r+4*n>>2];if(0==a)break;if(++n,a>=65536){var i=a-65536;t+=String.fromCharCode(55296|i>>10,56320|1023&i)}else t+=String.fromCharCode(a)}return t},Dr=(r,e,n)=>{if(n??=2147483647,n<4)return 0;for(var t=e,a=t+n-4,i=0;i<r.length;++i){var o=r.charCodeAt(i);if(o>=55296&&o<=57343){var u=r.charCodeAt(++i);o=65536+((1023&o)<<10)|1023&u}if(w[e>>2]=o,e+=4,e+4>a)break}return w[e>>2]=0,e-t},Mr=r=>{for(var e=0,n=0;n<r.length;++n){var t=r.charCodeAt(n);t>=55296&&t<=57343&&++n,e+=4}return e},jr=(r,e,n)=>{var t,a,i,o;n=er(n),2===e?(t=Vr,a=$r,o=xr,i=r=>g[r>>1]):4===e&&(t=_r,a=Dr,o=Mr,i=r=>A[r>>2]),sr(r,{name:n,fromWireType:r=>{for(var n,a=A[r>>2],o=r+4,u=0;u<=a;++u){var s=r+4+u*e;if(u==a||0==i(s)){var f=s-o,c=t(o,f);void 0===n?n=c:(n+=String.fromCharCode(0),n+=c),o=s+e}}return ee(r),n},toWireType:(r,t)=>{"string"!=typeof t&&or(`Cannot pass non-string to C++ string type ${n}`);var i=o(t),u=re(4+i+e);return A[u>>2]=i/e,a(t,u+4,i+e),null!==r&&r.push(ee,u),u},argPackAdvance:lr,readValueFromPointer:wr,destructorFunction(r){ee(r)}})},Lr=(r,e)=>{e=er(e),sr(r,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,e)=>{}})},Nr=()=>2147483648,Or=(r,e)=>Math.ceil(r/e)*e,Hr=r=>{var e=y.buffer,n=(r-e.byteLength+65535)/65536|0;try{return y.grow(n),F(),1}catch(t){}},qr=r=>{var e=p.length;r>>>=0;var n=Nr();if(r>n)return!1;for(var t=1;t<=4;t*=2){var a=e*(1+.2/t);a=Math.min(a,r+100663296);var i=Math.min(n,Or(Math.max(r,a),65536)),o=Hr(i);if(o)return!0}return!1},Gr=r=>{var e=o["_"+r];return e},zr=(r,e)=>{h.set(r,e)},Xr=r=>te(r),Yr=r=>{var e=Sr(r)+1,n=Xr(e);return Fr(r,n,e),n},Jr=(r,e,n,t,a)=>{var i={string:r=>{var e=0;return null!==r&&void 0!==r&&0!==r&&(e=Yr(r)),e},array:r=>{var e=Xr(r.length);return zr(r,e),e}};function o(r){return"string"===e?Br(r):"boolean"===e?Boolean(r):r}var u=Gr(r),s=[],f=0;if(t)for(var c=0;c<t.length;c++){var l=i[n[c]];l?(0===f&&(f=K()),s[c]=l(t[c])):s[c]=t[c]}var d=u(...s);function v(r){return 0!==f&&J(f),o(r)}return d=v(d),d},Kr=(r,e,n,t)=>{var a=!n||n.every((r=>"number"===r||"boolean"===r)),i="string"!==e;return i&&a&&!t?Gr(r):(...a)=>Jr(r,e,n,a,t)};rr(),mr(),o["noExitRuntime"]&&o["noExitRuntime"],o["print"]&&o["print"],o["printErr"]&&(R=o["printErr"]),o["wasmBinary"]&&(v=o["wasmBinary"]),o["arguments"]&&o["arguments"],o["thisProgram"]&&o["thisProgram"],o["ccall"]=Jr,o["cwrap"]=Kr;var Qr={j:Q,e:cr,h:dr,f:br,d:Tr,b:Wr,a:Rr,g:Ir,c:jr,i:Lr,k:qr},Zr=await O(),re=(Zr["m"],o["_malloc"]=Zr["n"]),ee=o["_free"]=Zr["o"],ne=Zr["p"],te=Zr["q"],ae=Zr["r"];function ie(){function r(){o["calledRun"]=!0,P||(k(),n(o),o["onRuntimeInitialized"]?.(),E())}I>0?U=ie:(S(),I>0?U=ie:o["setStatus"]?(o["setStatus"]("Running..."),setTimeout((()=>{setTimeout((()=>o["setStatus"]("")),1),r()}),1)):r())}function oe(){if(o["preInit"]){"function"==typeof o["preInit"]&&(o["preInit"]=[o["preInit"]]);while(o["preInit"].length>0)o["preInit"].shift()()}}return oe(),ie(),e=u,e})();export default createBoidsModule;