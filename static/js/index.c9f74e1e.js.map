{"version":3,"file":"static/js/index.c9f74e1e.js","mappings":"0GAcIA,EAA0B,oBAAVA,EAAwBA,EAAS,CAAC,EAMlDC,EAAsC,iBAAVC,OAC5BC,EAAoD,oBAArBC,kBAG/BC,EAAwC,iBAAXC,SAAkD,iBAApBA,QAAQC,UAAwD,iBAAzBD,QAAQC,SAASC,MAAoC,YAAhBF,QAAQG,KAC/IC,GAAwBT,IAAuBI,IAAwBF,EAWvEQ,EAAc,iBACdC,EAAQ,CAACC,EAAQC,KACnB,MAAMA,CAAO,EAKXC,EAAiC,oBAAZC,SAA0BA,SAASC,eAAeC,SAAMC,EAG/EJ,EAAcK,EAOhB,IASIC,EAAWC,EATXC,EAAkB,GACtB,SAASC,EAAWC,GAClB,OAAIzB,EAAO,cACFA,EAAO,cAAcyB,EAAMF,GAE7BA,EAAkBE,CAC3B,CAKA,GAAIpB,EAAqB,CACvB,GAAsB,oBAAXC,UAA2BA,QAAQoB,SAAoC,SAAzBpB,QAAQoB,QAAQC,KAAiB,MAAM,IAAIC,MAAM,0LAE1G,IAAIC,EAAcvB,QAAQC,SAASC,KAC/BsB,EAAiBD,EAAYE,MAAM,KAAKC,MAAM,EAAG,GACrDF,EAAsC,IAApBA,EAAe,GAAmC,IAApBA,EAAe,GAA+C,EAAlCA,EAAe,GAAGC,MAAM,KAAK,GAEzG,GAAID,EAAiB,KACnB,MAAM,IAAIF,MAAM,mEAAqEC,EAAc,KAKrG,IAAII,EAAK,EAAQ,MACF,EAAQ,MAEvBV,EAAkBW,EAAY,IAGhCZ,EAAca,IAEZA,EAAWC,EAAUD,GAAY,IAAIE,IAAIF,GAAYA,EACrD,IAAIG,EAAML,EAAGM,aAAaJ,GAE1B,OADAK,EAAOC,OAAOC,SAASJ,IAChBA,CAAG,EAGZjB,EAAYsB,MAAOR,EAAUS,GAAS,KAEpCT,EAAWC,EAAUD,GAAY,IAAIE,IAAIF,GAAYA,EACrD,IAAIG,EAAML,EAAGM,aAAaJ,EAAUS,OAASzB,EAAY,QAEzD,OADAqB,EAAOI,EAASH,OAAOC,SAASJ,GAAqB,iBAAPA,GACvCA,CAAG,EAGNhC,QAAQuC,KAAKC,OAAS,IACxBnC,EAAcL,QAAQuC,KAAK,GAAGE,QAAQ,MAAO,MAGlCzC,QAAQuC,KAAKb,MAAM,GAI9BgB,EAAO,WAAahD,EAGtBY,EAAQ,CAACC,EAAQC,KAEf,MADAR,QAAQ2C,SAAWpC,EACbC,CAAO,CAGjB,MACA,GAAIJ,GAEF,GAAuB,iBAAXJ,SAA0E,iBAAVJ,QAAkD,oBAArBE,kBAAkC,MAAM,IAAIwB,MAAM,8LAO7J,KAAI3B,IAAsBE,EAqDxB,MAAM,IAAIyB,MAAM,+BApDhB,IACEL,EAAkB,IAAIc,IAAI,IAAKtB,GAAamC,IAC9C,CAAE,MAGF,CAEA,GAAuB,iBAAVhD,QAAkD,oBAArBE,kBAAmC,MAAM,IAAIwB,MAAM,0LAI3FzB,IACAmB,EAAc6B,IACZ,IAAIC,EAAM,IAAIC,eAId,OAHAD,EAAIE,KAAK,MAAOH,GAAK,GACrBC,EAAIG,aAAe,cACnBH,EAAII,KAAK,MACF,IAAIC,WAAsCL,EAAY,SAAE,GAInE/B,EAAYsB,MAAOQ,IAKjB,GAAIf,EAAUe,GACZ,OAAO,IAAIO,SAAQ,CAACC,EAASC,KAC3B,IAAIR,EAAM,IAAIC,eACdD,EAAIE,KAAK,MAAOH,GAAK,GACrBC,EAAIG,aAAe,cACnBH,EAAIS,OAAS,KACO,KAAdT,EAAIvC,QAAgC,GAAduC,EAAIvC,QAAeuC,EAAIU,SAC/CH,EAAQP,EAAIU,UAGdF,EAAOR,EAAIvC,OAAO,EAEpBuC,EAAIW,QAAUH,EACdR,EAAII,KAAK,KAAK,IAGlB,IAAIM,QAAiBE,MAAMb,EAAK,CAAEc,YAAa,gBAC/C,GAAIH,EAASI,GACX,OAAOJ,EAASK,cAElB,MAAM,IAAIvC,MAAMkC,EAASjD,OAAS,MAAQiD,EAASX,IAAI,CAO3D,CAEA,IA+BIiB,EAQAC,EAvCAC,EAAMC,QAAQC,IAAIC,KAAKF,SACvBG,EAAMH,QAAQI,MAAMF,KAAKF,SAe7B/B,GAAQ9B,EAAsB,wGAiBJ,iBAAfkE,aACTF,EAAI,mCAaN,IAKIG,EAoBFC,EAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAGAC,EAGAC,EAEAC,EA7CEC,GAAQ,EAYZ,SAAShD,EAAOiD,EAAWC,GACpBD,GACHE,GAAM,oBAAsBD,EAAO,KAAOA,EAAO,IAErD,CA+BA,IAAIE,GAAqB,EAMrBxD,EAAaD,GAAaA,EAAS0D,WAAW,WAKlD,SAASC,IACP,IAAIC,EAAMC,KACVxD,EAAoB,IAAN,EAANuD,IAIG,GAAPA,IACFA,GAAO,GAKTZ,EAAS,GAAO,GAAM,SACtBA,EAAU,EAAM,GAAM,GAAM,WAE5BA,EAAQ,GAAY,UACtB,CAEA,SAASc,IACP,IAAIT,EAAJ,CACA,IAAIO,EAAMC,KAEC,GAAPD,IACFA,GAAO,GAET,IAAIG,EAAUf,EAAS,GAAO,GAC1BgB,EAAUhB,EAAU,EAAM,GAAM,GACrB,UAAXe,GAAoC,YAAXC,GAC3BR,GAAM,wDAAwDS,GAAYL,kEAAoEK,GAAYD,MAAYC,GAAYF,MAG3J,YAArBf,EAAQ,IACVQ,GAAM,oFAbS,CAenB,CAuBA,SAASU,EAAmBC,GACrBC,OAAOC,yBAAyBxG,EAAQsG,IAC3CC,OAAOE,eAAezG,EAAQsG,EAAM,CAClCI,cAAc,EACd,GAAAC,GACEhB,GAAM,2BAA2BW,uIAEnC,GAGN,CAEA,SAASM,EAAkBN,GACrBC,OAAOC,yBAAyBxG,EAAQsG,IAC1CX,GAAM,YAAYW,0BAA6BA,6CAEnD,CAGA,SAASO,EAA4BlF,GACnC,MAAgB,kBAATA,GACS,sBAATA,GACS,2BAATA,GACS,cAATA,GACS,qBAATA,GAES,sBAATA,GACS,oBAATA,GACS,wBAATA,CACT,CAOA,SAASmF,EAAuBC,EAAKC,GACV,oBAAdC,YAA8BV,OAAOC,yBAAyBS,WAAYF,IACnFR,OAAOE,eAAeQ,WAAYF,EAAK,CACrCL,cAAc,EACd,GAAAQ,GACEF,GAEF,GAGN,CAEA,SAASG,EAAcJ,EAAKK,GAC1BN,EAAuBC,GAAK,KAC1BM,GAAS,KAAKN,4CAA8CK,IAAM,GAEtE,CAKA,SAASE,EAAqBP,GAC5BD,EAAuBC,GAAK,KAG1B,IAAIK,EAAM,KAAKL,mJAIXQ,EAAgBR,EACfQ,EAAc1B,WAAW,OAC5B0B,EAAgB,IAAMR,GAExBK,GAAO,8CAA8CG,MACjDV,EAA4BE,KAC9BK,GAAO,4FAETC,GAASD,EAAI,IAKfI,EAAwBT,EAC1B,CAEA,SAASS,EAAwBT,GAC1BR,OAAOC,yBAAyBxG,EAAQ+G,IAC3CR,OAAOE,eAAezG,EAAQ+G,EAAK,CACjCL,cAAc,EACd,GAAAQ,GACE,IAAIE,EAAM,IAAIL,mFACVF,EAA4BE,KAC9BK,GAAO,4FAETzB,GAAMyB,EACR,GAGN,CAOA,SAASK,IACP,IAAIC,EAAIrD,EAAWsD,OACnB7C,EAAQ,IAAI8C,UAAUF,GACtB1C,EAAS,IAAI6C,WAAWH,GACxB3C,EAAS,IAAItB,WAAWiE,GACxBzC,EAAU,IAAI6C,YAAYJ,GAC1BxC,EAAS,IAAI6C,WAAWL,GACxBvC,EAAU,IAAI6C,YAAYN,GAC1BtC,EAAU,IAAI6C,aAAaP,GAC3BnC,EAAU,IAAI2C,aAAaR,GAC3BrC,EAAS,IAAI8C,cAAcT,GAC3BpC,EAAU,IAAI8C,eAAeV,EAC/B,CAMA,SAASW,IACP,GAAIrI,EAAO,UAAW,CACW,mBAApBA,EAAO,YAAyBA,EAAO,UAAY,CAACA,EAAO,YACtE,MAAOA,EAAO,UAAU8C,OACtBwF,GAAYtI,EAAO,UAAUuI,QAEjC,CACAlC,EAAmB,UAEnBmC,GAAqBC,GAEvB,CAEA,SAASC,IACPlG,GAAQoD,GACRA,GAAqB,EAErBK,IAEA0C,KAGK3I,EAAO,aAAgB4I,GAAGC,aAAaD,GAAGE,OACjDC,GAAID,OAGFE,GAAY,uBAGZJ,GAAGK,mBAAoB,CAEzB,CAEA,SAASC,IACPjD,GAEF,CAEA,SAASkD,IAIP,GAHAlD,IAGIjG,EAAO,WAAY,CACW,mBAArBA,EAAO,aAA0BA,EAAO,WAAa,CAACA,EAAO,aACxE,MAAOA,EAAO,WAAW8C,OACvBsG,GAAapJ,EAAO,WAAWuI,QAEnC,CACAlC,EAAmB,WAGnBmC,GAAqBa,GAEvB,CAnLA,MACE,IAAIC,EAAM,IAAIzB,WAAW,GACrB0B,EAAK,IAAI3B,UAAU0B,EAAI3B,QAE3B,GADA2B,EAAI,GAAK,MACK,MAAVC,EAAG,IAAyB,KAAVA,EAAG,GAAa,KAAM,mGAC7C,EALD,GA6DApC,EAAc,SAAU,gDACxBA,EAAc,MAAO,kCA6DrB3E,EAA4B,oBAAduF,YAAqD,qBAAjBG,mBAAiE/G,GAAjC4G,WAAWyB,UAAUC,eAAqDtI,GAA5B4G,WAAWyB,UAAU7C,IAC9I,uDAgEP,IAmHI+C,EAnHAC,GAAkB,EAClBC,GAAwB,KACxBC,GAAwB,CAAC,EACzBC,GAAuB,KAE3B,SAASC,GAAuBC,GAC9B,IAAIC,EAAOD,EACX,MAAO,EAAG,CACR,IAAKH,GAAsBG,GAAK,OAAOA,EACvCA,EAAKC,EAAOC,KAAKC,QACnB,CACF,CAEA,SAASC,GAAiBJ,GACxBL,KAEA3J,EAAO,4BAA4B2J,IAE/BK,GACFxH,GAAQqH,GAAsBG,IAC9BH,GAAsBG,GAAM,EACC,OAAzBF,IAAuD,oBAAfO,cAE1CP,GAAuBO,aAAY,KACjC,GAAI7E,EAGF,OAFA8E,cAAcR,SACdA,GAAuB,MAGzB,IAAIS,GAAQ,EACZ,IAAK,IAAIC,KAAOX,GACTU,IACHA,GAAQ,EACR7F,EAAI,uCAENA,EAAI,eAAe8F,KAEjBD,GACF7F,EAAI,gBACN,GACC,OAGLA,EAAI,2CAER,CAEA,SAAS+F,GAAoBT,GAW3B,GAVAL,KAEA3J,EAAO,4BAA4B2J,IAE/BK,GACFxH,EAAOqH,GAAsBG,WACtBH,GAAsBG,IAE7BtF,EAAI,8CAEiB,GAAnBiF,KAC2B,OAAzBG,KACFQ,cAAcR,IACdA,GAAuB,MAErBF,IAAuB,CACzB,IAAIc,EAAWd,GACfA,GAAwB,KACxBc,GACF,CAEJ,CAGA,SAAS/E,GAAMgF,GACb3K,EAAO,aAAa2K,GAEpBA,EAAO,WAAaA,EAAO,IAG3BjG,EAAIiG,GAEJnF,GAAQ,EAgBR,IAAIoF,EAAI,IAAIhG,YAAYiG,aAAaF,GAKrC,MAAMC,CACR,CAEA,SAASE,GAAoBnJ,EAAMoJ,GACjC,MAAO,IAAIC,KACTxI,EAAOoD,EAAoB,qBAAqBjE,4CAChD,IAAIsJ,EAAIjC,GAAYrH,GAIpB,OAHAa,EAAOyI,EAAG,8BAA8BtJ,iBAExCa,EAAOwI,EAAKlI,QAAUiI,EAAO,qBAAqBpJ,mBAAsBqJ,EAAKlI,2BAA2BiI,KACjGE,KAAKD,EAAK,CAErB,CAIA,SAASE,KACL,OAAO1J,EAAW,kBACtB,CAEA,SAAS2J,GAAcC,GACrB,GAAIA,GAAQ1B,GAAkBtF,EAC5B,OAAO,IAAIX,WAAWW,GAExB,GAAI9C,EACF,OAAOA,EAAW8J,GAEpB,KAAM,iDACR,CAEAzI,eAAe0I,GAAcC,GAE3B,IAAKlH,EAEH,IACE,IAAIN,QAAiBzC,EAAUiK,GAC/B,OAAO,IAAI7H,WAAWK,EACxB,CAAE,MAEF,CAIF,OAAOqH,GAAcG,EACvB,CAEA3I,eAAe4I,GAAuBD,EAAYE,GAChD,IACE,IAAI5I,QAAeyI,GAAcC,GAC7BG,QAAiB7G,YAAY8G,YAAY9I,EAAQ4I,GACrD,OAAOC,CACT,CAAE,MAAOE,GACPjH,EAAI,0CAA0CiH,KAG1CvJ,EAAUsH,IACZhF,EAAI,qCAAqCgF,mMAE3C/D,GAAMgG,EACR,CACF,CAEAhJ,eAAeiJ,GAAiBhJ,EAAQ0I,EAAYE,GAClD,IAAK5I,GAAqD,mBAApCgC,YAAYiH,uBAE1BzJ,EAAUkJ,KAOVjL,EAEN,IACE,IAAIyD,EAAWE,MAAMsH,EAAY,CAAErH,YAAa,gBAC5C6H,QAA4BlH,YAAYiH,qBAAqB/H,EAAU0H,GAC3E,OAAOM,CACT,CAAE,MAAOH,GAGPjH,EAAI,kCAAkCiH,KACtCjH,EAAI,4CAEN,CAEF,OAAO6G,GAAuBD,EAAYE,EAC5C,CAEA,SAASO,KAEP,MAAO,CACL,IAAOC,GACP,uBAA0BA,GAE9B,CAIArJ,eAAesJ,KAKb,SAASC,EAAgBT,EAAUzI,GAejC,OAdAgG,GAAcyC,EAASU,QAIvB9H,EAAa2E,GAAY,UAEzBxG,EAAO6B,EAAY,oCACnBoD,IAEA2E,GAAYpD,GAAY,6BAExBxG,EAAO4J,GAAW,mCAElB3B,GAAoB,oBACbzB,EACT,CAEAoB,GAAiB,oBAMjB,IAAIiC,EAAarM,EACjB,SAASsM,EAA2BC,GAOlC,OAJA/J,EAAOxC,IAAWqM,EAAY,oHAC9BA,EAAa,KAGNH,EAAgBK,EAAO,YAChC,CAEA,IAAIC,EAAOT,KAQX,GAAI/L,EAAO,mBACT,OAAO,IAAI0D,SAAQ,CAACC,EAASC,KAC3B,IACE5D,EAAO,mBAAmBwM,GAAM,CAACC,EAAKC,KACpC/I,EAAQuI,EAAgBO,EAAKC,GAAM,GAEvC,CAAE,MAAM9B,GACNlG,EAAI,sDAAsDkG,KAC1DhH,EAAOgH,EACT,KAIJlB,IAAmBwB,KACjB,IAAIqB,QAAeX,GAAiBxH,EAAYsF,EAAgB8C,GAC5DL,EAAUG,EAA2BC,GACzC,OAAOJ,CACX,CAOE,MAAMQ,GACFhL,KAAO,aACP,WAAAiL,CAAY/L,GACVgM,KAAKC,QAAU,gCAAgCjM,KAC/CgM,KAAKhM,OAASA,CAChB,EAGJ,IAAI2H,GAAwBuE,IACxB,MAAOA,EAAUjK,OAAS,EAExBiK,EAAUxE,OAAVwE,CAAkB/M,EACpB,EAEAqJ,GAAa,GACbD,GAAgB4D,GAAO3D,GAAW4D,KAAKD,GAEvCvE,GAAY,GACZH,GAAe0E,GAAOvE,GAAUwE,KAAKD,GAuBzC,IAAIE,IAAgB,EAEhB9G,GAAe+G,IACf3K,EAAsB,kBAAR2K,GAEdA,KAAS,EACF,KAAOA,EAAIC,SAAS,IAAIC,SAAS,EAAG,MAG3C1E,GAAiB,KACjB,IAAI2E,EAAWC,KACXC,EAAYxH,KAChByH,GAAoBH,EAAUE,EAAU,EAwB5C,IAIInG,GAAY3B,IACZ2B,GAASkD,QAAU,CAAC,EACflD,GAASkD,MAAM7E,KAClB2B,GAASkD,MAAM7E,GAAQ,EACnBrF,IAAqBqF,EAAO,YAAcA,GAC9ChB,EAAIgB,GACN,EAGAgI,GAAoC,oBAAfC,YAA6B,IAAIA,iBAAgBxM,EAWtEyM,GAAoB,CAACC,EAAaC,EAAM,EAAGC,EAAiBC,OAC5D,IAAIC,EAASH,EAAMC,EACfG,EAASJ,EAMb,MAAOD,EAAYK,MAAaA,GAAUD,KAAWC,EAErD,GAAIA,EAASJ,EAAM,IAAMD,EAAYlG,QAAU+F,GAC7C,OAAOA,GAAYS,OAAON,EAAYpE,SAASqE,EAAKI,IAEtD,IAAIE,EAAM,GAGV,MAAON,EAAMI,EAAQ,CAKnB,IAAIG,EAAKR,EAAYC,KACrB,GAAW,IAALO,EAAN,CACA,IAAIC,EAA0B,GAArBT,EAAYC,KACrB,GAAmB,MAAT,IAALO,GAAL,CACA,IAAIE,EAA0B,GAArBV,EAAYC,KAQrB,GAPmB,MAAT,IAALO,GACHA,GAAY,GAALA,IAAY,GAAOC,GAAM,EAAKC,GAElB,MAAT,IAALF,IAAoBhH,GAAS,8BAAgCjB,GAAYiI,GAAM,iFACpFA,GAAY,EAALA,IAAW,GAAOC,GAAM,GAAOC,GAAM,EAA2B,GAArBV,EAAYC,MAG5DO,EAAK,MACPD,GAAOI,OAAOC,aAAaJ,OACtB,CACL,IAAIK,EAAKL,EAAK,MACdD,GAAOI,OAAOC,aAAa,MAAUC,GAAM,GAAK,MAAe,KAALA,EAC5D,CAdwF,MAA7DN,GAAOI,OAAOC,cAAoB,GAALJ,IAAY,EAAKC,EAFX,MAA1CF,GAAOI,OAAOC,aAAaJ,EAiBjD,CACA,OAAOD,CAAG,EAkBVO,GAAe,CAACxB,EAAKY,KACrBvL,EAAqB,iBAAP2K,EAAiB,6CAA6CA,MACrEA,EAAMS,GAAkB7I,EAAQoI,EAAKY,GAAkB,IAE9Da,GAAiB,CAACnJ,EAAWtD,EAAU0M,EAAM7H,IAC7CrB,GAAM,qBAAqBgJ,GAAalJ,WAAqB,CAACtD,EAAWwM,GAAaxM,GAAY,mBAAoB0M,EAAM7H,EAAO2H,GAAa3H,GAAQ,qBAE5J,MAAM8H,GAEF,WAAAlC,CAAYmC,GACVlC,KAAKkC,OAASA,EACdlC,KAAKM,IAAM4B,EAAS,EACtB,CAEA,QAAAC,CAASvO,GACP0E,EAAW0H,KAAQ,IAAE,GAAM,GAAMpM,CACnC,CAEA,QAAAwO,GACE,OAAO9J,EAAW0H,KAAQ,IAAE,GAAM,EACpC,CAEA,cAAAqC,CAAeC,GACbhK,EAAW0H,KAAQ,IAAE,GAAM,GAAMsC,CACnC,CAEA,cAAAC,GACE,OAAOjK,EAAW0H,KAAQ,IAAE,GAAM,EACpC,CAEA,UAAAwC,CAAWC,GACTA,EAASA,EAAS,EAAI,EACtBxK,EAAO+H,KAAQ,IAAE,IAAQyC,CAC3B,CAEA,UAAAC,GACE,OAAiC,GAA1BzK,EAAO+H,KAAQ,IAAE,GAC1B,CAEA,YAAA2C,CAAaC,GACXA,EAAWA,EAAW,EAAI,EAC1B3K,EAAO+H,KAAQ,IAAE,IAAQ4C,CAC3B,CAEA,YAAAC,GACE,OAAiC,GAA1B5K,EAAO+H,KAAQ,IAAE,GAC1B,CAGA,IAAA/D,CAAKrI,EAAM0O,GACTtC,KAAK8C,iBAAiB,GACtB9C,KAAKmC,SAASvO,GACdoM,KAAKqC,eAAeC,EACtB,CAEA,gBAAAQ,CAAiBC,GACfzK,EAAW0H,KAAQ,IAAE,IAAO,GAAM+C,CACpC,CAEA,gBAAAC,GACE,OAAO1K,EAAW0H,KAAQ,IAAE,IAAO,EACrC,EAGJ,IAGIiD,GAAe,CAAC3C,EAAK1M,EAAM0O,KAC3B,IAAI3C,EAAO,IAAIsC,GAAc3B,GAE7BX,EAAK1D,KAAKrI,EAAM0O,GAGhB3M,GAAO,EAAO,uJAAuJ,EAKrKuN,GAA4BC,IAC5B,IAAIC,EAAO1C,KACP2C,EAAMlK,KACVL,GAAM,wCAAwCS,GAAY4J,0BAC5B5J,GAAY8J,QAAU9J,GAAY6J,wEACY,EAG5EE,GAAa,IACbxK,GAAM,8BAENyK,GAAsB,CAC1B,EAEIC,GAAkBC,IAClB,MAAOA,EAAYxN,OAAQ,CACzB,IAAIqK,EAAMmD,EAAYC,MAClBC,EAAMF,EAAYC,MACtBC,EAAIrD,EACN,GAIJ,SAASsD,GAAYC,GACjB,OAAO7D,KAAK,gBAAgB1H,EAAS,GAAW,GAClD,CAEF,IAoIIwL,GApIAC,GAAuB,CAC3B,EAEIC,GAAkB,CACtB,EAEIC,GAAmB,CACvB,EAEIC,GAAgB/Q,EAAO,iBAAmB,cAA4B4B,MAAQ,WAAAgL,CAAYE,GAAWkE,MAAMlE,GAAUD,KAAKlL,KAAO,eAAiB,GAClJsP,GAAsBnE,IAAc,MAAM,IAAIiE,GAAcjE,EAAQ,EACpEoE,GAAgC,CAACC,EAASC,EAAgBC,KAG1D,SAASC,EAAWC,GAClB,IAAIC,EAAmBH,EAAkBE,GACrCC,EAAiB1O,SAAWqO,EAAQrO,QACtCmO,GAAmB,mCAErB,IAAK,IAAIQ,EAAI,EAAGA,EAAIN,EAAQrO,SAAU2O,EACpCC,GAAaP,EAAQM,GAAID,EAAiBC,GAE9C,CAVAN,EAAQQ,SAASlR,GAASqQ,GAAiBrQ,GAAQ2Q,IAYnD,IAAIG,EAAiB,IAAIK,MAAMR,EAAetO,QAC1C+O,EAAoB,GACpBC,EAAa,EACjBV,EAAeO,SAAQ,CAACI,EAAIN,KACtBZ,GAAgBmB,eAAeD,GACjCR,EAAeE,GAAKZ,GAAgBkB,IAEpCF,EAAkB5E,KAAK8E,GAClBnB,GAAqBoB,eAAeD,KACvCnB,GAAqBmB,GAAM,IAE7BnB,GAAqBmB,GAAI9E,MAAK,KAC5BsE,EAAeE,GAAKZ,GAAgBkB,KAClCD,EACEA,IAAeD,EAAkB/O,QACnCwO,EAAWC,EACb,IAEJ,IAEE,IAAMM,EAAkB/O,QAC1BwO,EAAWC,EACb,EAEAU,GAAkCC,IAClC,IAAIC,EAAM/B,GAAoB8B,UACvB9B,GAAoB8B,GAE3B,IAAIE,EAAiBD,EAAIC,eACrBC,EAAgBF,EAAIE,cACpBC,EAAeH,EAAII,OACnBC,EAAaF,EAAaG,KAAKC,GAAUA,EAAMC,mBACzCC,OAAON,EAAaG,KAAKC,GAAUA,EAAMG,sBACnD3B,GAA8B,CAACgB,GAAaM,GAAaA,IACvD,IAAID,EAAS,CAAC,EAqBd,OApBAD,EAAaX,SAAQ,CAACe,EAAOjB,KAC3B,IAAIqB,EAAYJ,EAAMI,UAClBH,EAAmBH,EAAWf,GAC9BsB,EAAWP,EAAWf,GAAGsB,SACzBC,EAASN,EAAMM,OACfC,EAAgBP,EAAMO,cACtBJ,EAAqBL,EAAWf,EAAIa,EAAaxP,QACjDoQ,EAASR,EAAMQ,OACfC,EAAgBT,EAAMS,cAC1BZ,EAAOO,GAAa,CAClBM,KAAOjG,GAAQwF,EAAiB,gBAAgBK,EAAOC,EAAe9F,IACtEkG,MAAO,CAAClG,EAAKmG,KACX,IAAIhD,EAAc,GAClB4C,EAAOC,EAAehG,EAAK0F,EAAmB,cAAcvC,EAAagD,IACzEjD,GAAeC,EAAY,EAE7ByC,WACD,IAGI,CAAC,CACNpR,KAAMwQ,EAAIxQ,KACV,aAAiBwL,IACf,IAAIoG,EAAK,CAAC,EACV,IAAK,IAAI9B,KAAKc,EACZgB,EAAG9B,GAAKc,EAAOd,GAAG2B,KAAKjG,GAGzB,OADAkF,EAAclF,GACPoG,CAAE,EAEX,WAAc,CAACjD,EAAagD,KAG1B,IAAK,IAAIR,KAAaP,EACpB,KAAMO,KAAaQ,KAAOf,EAAOO,GAAWC,SAC1C,MAAM,IAAIS,UAAU,mBAAmBV,MAG3C,IAAI3F,EAAMiF,IACV,IAAKU,KAAaP,EAChBA,EAAOO,GAAWO,MAAMlG,EAAKmG,EAAER,IAKjC,OAHoB,OAAhBxC,GACFA,EAAYrD,KAAKoF,EAAelF,GAE3BA,CAAG,EAEZsG,eAAgBC,GAChB,qBAAwBjD,GACxBkD,mBAAoBtB,GACpB,GACF,EAGFuB,GAAcC,IACd,GAAU,OAANA,EACA,MAAO,OAEX,IAAIC,SAAWD,EACf,MAAU,WAANC,GAAwB,UAANA,GAAuB,aAANA,EAC5BD,EAAEzG,WAEF,GAAKyG,CAChB,EAGAE,GAAwB,KAExB,IADA,IAAIC,EAAQ,IAAIpC,MAAM,KACbH,EAAI,EAAGA,EAAI,MAAOA,EACvBuC,EAAMvC,GAAKjD,OAAOC,aAAagD,GAEnCd,GAAmBqD,CAAK,EAGxBC,GAAoB9G,IACpB,IAAI7K,EAAM,GACN4R,EAAI/G,EACR,MAAOpI,EAAOmP,GACV5R,GAAOqO,GAAiB5L,EAAOmP,MAEnC,OAAO5R,CAAG,EAMV6R,GAAenU,EAAO,gBAAkB,cAA2B4B,MAAQ,WAAAgL,CAAYE,GAAWkE,MAAMlE,GAAUD,KAAKlL,KAAO,cAAgB,GAC9IyS,GAAqBtH,IAAc,MAAM,IAAIqH,GAAarH,EAAQ,EAEtE,SAASuH,GAAmBC,EAASC,EAAoBC,EAAU,CAAC,GAChE,IAAI7S,EAAO4S,EAAmB5S,KAI9B,GAHK2S,GACHF,GAAkB,SAASzS,kDAEzBkP,GAAgBmB,eAAesC,GAAU,CAC3C,GAAIE,EAAQC,6BACV,OAEAL,GAAkB,yBAAyBzS,WAE/C,CAKA,GAHAkP,GAAgByD,GAAWC,SACpBzD,GAAiBwD,GAEpB1D,GAAqBoB,eAAesC,GAAU,CAChD,IAAIvH,EAAY6D,GAAqB0D,UAC9B1D,GAAqB0D,GAC5BvH,EAAU4E,SAAS3E,GAAOA,KAC5B,CACF,CAEF,SAAS0E,GAAa4C,EAASC,EAAoBC,EAAU,CAAC,GAC1D,QAA0CrT,IAAtCoT,EAAmBd,eACrB,MAAM,IAAID,UAAU,2DAEtB,OAAOa,GAAmBC,EAASC,EAAoBC,EACzD,CAEF,IAAIE,GAA8B,CAAC/S,EAAMgT,EAAOC,KAE5C,OAAQD,GACJ,KAAK,EAAG,OAAOC,EACVlE,GAAY5L,EAAM4L,GAClBA,GAAY3L,EAAO2L,GACxB,KAAK,EAAG,OAAOkE,EACVlE,GAAY1L,EAAQ,GAAW,GAC/B0L,GAAYzL,EAAS,GAAW,GACrC,KAAK,EAAG,OAAO2P,EACVlE,GAAYxL,EAAQ,GAAW,GAC/BwL,GAAYvL,EAAS,GAAW,GACrC,KAAK,EAAG,OAAOyP,EACVlE,GAAYrL,EAAQ,GAAW,GAC/BqL,GAAYpL,EAAS,GAAW,GACrC,QACI,MAAM,IAAIkO,UAAU,0BAA0BmB,OAAWhT,KACjE,EAGAkT,GAA2B,CAACC,EAAenT,EAAMoT,EAAMC,EAAUC,KACjEtT,EAAOsS,GAAiBtS,GAExB,IAAIuT,GAAwC,GAAtBvT,EAAKwT,QAAQ,KAG/BD,IACFD,GAAY,IAAM,KAAO,IAG3BvD,GAAaoD,EAAe,CAC1BnT,OACA,aAAiByT,GAAUA,EAC3B,WAAc,SAAS9E,EAAa8E,GAClC,GAAoB,iBAATA,GAAqC,iBAATA,EACrC,MAAM,IAAI5B,UAAU,mBAAmBI,GAAWwB,UAAcvI,KAAKlL,QAKvE,GAHoB,iBAATyT,IACTA,EAAQC,OAAOD,IAEbA,EAAQJ,GAAYI,EAAQH,EAC9B,MAAM,IAAIzB,UAAU,qBAAqBI,GAAWwB,0DAA8DzT,yCAA4CqT,MAAaC,OAE7K,OAAOG,CACT,EACA3B,eAAgBC,GAChB,qBAAwBgB,GAA4B/S,EAAMoT,GAAOG,GACjEvB,mBAAoB,MACpB,EAKFD,GAAsB,EAEtB4B,GAAyB,CAAChB,EAAS3S,EAAM4T,EAAWC,KACpD7T,EAAOsS,GAAiBtS,GACxB+P,GAAa4C,EAAS,CAClB3S,OACA,aAAgB,SAAS8T,GAGrB,QAASA,CACb,EACA,WAAc,SAASnF,EAAagD,GAChC,OAAOA,EAAIiC,EAAYC,CAC3B,EACA/B,eAAgBC,GAChB,qBAAwB,SAAShD,GAC7B,OAAO7D,KAAK,gBAAgB9H,EAAO2L,GACvC,EACAiD,mBAAoB,MACtB,EAKF+B,GAA8BpC,IACvB,CACLqC,MAAOrC,EAAEqC,MACTC,gBAAiBtC,EAAEsC,gBACnBC,wBAAyBvC,EAAEuC,wBAC3B1I,IAAKmG,EAAEnG,IACP2I,QAASxC,EAAEwC,QACXC,SAAUzC,EAAEyC,SACZC,aAAc1C,EAAE0C,eAIlBC,GAA+BC,IAC/B,SAASC,EAAoBC,GAC3B,OAAOA,EAAOC,GAAGP,QAAQQ,gBAAgB3U,IAC3C,CACAyS,GAAkB+B,EAAoBD,GAAO,4BAA4B,EAGzEK,IAAuB,EAEvBC,GAAmBJ,IAAD,EAElBK,GAAiBJ,IACbA,EAAGN,SACLM,EAAGL,aAAa3D,cAAcgE,EAAGN,UAEjCM,EAAGP,QAAQQ,gBAAgBjE,cAAcgE,EAAGlJ,IAC9C,EAEAuJ,GAAsBL,IACtBA,EAAGV,MAAMP,OAAS,EAClB,IAAIuB,EAAW,IAAMN,EAAGV,MAAMP,MAC1BuB,GACFF,GAAcJ,EAChB,EAGAO,GAAkB,CAACzJ,EAAK0J,EAAUC,KAClC,GAAID,IAAaC,EACf,OAAO3J,EAET,QAAIhM,IAAc2V,EAAaC,UAC7B,OAAO,KAGT,IAAIxD,EAAKqD,GAAgBzJ,EAAK0J,EAAUC,EAAaC,WACrD,OAAW,OAAPxD,EACK,KAEFuD,EAAaE,SAASzD,EAAG,EAGhC0D,GAAqB,CACzB,EAEIC,GAAsB,CAC1B,EAEIC,GAAmB,CAACC,EAAQjK,UAChBhM,IAARgM,GACAiH,GAAkB,+BAEtB,MAAOgD,EAAOL,UACV5J,EAAMiK,EAAOC,OAAOlK,GACpBiK,EAASA,EAAOL,UAEpB,OAAO5J,CAAG,EAEVmK,GAAuB,CAACF,EAAQjK,KAChCA,EAAMgK,GAAiBC,EAAQjK,GACxB+J,GAAoB/J,IAI3BoK,GAAkB,CAAC/N,EAAWgO,KACzBA,EAAO1B,SAAY0B,EAAOrK,KAC7B8D,GAAmB,4CAErB,IAAIwG,IAAoBD,EAAOxB,aAC3B0B,IAAgBF,EAAOzB,SAK3B,OAJI0B,IAAoBC,GACtBzG,GAAmB,oDAErBuG,EAAO7B,MAAQ,CAAEP,MAAO,GACjBuC,GAAgBpR,OAAOqR,OAAOpO,EAAW,CAC9C6M,GAAI,CACFjB,MAAOoC,EACPK,UAAU,KAEX,EAGP,SAASC,GAA+B3K,GAIpC,IAAI4K,EAAalL,KAAKmL,WAAW7K,GACjC,IAAK4K,EAEH,OADAlL,KAAKsC,WAAWhC,GACT,KAGT,IAAIoH,EAAqB+C,GAAqBzK,KAAKyJ,gBAAiByB,GACpE,QAAI5W,IAAcoT,EAAoB,CAEpC,GAAI,IAAMA,EAAmB8B,GAAGV,MAAMP,MAGpC,OAFAb,EAAmB8B,GAAGlJ,IAAM4K,EAC5BxD,EAAmB8B,GAAGN,SAAW5I,EAC1BoH,EAAmB,WAI1B,IAAIhB,EAAKgB,EAAmB,WAE5B,OADA1H,KAAKsC,WAAWhC,GACToG,CAEX,CAEA,SAAS0E,IACP,OAAIpL,KAAKqL,eACAX,GAAgB1K,KAAKyJ,gBAAgB6B,kBAAmB,CAC7DrC,QAASjJ,KAAKuL,YACdjL,IAAK4K,EACL/B,aAAcnJ,KACdkJ,SAAU5I,IAGLoK,GAAgB1K,KAAKyJ,gBAAgB6B,kBAAmB,CAC7DrC,QAASjJ,KACTM,OAGN,CAEA,IAMIkL,EANAC,EAAazL,KAAKyJ,gBAAgBiC,cAAcR,GAChDS,EAA0BvB,GAAmBqB,GACjD,IAAKE,EACH,OAAOP,EAAkBQ,KAAK5L,MAK9BwL,EADExL,KAAK6L,QACEF,EAAwBG,iBAExBH,EAAwBI,YAEnC,IAAIC,EAAKjC,GACLmB,EACAlL,KAAKyJ,gBACL+B,EAAO/B,iBACX,OAAW,OAAPuC,EACKZ,EAAkBQ,KAAK5L,MAE5BA,KAAKqL,eACAX,GAAgBc,EAAO/B,gBAAgB6B,kBAAmB,CAC/DrC,QAASuC,EACTlL,IAAK0L,EACL7C,aAAcnJ,KACdkJ,SAAU5I,IAGLoK,GAAgBc,EAAO/B,gBAAgB6B,kBAAmB,CAC/DrC,QAASuC,EACTlL,IAAK0L,GAGX,CACF,IAoDIC,GApDAnB,GAAmBvB,GACf,qBAAuB2C,sBACzBpB,GAAmBvB,GAAWA,EACvBA,IAMTG,GAAuB,IAAIwC,sBAAsBvM,IAC/CjI,QAAQyU,KAAKxM,EAAKyM,aAClBvC,GAAmBlK,EAAK6J,GAAG,IAE7BsB,GAAmBvB,IACjB,IAAIC,EAAKD,EAAOC,GACZqB,IAAgBrB,EAAGN,SACvB,GAAI2B,EAAa,CAEf,IAAIlL,EAAO,CAAE6J,GAAIA,GAKb6C,EAAM7C,EAAGP,QAAQQ,gBACjB5R,EAAM,IAAI9C,MAAM,sCAAsCsX,EAAIvX,SAASyE,GAAYiQ,EAAGlJ,mOAIlF,sBAAuBvL,OACzBA,MAAMuX,kBAAkBzU,EAAKoT,IAE/BtL,EAAKyM,YAAcvU,EAAI0U,MAAMrW,QAAQ,WAAY,IACjDwT,GAAqB8C,SAASjD,EAAQ5J,EAAM4J,EAC9C,CACA,OAAOA,CAAM,EAEfI,GAAmBJ,GAAWG,GAAqB+C,WAAWlD,GACvDuB,GAAgBvB,IAMvBmD,GAAgB,GAChBC,GAAsB,KACtB,MAAOD,GAAczW,OAAQ,CAC3B,IAAIoT,EAAMqD,GAAchJ,MACxB2F,EAAIG,GAAGT,iBAAkB,EACzBM,EAAI,WACN,GAIAuD,GAAmB,KACnB,IAAIC,EAAQC,GAAYnQ,UAExBjD,OAAOqT,OAAOF,EAAO,CACnB,UAAYG,GACV,KAAMhN,gBAAgB8M,IACpB,OAAO,EAET,KAAME,aAAiBF,IACrB,OAAO,EAGT,IAAIG,EAAYjN,KAAKwJ,GAAGP,QAAQQ,gBAC5ByD,EAAOlN,KAAKwJ,GAAGlJ,IACnB0M,EAAMxD,GAA4BwD,EAAQ,GAC1C,IAAIG,EAAaH,EAAMxD,GAAGP,QAAQQ,gBAC9B2D,EAAQJ,EAAMxD,GAAGlJ,IAErB,MAAO2M,EAAU/C,UACfgD,EAAOD,EAAUzC,OAAO0C,GACxBD,EAAYA,EAAU/C,UAGxB,MAAOiD,EAAWjD,UAChBkD,EAAQD,EAAW3C,OAAO4C,GAC1BD,EAAaA,EAAWjD,UAG1B,OAAO+C,IAAcE,GAAcD,IAASE,CAC9C,EAEA,QAKE,GAJKpN,KAAKwJ,GAAGlJ,KACX8I,GAA4BpJ,MAG1BA,KAAKwJ,GAAGR,wBAEV,OADAhJ,KAAKwJ,GAAGV,MAAMP,OAAS,EAChBvI,KAEP,IAAIqN,EAAQvC,GAAgBpR,OAAOqR,OAAOrR,OAAO4T,eAAetN,MAAO,CACrEwJ,GAAI,CACFjB,MAAOM,GAA2B7I,KAAKwJ,QAM3C,OAFA6D,EAAM7D,GAAGV,MAAMP,OAAS,EACxB8E,EAAM7D,GAAGT,iBAAkB,EACpBsE,CAEX,EAEA,SACOrN,KAAKwJ,GAAGlJ,KACX8I,GAA4BpJ,MAG1BA,KAAKwJ,GAAGT,kBAAoB/I,KAAKwJ,GAAGR,yBACtCzB,GAAkB,yCAGpBoC,GAAgB3J,MAChB6J,GAAmB7J,KAAKwJ,IAEnBxJ,KAAKwJ,GAAGR,0BACXhJ,KAAKwJ,GAAGN,cAAW5U,EACnB0L,KAAKwJ,GAAGlJ,SAAMhM,EAElB,EAEA,YACE,OAAQ0L,KAAKwJ,GAAGlJ,GAClB,EAEA,cAYE,OAXKN,KAAKwJ,GAAGlJ,KACX8I,GAA4BpJ,MAE1BA,KAAKwJ,GAAGT,kBAAoB/I,KAAKwJ,GAAGR,yBACtCzB,GAAkB,yCAEpBmF,GAActM,KAAKJ,MACU,IAAzB0M,GAAczW,QAAgBgW,IAChCA,GAAcU,IAEhB3M,KAAKwJ,GAAGT,iBAAkB,EACnB/I,IACT,IAIF,MAAMuN,EAAgBC,OAAOC,QACzBF,IACFV,EAAMU,GAAiBV,EAAM,UAC/B,EAGJ,SAASC,KACP,CAEF,IAAIY,GAAsB,CAAC5Y,EAAMqF,IAAST,OAAOE,eAAeO,EAAM,OAAQ,CAAEoO,MAAOzT,IAGnF6Y,GAAsB,CAACd,EAAOe,EAAYC,KAC1C,QAAIvZ,IAAcuY,EAAMe,GAAYE,cAAe,CACjD,IAAIC,EAAWlB,EAAMe,GAErBf,EAAMe,GAAc,YAAYzP,GAK9B,OAHK0O,EAAMe,GAAYE,cAAc3I,eAAehH,EAAKlI,SACvDsR,GAAkB,aAAasG,kDAA0D1P,EAAKlI,6BAA6B4W,EAAMe,GAAYE,mBAExIjB,EAAMe,GAAYE,cAAc3P,EAAKlI,QAAQ+X,MAAMhO,KAAM7B,EAClE,EAEA0O,EAAMe,GAAYE,cAAgB,GAClCjB,EAAMe,GAAYE,cAAcC,EAASE,UAAYF,CACvD,GAIAG,GAAqB,CAACpZ,EAAMyT,EAAO4F,KAC/Bhb,EAAOgS,eAAerQ,UACpBR,IAAc6Z,QAAiB7Z,IAAcnB,EAAO2B,GAAMgZ,oBAAiBxZ,IAAcnB,EAAO2B,GAAMgZ,cAAcK,KACtH5G,GAAkB,gCAAgCzS,YAKpD6Y,GAAoBxa,EAAQ2B,EAAMA,GAC9B3B,EAAO2B,GAAMgZ,cAAc3I,eAAegJ,IAC5C5G,GAAkB,uFAAuF4G,OAG3Ghb,EAAO2B,GAAMgZ,cAAcK,GAAgB5F,IAE3CpV,EAAO2B,GAAQyT,EACfpV,EAAO2B,GAAMmZ,SAAWE,EAC1B,EAGAC,GAAS,GAETC,GAAS,GACTC,GAAyBxZ,IACzBa,EAAuB,kBAATb,GACdA,EAAOA,EAAKoB,QAAQ,iBAAkB,KACtC,IAAIkI,EAAItJ,EAAKyZ,WAAW,GACxB,OAAInQ,GAAKgQ,IAAUhQ,GAAKiQ,GACf,IAAIvZ,IAENA,CAAI,EAKf,SAAS0Z,GAAgB1Z,EACIiL,EACAuL,EACA9F,EACA0E,EACAwB,EACAlB,EACAL,GACzBnK,KAAKlL,KAAOA,EACZkL,KAAKD,YAAcA,EACnBC,KAAKsL,kBAAoBA,EACzBtL,KAAKwF,cAAgBA,EACrBxF,KAAKkK,UAAYA,EACjBlK,KAAK0L,cAAgBA,EACrB1L,KAAKwK,OAASA,EACdxK,KAAKmK,SAAWA,EAChBnK,KAAKyO,qBAAuB,EAC9B,CAGF,IAAIC,GAAgB,CAACpO,EAAK0J,EAAUC,KAChC,MAAOD,IAAaC,EACbD,EAASQ,QACZjD,GAAkB,gCAAgC0C,EAAanV,4BAA4BkV,EAASlV,QAEtGwL,EAAM0J,EAASQ,OAAOlK,GACtB0J,EAAWA,EAASE,UAEtB,OAAO5J,CAAG,EAGd,SAASqO,GAAoClL,EAAa8F,GACtD,GAAe,OAAXA,EAIF,OAHIvJ,KAAK4O,aACPrH,GAAkB,uBAAuBvH,KAAKlL,QAEzC,EAGJyU,EAAOC,IACVjC,GAAkB,gBAAgBR,GAAWwC,YAAiBvJ,KAAKlL,QAEhEyU,EAAOC,GAAGlJ,KACbiH,GAAkB,mDAAmDvH,KAAKlL,QAE5E,IAAI+Z,EAActF,EAAOC,GAAGP,QAAQQ,gBAChCnJ,EAAMoO,GAAcnF,EAAOC,GAAGlJ,IAAKuO,EAAa7O,KAAKyJ,iBACzD,OAAOnJ,CACT,CAIF,SAASwO,GAAyBrL,EAAa8F,GAC3C,IAAIjJ,EACJ,GAAe,OAAXiJ,EAKF,OAJIvJ,KAAK4O,aACPrH,GAAkB,uBAAuBvH,KAAKlL,QAG5CkL,KAAKqL,gBACP/K,EAAMN,KAAKuF,iBACS,OAAhB9B,GACFA,EAAYrD,KAAKJ,KAAKwF,cAAelF,GAEhCA,GAEA,EAINiJ,GAAWA,EAAOC,IACrBjC,GAAkB,gBAAgBR,GAAWwC,YAAiBvJ,KAAKlL,QAEhEyU,EAAOC,GAAGlJ,KACbiH,GAAkB,mDAAmDvH,KAAKlL,SAEvEkL,KAAK6L,SAAWtC,EAAOC,GAAGP,QAAQ4C,SACrCtE,GAAkB,mCAAoCgC,EAAOC,GAAGL,aAAeI,EAAOC,GAAGL,aAAarU,KAAOyU,EAAOC,GAAGP,QAAQnU,0BAA2BkL,KAAKlL,QAEjK,IAAI+Z,EAActF,EAAOC,GAAGP,QAAQQ,gBAGpC,GAFAnJ,EAAMoO,GAAcnF,EAAOC,GAAGlJ,IAAKuO,EAAa7O,KAAKyJ,iBAEjDzJ,KAAKqL,eAQP,YAJI/W,IAAciV,EAAOC,GAAGN,UAC1B3B,GAAkB,mDAGZvH,KAAK+O,eACX,KAAK,EAECxF,EAAOC,GAAGL,eAAiBnJ,KAC7BM,EAAMiJ,EAAOC,GAAGN,SAEhB3B,GAAkB,mCAAoCgC,EAAOC,GAAGL,aAAeI,EAAOC,GAAGL,aAAarU,KAAOyU,EAAOC,GAAGP,QAAQnU,0BAA2BkL,KAAKlL,QAEjK,MAEF,KAAK,EACHwL,EAAMiJ,EAAOC,GAAGN,SAChB,MAEF,KAAK,EACH,GAAIK,EAAOC,GAAGL,eAAiBnJ,KAC7BM,EAAMiJ,EAAOC,GAAGN,aACX,CACL,IAAI8F,EAAezF,EAAO,WAC1BjJ,EAAMN,KAAKiP,SACT3O,EACA4O,GAAMC,UAAS,IAAMH,EAAa,eAEhB,OAAhBvL,GACFA,EAAYrD,KAAKJ,KAAKwF,cAAelF,EAEzC,CACA,MAEF,QACEiH,GAAkB,+BAGxB,OAAOjH,CACT,CAIF,SAAS8O,GAAuC3L,EAAa8F,GACzD,GAAe,OAAXA,EAIF,OAHIvJ,KAAK4O,aACPrH,GAAkB,uBAAuBvH,KAAKlL,QAEzC,EAGJyU,EAAOC,IACVjC,GAAkB,gBAAgBR,GAAWwC,YAAiBvJ,KAAKlL,QAEhEyU,EAAOC,GAAGlJ,KACbiH,GAAkB,mDAAmDvH,KAAKlL,QAExEyU,EAAOC,GAAGP,QAAQ4C,SAClBtE,GAAkB,mCAAmCgC,EAAOC,GAAGP,QAAQnU,0BAA0BkL,KAAKlL,QAE1G,IAAI+Z,EAActF,EAAOC,GAAGP,QAAQQ,gBAChCnJ,EAAMoO,GAAcnF,EAAOC,GAAGlJ,IAAKuO,EAAa7O,KAAKyJ,iBACzD,OAAOnJ,CACT,CAKF,IAAI+O,GAAyB,KACzB3V,OAAOqT,OAAOuC,GAAkB3S,UAAW,CACzC,UAAAwO,CAAW7K,GAIT,OAHIN,KAAKuP,gBACPjP,EAAMN,KAAKuP,cAAcjP,IAEpBA,CACT,EACA,UAAAgC,CAAWhC,GACTN,KAAKwF,gBAAgBlF,EACvB,EACAsG,eAAgBC,GAChB,qBAAwBjD,GACxB,aAAgBqH,IAChB,EAUN,SAASqE,GACLxa,EACA2U,EACAmF,EACA/C,EAGAR,EACAE,EACAwD,EACAQ,EACAhK,EACA0J,EACAzJ,GAEAxF,KAAKlL,KAAOA,EACZkL,KAAKyJ,gBAAkBA,EACvBzJ,KAAK4O,YAAcA,EACnB5O,KAAK6L,QAAUA,EAGf7L,KAAKqL,eAAiBA,EACtBrL,KAAKuL,YAAcA,EACnBvL,KAAK+O,cAAgBA,EACrB/O,KAAKuP,cAAgBA,EACrBvP,KAAKuF,eAAiBA,EACtBvF,KAAKiP,SAAWA,EAChBjP,KAAKwF,cAAgBA,EAEhB6F,QAAgD/W,IAA9BmV,EAAgBS,UASrClK,KAAK,cAAgB8O,GARjBjD,GACF7L,KAAK,cAAgB2O,GACrB3O,KAAK8G,mBAAqB,OAE1B9G,KAAK,cAAgBoP,GACrBpP,KAAK8G,mBAAqB,KAShC,CAGF,IAkBIvH,GAlBAiQ,GAAsB,CAAC1a,EAAMyT,EAAO4F,KAC/Bhb,EAAOgS,eAAerQ,IACzBsP,GAAmB,4CAGjB9P,IAAcnB,EAAO2B,GAAMgZ,oBAAiBxZ,IAAc6Z,EAC5Dhb,EAAO2B,GAAMgZ,cAAcK,GAAgB5F,GAE3CpV,EAAO2B,GAAQyT,EACfpV,EAAO2B,GAAMmZ,SAAWE,EAC1B,EAKAsB,GAAkB,GAIlBC,GAAqBC,IACrB,IAAIxV,EAAOsV,GAAgBE,GAO3B,OANKxV,IAEHsV,GAAgBE,GAAWxV,EAAOoF,GAAUlF,IAAIsV,IAGlDha,EAAO4J,GAAUlF,IAAIsV,IAAYxV,EAAM,8DAChCA,CAAI,EAEXyV,GAA0B,CAACC,EAAWC,EAAaC,GAAU,KAK7D,SAASC,IACP,IAAIC,EAAMP,GAAkBI,GAC5B,OAAOG,CACT,CAPAta,GAAQoa,EAAS,gDAEjBF,EAAYzI,GAAiByI,GAO7B,IAAIK,EAAKF,IAIT,MAHiB,mBAANE,GACP3I,GAAkB,2CAA2CsI,MAAcC,KAExEI,CAAE,EAKb,MAAMC,WAAyBpb,OAI/B,IAAIqb,GAAexc,IACf,IAAI0M,EAAM+P,GAAezc,GACrB8S,EAAKU,GAAiB9G,GAE1B,OADAgQ,GAAMhQ,GACCoG,CAAE,EAET6J,GAAwB,CAACtQ,EAASuQ,KAClC,IAAIC,EAAe,GACfC,EAAO,CAAC,EACZ,SAASC,EAAM/c,GACT8c,EAAK9c,IAGLoQ,GAAgBpQ,KAGhBqQ,GAAiBrQ,GACnBqQ,GAAiBrQ,GAAMkR,QAAQ6L,IAGjCF,EAAarQ,KAAKxM,GAClB8c,EAAK9c,IAAQ,GACf,CAGA,MAFA4c,EAAM1L,QAAQ6L,GAER,IAAIR,GAAiB,GAAGlQ,MAAcwQ,EAAa7K,IAAIwK,IAAaQ,KAAK,CAAC,OAAO,EAGvFC,GAA0B,CAACpJ,EACJqJ,EACAC,EACAC,EACAC,EACAvF,EACAwF,EACA1G,EACA2G,EACAhH,EACArV,EACAsc,EACA5L,KACvB1Q,EAAOsS,GAAiBtS,GACxB4W,EAAgBkE,GAAwBqB,EAAwBvF,GAChElB,IAAWoF,GAAwBsB,EAAiB1G,GACpDL,IAAayF,GAAwBuB,EAAmBhH,GACxD3E,EAAgBoK,GAAwBwB,EAAqB5L,GAC7D,IAAI6L,EAAoB/C,GAAsBxZ,GAE9CoZ,GAAmBmD,GAAmB,WAEpCd,GAAsB,oBAAoBzb,yBAA6B,CAACkc,GAC1E,IAEA3M,GACE,CAACoD,EAASqJ,EAAgBC,GAC1BC,EAAmB,CAACA,GAAoB,IACvC5N,IAGC,IAAI8G,EACAoH,EAHJlO,EAAOA,EAAK,GAIR4N,GACF9G,EAAY9G,EAAKqG,gBACjB6H,EAAgBpH,EAAUoB,mBAE1BgG,EAAgBxE,GAAYnQ,UAG9B,IAAIoD,EAAc2N,GAAoB5Y,GAAM,YAAYqJ,GACtD,GAAIzE,OAAO4T,eAAetN,QAAUsL,EAClC,MAAM,IAAIhE,GAAa,0BAA0BxS,KAEnD,QAAIR,IAAcmV,EAAgB8H,iBAChC,MAAM,IAAIjK,GAAa,GAAGxS,mCAE5B,IAAI0c,EAAO/H,EAAgB8H,iBAAiBpT,EAAKlI,QACjD,QAAI3B,IAAckd,EAChB,MAAM,IAAIlK,GAAa,2BAA2BxS,wCAA2CqJ,EAAKlI,uBAAuByD,OAAO+X,KAAKhI,EAAgB8H,kBAAkBhR,mCAEzK,OAAOiR,EAAKxD,MAAMhO,KAAM7B,EAC1B,IAEImN,EAAoB5R,OAAOqR,OAAOuG,EAAe,CACnDvR,YAAa,CAAEwI,MAAOxI,KAGxBA,EAAYpD,UAAY2O,EAExB,IAAI7B,EAAkB,IAAI+E,GAAgB1Z,EACAiL,EACAuL,EACA9F,EACA0E,EACAwB,EACAlB,EACAL,GAEtCV,EAAgBS,YAElBT,EAAgBS,UAAUwH,mBAAqB,GAE/CjI,EAAgBS,UAAUwH,iBAAiBtR,KAAKqJ,IAGlD,IAAIkI,EAAqB,IAAIrC,GAAkBxa,EACA2U,GACA,GACA,GACA,GAE3CmI,EAAmB,IAAItC,GAAkBxa,EAAO,IACP2U,GACA,GACA,GACA,GAEzCoI,EAAwB,IAAIvC,GAAkBxa,EAAO,UACP2U,GACA,GACA,GACA,GASlD,OAPAW,GAAmB3C,GAAW,CAC5BsE,YAAa6F,EACb9F,iBAAkB+F,GAGpBrC,GAAoB6B,EAAmBtR,GAEhC,CAAC4R,EAAoBC,EAAkBC,EAAsB,GAEvE,EAGDC,GAAsB,CAAChJ,EAAOiJ,KAE9B,IADA,IAAIC,EAAQ,GACHpN,EAAI,EAAGA,EAAIkE,EAAOlE,IAGzBoN,EAAM5R,KAAK9H,EAAU,EAAoB,EAAJsM,GAAS,IAEhD,OAAOoN,CAAK,EAQhB,SAASC,GAAoBC,GAEzB,IAAK,IAAItN,EAAI,EAAGA,EAAIsN,EAASjc,SAAU2O,EAErC,GAAoB,OAAhBsN,EAAStN,SAAkDtQ,IAAnC4d,EAAStN,GAAGkC,mBACtC,OAAO,EAGX,OAAO,CACT,CAGF,SAASqL,GAAcC,EAASC,EAASC,EAASzE,EAAWtG,GACzD,GAAI6K,EAAUC,GAAWD,EAAUE,EAAS,CAC1C,IAAIC,EAAkBF,GAAWC,EAAUD,EAAU,GAAGA,QAAcC,IACtE/K,EAAkB,YAAYsG,iBAAyBuE,yBAA+BG,IACxF,CACF,CACF,SAASC,GAAgBN,EAAUO,EAAmBC,EAAS3C,GAC3D,IAAI4C,EAAuBV,GAAoBC,GAC3CjE,EAAWiE,EAASjc,OAAS,EAC7B2c,EAAW,GACXC,EAAgB,CAAC,MACjBJ,GACFI,EAAczS,KAAK,aAErB,IAAK,IAAIwE,EAAI,EAAGA,EAAIqJ,IAAYrJ,EAC9BgO,EAASxS,KAAK,MAAMwE,KACpBiO,EAAczS,KAAK,MAAMwE,UAE3BgO,EAAWA,EAAShC,KAAK,KACzBiC,EAAgBA,EAAcjC,KAAK,KAEnC,IAAIkC,EAAgB,oBAAoBF,SAExCE,GAAiB,qFAEbH,IACFG,GAAiB,2BAGnB,IAAIC,EAAYJ,EAAuB,cAAgB,OACnDK,EAAQ,CAAC,YAAa,oBAAqB,UAAW,KAAM,iBAAkB,UAAW,cAEzFP,IACFK,GAAiB,4CAA4CC,eAG/D,IAASnO,EAAI,EAAGA,EAAIqJ,IAAYrJ,EAC9BkO,GAAiB,UAAUlO,mBAAmBA,mBAAmBmO,SAAiBnO,QAClFoO,EAAM5S,KAAK,UAAUwE,KAGvBkO,IAAkBJ,GAAW3C,EAAU,YAAY,IAAM,WAAW8C,QAIpE,GAAIF,EACFG,GAAiB,sCAEjB,IAASlO,EAAI6N,EAAkB,EAAE,EAAG7N,EAAIsN,EAASjc,SAAU2O,EAAG,CAC5D,IAAIqO,EAAmB,IAANrO,EAAU,YAAe,OAAOA,EAAI,GAAG,QACjB,OAAnCsN,EAAStN,GAAGkC,qBACdgM,GAAiB,GAAGG,UAAkBA,QACtCD,EAAM5S,KAAK,GAAG6S,UAElB,CAaF,OAVIP,IACFI,GAAiB,yDAKnBA,GAAiB,MAEjBE,EAAM5S,KAAK,gBAAiB,UAAW,WACvC0S,EAAgB,4BAA4BE,EAAM/c,kDAAkD+c,EAAM/c,kEAAkE6c,IACrK,CAACE,EAAOF,EACjB,CAEF,SAASI,GAAoBhB,GAEzB,IADA,IAAIiB,EAAmBjB,EAASjc,OAAS,EAChC2O,EAAIsN,EAASjc,OAAS,EAAG2O,GAAK,IAAKA,EAAG,CAC7C,IAAKsN,EAAStN,GAAGsB,SACf,MAEFiN,GACF,CACA,OAAOA,CACT,CAEF,SAASC,GAAqBvF,EAAWqE,EAAUmB,EAAWC,EAAgBC,EAA+BxD,GAUzG,IAAI9B,EAAWiE,EAASjc,OAEpBgY,EAAW,GACb1G,GAAkB,kFAGpB5R,GAAQoa,EAAS,gDAoBjB,IAnBA,IAAI0C,EAAqC,OAAhBP,EAAS,IAA6B,OAAdmB,EAU7CV,EAAuBV,GAAoBC,GAE3CQ,EAAgC,SAArBR,EAAS,GAAGpd,KAEvB0e,EAAmBvF,EAAW,EAC9BoE,EAAUa,GAAoBhB,GAG9BuB,EAAc,CAAC5F,EAAWtG,GAAmB+L,EAAgBC,EAAe/P,GAAgB0O,EAAS,GAAIA,EAAS,IAC7GtN,EAAI,EAAGA,EAAIqJ,EAAW,IAAKrJ,EAClC6O,EAAYrT,KAAK8R,EAAStN,EAAE,IAE9B,IAAK+N,EAEH,IAAS/N,EAAI6N,EAAkB,EAAE,EAAG7N,EAAIsN,EAASjc,SAAU2O,EAClB,OAAnCsN,EAAStN,GAAGkC,oBACd2M,EAAYrT,KAAK8R,EAAStN,GAAGkC,oBAInC2M,EAAYrT,KAAK+R,GAAeE,EAASmB,GAEzC,IAAKrV,EAAM2U,GAAiBN,GAAgBN,EAAUO,EAAmBC,EAAS3C,GAClF,IAAI2D,EAAY,IAAIC,YAAYxV,EAAM2U,EAAtB,IAAwCW,GACxD,OAAO/F,GAAoBG,EAAW6F,EACxC,CACF,IAAIE,GAAsC,CACtCC,EACA5F,EACA6F,EACAC,EACAC,EACAzO,KAEA5P,EAAOsY,EAAW,GAClB,IAAIgG,EAAcnC,GAAoB7D,EAAU6F,GAChDE,EAAUpE,GAAwBmE,EAAkBC,GAIpD3P,GAA8B,GAAI,CAACwP,IAAgBR,IACjDA,EAAYA,EAAU,GACtB,IAAIxF,EAAY,eAAewF,EAAUve,OAKzC,QAHIR,IAAc+e,EAAU5J,gBAAgB8H,mBAC1C8B,EAAU5J,gBAAgB8H,iBAAmB,SAE3Cjd,IAAc+e,EAAU5J,gBAAgB8H,iBAAiBtD,EAAW,GACtE,MAAM,IAAI3G,GAAa,8EAA8E2G,EAAS,iBAAiBoF,EAAUve,2GAY3I,OAVAue,EAAU5J,gBAAgB8H,iBAAiBtD,EAAW,GAAK,KACzDsC,GAAsB,oBAAoB8C,EAAUve,4BAA6Bmf,EAAY,EAG/F5P,GAA8B,GAAI4P,GAAc/B,IAE9CA,EAASgC,OAAO,EAAG,EAAG,MACtBb,EAAU5J,gBAAgB8H,iBAAiBtD,EAAW,GAAKmF,GAAqBvF,EAAWqE,EAAU,KAAM8B,EAASzO,GAC7G,MAEF,EAAE,GACT,EASF4O,GAAmBtE,IACnBA,EAAYA,EAAUuE,OACtB,MAAMC,EAAYxE,EAAUvH,QAAQ,KACpC,OAAmB,IAAf+L,EAAyBxE,GAC7Bla,EAAOka,EAAUyE,SAAS,KAAM,gDACzBzE,EAAU1a,MAAM,EAAGkf,GAAU,EAEpCE,GAAmC,CAACV,EACJjG,EACAK,EACA6F,EACAC,EACAS,EACAC,EACAC,EACA3E,EACA4E,KAChC,IAAIV,EAAcnC,GAAoB7D,EAAU6F,GAChDlG,EAAaxG,GAAiBwG,GAC9BA,EAAauG,GAAgBvG,GAC7B4G,EAAa5E,GAAwBmE,EAAkBS,EAAYzE,GAEnE1L,GAA8B,GAAI,CAACwP,IAAgBR,IACjDA,EAAYA,EAAU,GACtB,IAAIxF,EAAY,GAAGwF,EAAUve,QAAQ8Y,IAUrC,SAASgH,IACPrE,GAAsB,eAAe1C,yBAAkCoG,EACzE,CAVIrG,EAAW5U,WAAW,QACxB4U,EAAaJ,OAAOI,EAAWiH,UAAU,KAGvCH,GACFrB,EAAU5J,gBAAgBgF,qBAAqBrO,KAAKwN,GAOtD,IAAIf,EAAQwG,EAAU5J,gBAAgB6B,kBAClCwJ,EAASjI,EAAMe,GA+BnB,YA9BItZ,IAAcwgB,QAAWxgB,IAAcwgB,EAAOhH,eAAiBgH,EAAOC,YAAc1B,EAAUve,MAAQggB,EAAO7G,WAAaA,EAAW,GAGvI2G,EAAoB3G,SAAWA,EAAW,EAC1C2G,EAAoBG,UAAY1B,EAAUve,KAC1C+X,EAAMe,GAAcgH,IAIpBjH,GAAoBd,EAAOe,EAAYC,GACvChB,EAAMe,GAAYE,cAAcG,EAAW,GAAK2G,GAGlDvQ,GAA8B,GAAI4P,GAAc/B,IAC9C,IAAI8C,EAAiB5B,GAAqBvF,EAAWqE,EAAUmB,EAAWmB,EAAYC,EAAS1E,GAc/F,YARIzb,IAAcuY,EAAMe,GAAYE,eAElCkH,EAAe/G,SAAWA,EAAW,EACrCpB,EAAMe,GAAcoH,GAEpBnI,EAAMe,GAAYE,cAAcG,EAAW,GAAK+G,EAG3C,EAAE,IAEJ,EAAE,GACT,EAUFC,GAAe,CAACC,EAAO7B,EAAWxF,KAC5BqH,aAAiBxb,QACrB6N,GAAkB,GAAGsG,0BAAkCqH,KAEnDA,aAAiB7B,EAAU5J,gBAAgB1J,aAC/CwH,GAAkB,GAAGsG,sCAA8CqH,EAAMnV,YAAYjL,QAElFogB,EAAM1L,GAAGlJ,KACZiH,GAAkB,yCAAyCsG,uBAItDa,GAAcwG,EAAM1L,GAAGlJ,IACT4U,EAAM1L,GAAGP,QAAQQ,gBACjB4J,EAAU5J,kBAE/B0L,GAAmC,CAAC9B,EACJpN,EACAH,EACAsP,EACAjP,EACAC,EACAJ,EACAqP,EACAhP,EACAC,KAChCL,EAAYmB,GAAiBnB,GAC7BE,EAASyJ,GAAwBwF,EAAiBjP,GAElD9B,GAA8B,GAAI,CAACgP,IAAaA,IAC9CA,EAAYA,EAAU,GACtB,IAAIxF,EAAY,GAAGwF,EAAUve,QAAQmR,IACjCqP,EAAO,CACT,GAAAjb,GACEkW,GAAsB,iBAAiB1C,yBAAkC,CAAC/H,EAAkBE,GAC9F,EACAuP,YAAY,EACZ1b,cAAc,GAsChB,OAnCEyb,EAAKxb,IADHuM,EACS,IAAMkK,GAAsB,iBAAiB1C,yBAAkC,CAAC/H,EAAkBE,IAEjGgB,GAAMO,GAAkBsG,EAAY,4BAGlDnU,OAAOE,eAAeyZ,EAAU5J,gBAAgB6B,kBAAmBrF,EAAWqP,GAE9EjR,GACE,GACCgC,EAAS,CAACP,EAAkBE,GAAsB,CAACF,IACrD0K,IACC,IAAI1K,EAAmB0K,EAAM,GACzB8E,EAAO,CACT,GAAAjb,GACE,IAAIiG,EAAM2U,GAAajV,KAAMqT,EAAWxF,EAAY,WACpD,OAAO/H,EAAiB,gBAAgBK,EAAOC,EAAe9F,GAChE,EACAiV,YAAY,GAGd,GAAIlP,EAAQ,CACVA,EAASuJ,GAAwByF,EAAiBhP,GAClD,IAAIL,EAAqBwK,EAAM,GAC/B8E,EAAKxb,IAAM,SAASkN,GAClB,IAAI1G,EAAM2U,GAAajV,KAAMqT,EAAWxF,EAAY,WAChDpK,EAAc,GAClB4C,EAAOC,EAAehG,EAAK0F,EAAmB,cAAcvC,EAAauD,IACzExD,GAAeC,EACjB,CACF,CAGA,OADA/J,OAAOE,eAAeyZ,EAAU5J,gBAAgB6B,kBAAmBrF,EAAWqP,GACvE,EAAE,IAGJ,EAAE,GACT,EAIFE,GAAiB,GAEjBC,GAAgB,GAChBC,GAAkBnM,IACdA,EAAS,GAAK,MAAQkM,GAAclM,EAAS,KAC/C5T,OAAiCrB,IAA1BmhB,GAAclM,GAAuB,kCAC5CkM,GAAclM,QAAUjV,EACxBkhB,GAAepV,KAAKmJ,GACtB,EAOAoM,GAAsB,IACfF,GAAcxf,OAAS,EAAI,EAAIuf,GAAevf,OAGrD2f,GAAa,KAEbH,GAAcrV,KACZ,EAAG,OACH9L,EAAW,EACX,KAAM,GACN,EAAM,GACN,EAAO,GAETqB,EAAgC,KAAzB8f,GAAcxf,QACrB9C,EAAO,uBAAyBwiB,EAAmB,EAEnDzG,GAAQ,CACZ2G,QAAStM,IACEA,GACDhC,GAAkB,oCAAoCgC,KAG1D5T,EAAkB,IAAX4T,QAA0CjV,IAA1BmhB,GAAclM,IAAyBA,EAAS,IAAM,EAAG,mBAAmBA,KAC5FkM,GAAclM,IAE3B4F,SAAU5G,IACJ,OAAQA,GACN,UAAKjU,EAAW,OAAO,EACvB,KAAK,KAAM,OAAO,EAClB,KAAK,EAAM,OAAO,EAClB,KAAK,EAAO,OAAO,EACnB,QAAQ,CACN,MAAMiV,EAASiM,GAAe9R,OAAS+R,GAAcxf,OAGrD,OAFAwf,GAAclM,GAAUhB,EACxBkN,GAAclM,EAAS,GAAK,EACrBA,CACT,EACF,GAKFuM,GAAY,CACZhhB,KAAM,kBACN,aAAiByU,IACf,IAAI7C,EAAKwI,GAAM2G,QAAQtM,GAEvB,OADAmM,GAAenM,GACR7C,CAAE,EAEX,WAAc,CAACjD,EAAa8E,IAAU2G,GAAMC,SAAS5G,GACrD3B,eAAgBC,GAChB,qBAAwBjD,GACxBkD,mBAAoB,MAKpBiP,GAA2BtO,GAAY5C,GAAa4C,EAASqO,IAE7DE,GAA4B,CAAClhB,EAAMgT,KACnC,OAAQA,GACJ,KAAK,EAAG,OAAO,SAASjE,GACpB,OAAO7D,KAAK,gBAAgBzH,EAAS,GAAW,GACpD,EACA,KAAK,EAAG,OAAO,SAASsL,GACpB,OAAO7D,KAAK,gBAAgBtH,EAAS,GAAW,GACpD,EACA,QACI,MAAM,IAAIiO,UAAU,wBAAwBmB,OAAWhT,KAC/D,EAKAmhB,GAA0B,CAACxO,EAAS3S,EAAMoT,KAC1CpT,EAAOsS,GAAiBtS,GACxB+P,GAAa4C,EAAS,CACpB3S,OACA,aAAiByT,GAAUA,EAC3B,WAAc,CAAC9E,EAAa8E,KAC1B,GAAoB,iBAATA,GAAqC,kBAATA,EACrC,MAAM,IAAI5B,UAAU,kBAAkBI,GAAWwB,SAAavI,KAAKlL,QAIrE,OAAOyT,CAAK,EAEd3B,eAAgBC,GAChB,qBAAwBmP,GAA0BlhB,EAAMoT,GACxDpB,mBAAoB,MACpB,EAWFoP,GAA6B,CAACphB,EAAMmZ,EAAU6F,EAAiBjE,EAAW2E,EAAY2B,EAAIpG,EAAS4E,KACnG,IAAIzC,EAAWJ,GAAoB7D,EAAU6F,GAC7Chf,EAAOsS,GAAiBtS,GACxBA,EAAOqf,GAAgBrf,GAEvB0f,EAAa5E,GAAwBC,EAAW2E,EAAYzE,GAE5D7B,GAAmBpZ,GAAM,WACvByb,GAAsB,eAAezb,yBAA6Bod,EACpE,GAAGjE,EAAW,GAEd5J,GAA8B,GAAI6N,GAAWA,IAC3C,IAAIkE,EAAmB,CAAClE,EAAS,GAAuB,MAA2BnM,OAAOmM,EAAS/c,MAAM,IAEzG,OADAqa,GAAoB1a,EAAMse,GAAqBte,EAAMshB,EAAkB,KAA2B5B,EAAY2B,EAAIpG,GAAU9B,EAAW,GAChI,EAAE,GACT,EAOFoI,GAA4B,CAACpO,EAAenT,EAAMoT,EAAMC,EAAUC,KAClEtT,EAAOsS,GAAiBtS,IAGN,IAAdsT,IACFA,EAAW,YAGb,IAAIkO,EAAgB/N,GAAUA,EAE9B,GAAiB,IAAbJ,EAAgB,CAClB,IAAIoO,EAAW,GAAK,EAAErO,EACtBoO,EAAgB/N,GAAWA,GAASgO,IAAcA,CACpD,CAEA,IASIC,EATAnO,EAAkBvT,EAAK2hB,SAAS,YAChCC,EAAkB,CAACnO,EAAOoO,KAC5B,GAAoB,iBAATpO,GAAqC,kBAATA,EACrC,MAAM,IAAI5B,UAAU,mBAAmBI,GAAWwB,UAAcoO,KAElE,GAAIpO,EAAQJ,GAAYI,EAAQH,EAC9B,MAAM,IAAIzB,UAAU,qBAAqBI,GAAWwB,0DAA8DzT,yCAA4CqT,MAAaC,MAC7K,EAIAoO,EADEnO,EACW,SAAS5E,EAAa8E,GAEjC,OADAmO,EAAgBnO,EAAOvI,KAAKlL,MACrByT,IAAU,CACnB,EAEa,SAAS9E,EAAa8E,GAIjC,OAHAmO,EAAgBnO,EAAOvI,KAAKlL,MAGrByT,CACT,EAEF1D,GAAaoD,EAAe,CAC1BnT,OACA,aAAgBwhB,EAChB,WAAcE,EACd5P,eAAgBC,GAChB,qBAAwBgB,GAA4B/S,EAAMoT,EAAmB,IAAbC,GAChErB,mBAAoB,MACpB,EAIF8P,GAAgC,CAACnP,EAASoP,EAAe/hB,KACzD,IAAIgiB,EAAc,CAChB/b,UACAnE,WACAoE,WACAC,YACAC,WACAC,YACAC,aACAC,aACAC,cACAC,gBAGEwb,EAAKD,EAAYD,GAErB,SAASG,EAAiBzN,GACxB,IAAIrB,EAAO5P,EAAS,GAAU,GAC1B2e,EAAO3e,EAAU,EAAS,GAAM,GACpC,OAAO,IAAIye,EAAG9e,EAAM6C,OAAQmc,EAAM/O,EACpC,CAEApT,EAAOsS,GAAiBtS,GACxB+P,GAAa4C,EAAS,CACpB3S,OACA,aAAgBkiB,EAChBpQ,eAAgBC,GAChB,qBAAwBmQ,GACvB,CACDpP,8BAA8B,GAC9B,EAIFsP,GAAoBxd,OAAOqT,OAAO,CAAC7G,UAAU,GAAO4P,IACpDqB,GAA6B,CAACC,EAAiB3P,KAC/C5C,GAAauS,EAAiBF,GAAkB,EAOhDG,GAAoB,CAAC9V,EAAK+V,EAAMC,EAAQC,KAIxC,GAHA7hB,EAAsB,kBAAR4L,EAAkB,kDAAkDA,QAG5EiW,EAAkB,GACtB,OAAO,EAIT,IAFA,IAAIC,EAAWF,EACXnW,EAASmW,EAASC,EAAkB,EAC/B5S,EAAI,EAAGA,EAAIrD,EAAItL,SAAU2O,EAAG,CAQnC,IAAI8S,EAAInW,EAAIgN,WAAW3J,GACvB,GAAI8S,GAAK,OAAUA,GAAK,MAAQ,CAC9B,IAAIjW,EAAKF,EAAIgN,aAAa3J,GAC1B8S,EAAI,QAAgB,KAAJA,IAAc,IAAY,KAALjW,CACvC,CACA,GAAIiW,GAAK,IAAM,CACb,GAAIH,GAAUnW,EAAQ,MACtBkW,EAAKC,KAAYG,CACnB,MAAO,GAAIA,GAAK,KAAO,CACrB,GAAIH,EAAS,GAAKnW,EAAQ,MAC1BkW,EAAKC,KAAY,IAAQG,GAAK,EAC9BJ,EAAKC,KAAY,IAAY,GAAJG,CAC3B,MAAO,GAAIA,GAAK,MAAQ,CACtB,GAAIH,EAAS,GAAKnW,EAAQ,MAC1BkW,EAAKC,KAAY,IAAQG,GAAK,GAC9BJ,EAAKC,KAAY,IAASG,GAAK,EAAK,GACpCJ,EAAKC,KAAY,IAAY,GAAJG,CAC3B,KAAO,CACL,GAAIH,EAAS,GAAKnW,EAAQ,MACtBsW,EAAI,SAAUld,GAAS,8BAAgCjB,GAAYme,GAAK,0IAC5EJ,EAAKC,KAAY,IAAQG,GAAK,GAC9BJ,EAAKC,KAAY,IAASG,GAAK,GAAM,GACrCJ,EAAKC,KAAY,IAASG,GAAK,EAAK,GACpCJ,EAAKC,KAAY,IAAY,GAAJG,CAC3B,CACF,CAGA,OADAJ,EAAKC,GAAU,EACRA,EAASE,CAAQ,EAExBE,GAAe,CAACpW,EAAKqW,EAAQJ,KAC7B7hB,EAAiC,iBAAnB6hB,EAA6B,6HACpCH,GAAkB9V,EAAKrJ,EAAQ0f,EAAQJ,IAG9CK,GAAmBtW,IAEnB,IADA,IAAIuW,EAAM,EACDlT,EAAI,EAAGA,EAAIrD,EAAItL,SAAU2O,EAAG,CAKnC,IAAIyC,EAAI9F,EAAIgN,WAAW3J,GACnByC,GAAK,IACPyQ,IACSzQ,GAAK,KACdyQ,GAAO,EACEzQ,GAAK,OAAUA,GAAK,OAC7ByQ,GAAO,IAAKlT,GAEZkT,GAAO,CAEX,CACA,OAAOA,CAAG,EAKVC,GAA+B,CAACtQ,EAAS3S,KACzCA,EAAOsS,GAAiBtS,GACxB,IAAIkjB,GACF,EAEFnT,GAAa4C,EAAS,CACpB3S,OAGA,aAAeyT,GACb,IAGIhH,EAHAtL,EAASqC,EAAS,GAAS,GAC3B2f,EAAU1P,EAAQ,EAGtB,GAAIyP,EAGF,IAFA,IAAIE,EAAiBD,EAEZrT,EAAI,EAAGA,GAAK3O,IAAU2O,EAAG,CAChC,IAAIuT,EAAiBF,EAAUrT,EAC/B,GAAIA,GAAK3O,GAAoC,GAA1BiC,EAAOigB,GAAsB,CAC9C,IAAIC,EAAUD,EAAiBD,EAC3BG,EAAgBvW,GAAaoW,EAAgBE,QACrC9jB,IAARiN,EACFA,EAAM8W,GAEN9W,GAAOI,OAAOC,aAAa,GAC3BL,GAAO8W,GAETH,EAAiBC,EAAiB,CACpC,CACF,KACK,CACL,IAAIG,EAAI,IAAIvT,MAAM9O,GAClB,IAAS2O,EAAI,EAAGA,EAAI3O,IAAU2O,EAC5B0T,EAAE1T,GAAKjD,OAAOC,aAAa1J,EAAO+f,EAAUrT,IAE9CrD,EAAM+W,EAAE1H,KAAK,GACf,CAIA,OAFAN,GAAM/H,GAEChH,CACT,EACA,WAAakC,EAAa8E,GAKxB,IAAItS,EAJAsS,aAAiBgQ,cACnBhQ,EAAQ,IAAI3R,WAAW2R,IAIzB,IAAIiQ,EAAuC,iBAATjQ,EAG5BiQ,GAAwBD,YAAYE,OAAOlQ,IAAqC,GAA3BA,EAAMmQ,mBAC/DnR,GAAkB,yCAGlBtR,EADE+hB,GAAmBQ,EACZX,GAAgBtP,GAEhBA,EAAMtS,OAIjB,IAAImN,EAAOuV,GAAQ,EAAI1iB,EAAS,GAC5BqK,EAAM8C,EAAO,EAEjB,GADA9K,EAAS,GAAQ,GAAMrC,EACnBuiB,EACF,GAAIR,EACFL,GAAapP,EAAOjI,EAAKrK,EAAS,QAElC,IAAK,IAAI2O,EAAI,EAAGA,EAAI3O,IAAU2O,EAAG,CAC/B,IAAIgU,EAAWrQ,EAAMgG,WAAW3J,GAC5BgU,EAAW,MACbtI,GAAMlN,GACNmE,GAAkB,2DAEpBrP,EAAOoI,EAAMsE,GAAKgU,CACpB,MAGF1gB,EAAO4B,IAAIyO,EAAOjI,GAMpB,OAHoB,OAAhBmD,GACFA,EAAYrD,KAAKkQ,GAAOlN,GAEnBA,CACT,EACAwD,eAAgBC,GAChB,qBAAwBjD,GACxB,kBAAAkD,CAAmBxG,GACjBgQ,GAAMhQ,EACR,GACA,EAMFuY,GAAqC,oBAAf/X,YAA6B,IAAIA,YAAY,iBAAcxM,EACjFwkB,GAAgB,CAACxY,EAAKY,KACtBvL,EAAO2K,EAAM,GAAK,EAAG,iEACrB,IAAIe,EAASf,EAKTW,EAAMI,GAAU,EAChB0X,EAAS9X,EAAMC,EAAiB,EAGpC,QAASD,GAAO8X,IAAW3gB,EAAQ6I,KAAQA,EAG3C,GAFAI,EAASJ,GAAO,EAEZI,EAASf,EAAM,IAAMuY,GACvB,OAAOA,GAAavX,OAAOpJ,EAAO0E,SAAS0D,EAAKe,IAQlD,IALA,IAAIE,EAAM,GAKDqD,EAAI,IAAKA,GAAK1D,EAAiB,KAAM0D,EAAG,CAC/C,IAAIoU,EAAW7gB,EAAS,EAAS,EAAFyM,GAAO,GACtC,GAAgB,GAAZoU,EAAe,MAGnBzX,GAAOI,OAAOC,aAAaoX,EAC7B,CAEA,OAAOzX,CAAG,EAGV0X,GAAgB,CAAC1X,EAAKqW,EAAQJ,KAK9B,GAJA7hB,EAAOiiB,EAAS,GAAK,EAAG,iEACxBjiB,EAAiC,iBAAnB6hB,EAA6B,8HAE3CA,IAAoB,WAChBA,EAAkB,EAAG,OAAO,EAChCA,GAAmB,EAGnB,IAFA,IAAI0B,EAAWtB,EACXuB,EAAmB3B,EAA6B,EAAXjW,EAAItL,OAAauhB,EAAkB,EAAKjW,EAAItL,OAC5E2O,EAAI,EAAGA,EAAIuU,IAAmBvU,EAAG,CAExC,IAAIoU,EAAWzX,EAAIgN,WAAW3J,GAC9BzM,EAAQ,GAAU,GAAM6gB,EACxBpB,GAAU,CACZ,CAGA,OADAzf,EAAQ,GAAU,GAAM,EACjByf,EAASsB,CAAQ,EAGxBE,GAAoB7X,GAAmB,EAAXA,EAAItL,OAEhCojB,GAAgB,CAAC/Y,EAAKY,KACtBvL,EAAO2K,EAAM,GAAK,EAAG,kEACrB,IAAIsE,EAAI,EAEJrD,EAAM,GAGV,QAASqD,GAAK1D,EAAiB,GAAI,CACjC,IAAIoY,EAAQjhB,EAAS,EAAS,EAAFuM,GAAO,GACnC,GAAa,GAAT0U,EAAY,MAIhB,KAHE1U,EAGE0U,GAAS,MAAS,CACpB,IAAIzX,EAAKyX,EAAQ,MACjB/X,GAAOI,OAAOC,aAAa,MAAUC,GAAM,GAAK,MAAe,KAALA,EAC5D,MACEN,GAAOI,OAAOC,aAAa0X,EAE/B,CACA,OAAO/X,CAAG,EAGVgY,GAAgB,CAAChY,EAAKqW,EAAQJ,KAK9B,GAJA7hB,EAAOiiB,EAAS,GAAK,EAAG,kEACxBjiB,EAAiC,iBAAnB6hB,EAA6B,8HAE3CA,IAAoB,WAChBA,EAAkB,EAAG,OAAO,EAGhC,IAFA,IAAI0B,EAAWtB,EACXvW,EAAS6X,EAAW1B,EAAkB,EACjC5S,EAAI,EAAGA,EAAIrD,EAAItL,SAAU2O,EAAG,CAGnC,IAAIoU,EAAWzX,EAAIgN,WAAW3J,GAC9B,GAAIoU,GAAY,OAAUA,GAAY,MAAQ,CAC5C,IAAIQ,EAAiBjY,EAAIgN,aAAa3J,GACtCoU,EAAW,QAAuB,KAAXA,IAAqB,IAAwB,KAAjBQ,CACrD,CAGA,GAFAnhB,EAAQ,GAAU,GAAM2gB,EACxBpB,GAAU,EACNA,EAAS,EAAIvW,EAAQ,KAC3B,CAGA,OADAhJ,EAAQ,GAAU,GAAM,EACjBuf,EAASsB,CAAQ,EAGxBO,GAAoBlY,IAEpB,IADA,IAAIuW,EAAM,EACDlT,EAAI,EAAGA,EAAIrD,EAAItL,SAAU2O,EAAG,CAGnC,IAAIoU,EAAWzX,EAAIgN,WAAW3J,GAC1BoU,GAAY,OAAUA,GAAY,SAAUpU,EAChDkT,GAAO,CACT,CAEA,OAAOA,CAAG,EAEV4B,GAAgC,CAACjS,EAASkS,EAAU7kB,KAEpD,IAAI8kB,EAAcC,EAAcC,EAAYC,EAD5CjlB,EAAOsS,GAAiBtS,GAEP,IAAb6kB,GACFC,EAAed,GACfe,EAAeZ,GACfc,EAAiBX,GACjBU,EAAcjW,GAAYzL,EAAS,GAAW,IACxB,IAAbuhB,IACTC,EAAeP,GACfQ,EAAeN,GACfQ,EAAiBN,GACjBK,EAAcjW,GAAYvL,EAAS,GAAW,IAEhDuM,GAAa4C,EAAS,CACpB3S,OACA,aAAiByT,IAOf,IALA,IACIhH,EADAtL,EAASqC,EAAS,GAAS,GAG3B4f,EAAiB3P,EAAQ,EAEpB3D,EAAI,EAAGA,GAAK3O,IAAU2O,EAAG,CAChC,IAAIuT,EAAiB5P,EAAQ,EAAI3D,EAAI+U,EACrC,GAAI/U,GAAK3O,GAAwC,GAA9B6jB,EAAW3B,GAAsB,CAClD,IAAI6B,EAAe7B,EAAiBD,EAChCG,EAAgBuB,EAAa1B,EAAgB8B,QACrC1lB,IAARiN,EACFA,EAAM8W,GAEN9W,GAAOI,OAAOC,aAAa,GAC3BL,GAAO8W,GAETH,EAAiBC,EAAiBwB,CACpC,CACF,CAIA,OAFArJ,GAAM/H,GAEChH,CAAG,EAEZ,WAAc,CAACkC,EAAa8E,KACJ,iBAATA,GACXhB,GAAkB,6CAA6CzS,KAIjE,IAAImB,EAAS8jB,EAAexR,GACxBjI,EAAMqY,GAAQ,EAAI1iB,EAAS0jB,GAQ/B,OAPArhB,EAAS,GAAO,GAAMrC,EAAS0jB,EAE/BE,EAAatR,EAAOjI,EAAM,EAAGrK,EAAS0jB,GAElB,OAAhBlW,GACFA,EAAYrD,KAAKkQ,GAAOhQ,GAEnBA,CAAG,EAEZsG,eAAgBC,GAChB,qBAAwBjD,GACxB,kBAAAkD,CAAmBxG,GACjBgQ,GAAMhQ,EACR,GACA,EAKF2Z,GAAiC,CACjCxS,EACA3S,EACAolB,EACA3U,EACA6L,EACA5L,KAEAjC,GAAoBkE,GAAW,CAC7B3S,KAAMsS,GAAiBtS,GACvByQ,eAAgBqK,GAAwBsK,EAAsB3U,GAC9DC,cAAeoK,GAAwBwB,EAAqB5L,GAC5DE,OAAQ,GACT,EAKDyU,GAAuC,CACvC9U,EACAY,EACAH,EACAsP,EACAjP,EACAC,EACAJ,EACAqP,EACAhP,EACAC,KAEA/C,GAAoB8B,GAAYK,OAAOtF,KAAK,CAC1C6F,UAAWmB,GAAiBnB,GAC5BH,mBACAK,OAAQyJ,GAAwBwF,EAAiBjP,GACjDC,gBACAJ,qBACAK,OAAQuJ,GAAwByF,EAAiBhP,GACjDC,iBACA,EAIF8T,GAAyB,CAAC3S,EAAS3S,KACnCA,EAAOsS,GAAiBtS,GACxB+P,GAAa4C,EAAS,CACpB4S,QAAQ,EACRvlB,OACA8R,eAAgB,EAChB,aAAgB,KAAe,EAE/B,WAAc,CAACnD,EAAagD,KAAe,GAC3C,EAMF6T,GAAwB,CAAC7S,EAASoG,KAClC,IAAI0M,EAAOvW,GAAgByD,GAI3B,YAHInT,IAAcimB,GAChBhT,GAAkB,GAAGsG,sBAA8BuC,GAAY3I,MAE1D8S,CAAI,EAGXC,GAAoB,CAACC,EAAYC,EAAgBnR,KACjD,IAAI9F,EAAc,GACd/D,EAAS+a,EAAW,cAAchX,EAAa8F,GAKnD,OAJI9F,EAAYxN,SAEdqC,EAAS,GAAkB,GAAM4W,GAAMC,SAAS1L,IAE3C/D,CAAM,EAEbib,GAAa,CAACpR,EAAQkR,EAAYC,KAClCnR,EAAS2F,GAAM2G,QAAQtM,GACvBkR,EAAaH,GAAsBG,EAAY,aACxCD,GAAkBC,EAAYC,EAAgBnR,IAIrDqR,GAAuB,CAACrR,EAAQsR,KAChCtR,EAAS2F,GAAM2G,QAAQtM,GACvBsR,EAAM3L,GAAM2G,QAAQgF,GACb3L,GAAMC,SAAS5F,EAAOsR,KAG7BC,GAAgB,CACpB,EAEIC,GAAqBC,IACrB,IAAIC,EAASH,GAAcE,GAC3B,YAAe1mB,IAAX2mB,EACK7T,GAAiB4T,GAEnBC,CAAM,EAGbC,GAAuBlU,GAAMkI,GAAMC,SAAS4L,GAAkB/T,IAI9DmU,GAA2B5R,IAC3B,IAAI9F,EAAcyL,GAAM2G,QAAQtM,GAChC/F,GAAeC,GACfiS,GAAenM,EAAO,EAItB6R,GAAqB,CAACxnB,EAAMynB,KAC5BznB,EAAO0mB,GAAsB1mB,EAAM,qBACnC,IAAIoT,EAAIpT,EAAK,wBAAwBynB,GACrC,OAAOnM,GAAMC,SAASnI,EAAE,EAIxBsU,GAAa,CAACC,EAAUC,EAAUC,EAAUC,KAE5C,IAAIC,GAAc,IAAIC,MAAOC,cACzBC,EAAS,IAAIF,KAAKD,EAAa,EAAG,GAClCI,EAAS,IAAIH,KAAKD,EAAa,EAAG,GAClCK,EAAeF,EAAOG,oBACtBC,EAAeH,EAAOE,oBAQtBE,EAAoB9e,KAAKnE,IAAI8iB,EAAcE,GAO/C5jB,EAAS,GAAY,GAA0B,GAApB6jB,EAE3B9jB,EAAQ,GAAY,GAAM+jB,OAAOJ,GAAgBE,GAEjD,IAAIG,EAAeC,IAGjB,IAAIC,EAAOD,GAAkB,EAAI,IAAM,IAEnCE,EAAYnf,KAAKof,IAAIH,GACrBI,EAAQ/a,OAAOtE,KAAKsf,MAAMH,EAAY,KAAKhc,SAAS,EAAG,KACvDoc,EAAUjb,OAAO6a,EAAY,IAAIhc,SAAS,EAAG,KAEjD,MAAO,MAAM+b,IAAOG,IAAQE,GAAS,EAGnCC,EAAaR,EAAYL,GACzBc,EAAaT,EAAYH,GAC7BvmB,EAAOknB,GACPlnB,EAAOmnB,GACPnnB,EAAOkiB,GAAgBgF,IAAe,GAAI,iDAAiDA,MAC3FlnB,EAAOkiB,GAAgBiF,IAAe,GAAI,iDAAiDA,MACvFZ,EAAeF,GAEjBrE,GAAakF,EAAYpB,EAAU,IACnC9D,GAAamF,EAAYpB,EAAU,MAEnC/D,GAAakF,EAAYnB,EAAU,IACnC/D,GAAamF,EAAYrB,EAAU,IACrC,EAGAsB,GAA2BC,IAC3BlkB,GAAM,wCAAwCkkB,kGAA8G/kB,EAAMhC,mMAAmM,EAErWgnB,GAA2BD,IACb9kB,EAAOjC,OAErB+mB,KAAmB,EACnBD,GAAwBC,EAAc,EAGtCE,GAAM,CACV,EAEIC,GAAoB,IAAMrpB,GAAe,iBACzCspB,GAAgB,KAChB,IAAKA,GAAcC,QAAS,CAG1B,IAAIC,GAA6B,iBAAbC,WAAyBA,UAAUC,WAAaD,UAAUC,UAAU,IAAO,KAAKtnB,QAAQ,IAAK,KAAO,SACpHunB,EAAM,CACR,KAAQ,WACR,QAAW,WACX,KAAQ,IACR,IAAO,IACP,KAAQ,iBACR,KAAQH,EACR,EAAKH,MAGP,IAAK,IAAIO,KAAKR,QAIG5oB,IAAX4oB,GAAIQ,UAAyBD,EAAIC,GAChCD,EAAIC,GAAKR,GAAIQ,GAEpB,IAAIL,EAAU,GACd,IAAK,IAAIK,KAAKD,EACZJ,EAAQjd,KAAK,GAAGsd,KAAKD,EAAIC,MAE3BN,GAAcC,QAAUA,CAC1B,CACA,OAAOD,GAAcC,OAAO,EAG5BM,GAAe,CAACC,EAAWC,KAC3B,IAAIC,EAAU,EACVC,EAAO,EACX,IAAK,IAAIC,KAAUZ,KAAiB,CAClC,IAAI9c,EAAMud,EAAcC,EACxBxlB,EAAU,EAAY,GAAS,GAAMgI,EACrCwd,GAAWnG,GAAaqG,EAAQ1d,EAAK2d,KAAY,EACjDF,GAAQ,CACV,CACA,OAAO,CAAC,EAIRG,GAAqB,CAACC,EAAgBC,KACtC,IAAIf,EAAUD,KACd9kB,EAAS,GAAkB,GAAM+kB,EAAQpnB,OACzC,IAAI6nB,EAAU,EACd,IAAK,IAAIE,KAAUX,EACjBS,GAAWjG,GAAgBmG,GAAU,EAGvC,OADA1lB,EAAS,GAAqB,GAAMwlB,EAC7B,CAAC,EAGRO,GAAO,CACXC,MAAO1pB,GAA4B,MAAnBA,EAAK2pB,OAAO,GAC5BC,UAAWlpB,IACL,IAAImpB,EAAc,gEAClB,OAAOA,EAAYC,KAAKppB,GAAUH,MAAM,EAAE,EAEhDwpB,eAAe,CAACC,EAAOC,KAGjB,IADA,IAAIC,EAAK,EACAla,EAAIga,EAAM3oB,OAAS,EAAG2O,GAAK,EAAGA,IAAK,CAC1C,IAAIma,EAAOH,EAAMha,GACJ,MAATma,EACFH,EAAM1K,OAAOtP,EAAG,GACE,OAATma,GACTH,EAAM1K,OAAOtP,EAAG,GAChBka,KACSA,IACTF,EAAM1K,OAAOtP,EAAG,GAChBka,IAEJ,CAEA,GAAID,EACF,KAAOC,EAAIA,IACTF,EAAMI,QAAQ,MAGlB,OAAOJ,CAAK,EAElBK,UAAWrqB,IACL,IAAIsqB,EAAab,GAAKC,MAAM1pB,GACxBuqB,EAAmC,MAAnBvqB,EAAKO,OAAO,GAShC,OAPAP,EAAOypB,GAAKM,eAAe/pB,EAAKM,MAAM,KAAKkqB,QAAQC,KAAQA,KAAKH,GAAYtO,KAAK,KAC5Ehc,GAASsqB,IACZtqB,EAAO,KAELA,GAAQuqB,IACVvqB,GAAQ,MAEFsqB,EAAa,IAAM,IAAMtqB,CAAI,EAE3C0qB,QAAS1qB,IACH,IAAI8K,EAAS2e,GAAKG,UAAU5pB,GACxB2qB,EAAO7f,EAAO,GACd8f,EAAM9f,EAAO,GACjB,OAAK6f,GAASC,GAIVA,IAEFA,EAAMA,EAAIrqB,MAAM,GAAI,IAEfoqB,EAAOC,GANL,GAMQ,EAEvBC,SAAU7qB,GAASA,GAAQA,EAAK8qB,MAAM,mBAAmB,GACzD9O,KAAK,IAAI+O,IAAUtB,GAAKY,UAAUU,EAAM/O,KAAK,MAC7CgP,MAAM,CAACC,EAAGC,IAAMzB,GAAKY,UAAUY,EAAI,IAAMC,IAGrCC,GAAiB,KAEjB,GAAIvsB,EAAqB,CACvB,IAAIwsB,EAAa,EAAQ,MACzB,OAAQC,GAASD,EAAWE,eAAeD,EAC7C,CAEA,OAAQA,GAASE,OAAOC,gBAAgBH,EAAK,EAE7CI,GAAcJ,KAEbI,GAAaN,MAAkBE,EAAK,EAKrCK,GAAU,CACdxpB,QAAQ,IAAIqH,KAGN,IAFA,IAAIoiB,EAAe,GACjBC,GAAmB,EACZ5b,EAAIzG,EAAKlI,OAAS,EAAG2O,IAAM,IAAM4b,EAAkB5b,IAAK,CAC/D,IAAIhQ,EAAQgQ,GAAK,EAAKzG,EAAKyG,GAAK7I,GAAG0kB,MAEnC,GAAmB,iBAAR7rB,EACT,MAAM,IAAI+R,UAAU,6CACf,IAAK/R,EACV,MAAO,GAET2rB,EAAe3rB,EAAO,IAAM2rB,EAC5BC,EAAmBnC,GAAKC,MAAM1pB,EAChC,CAIA,OADA2rB,EAAelC,GAAKM,eAAe4B,EAAarrB,MAAM,KAAKkqB,QAAQC,KAAQA,KAAKmB,GAAkB5P,KAAK,MAC9F4P,EAAmB,IAAM,IAAMD,GAAiB,GAAG,EAElEG,SAAS,CAACC,EAAMC,KAGV,SAASxM,EAAKyM,GAEZ,IADA,IAAIC,EAAQ,EACLA,EAAQD,EAAI5qB,OAAQ6qB,IACzB,GAAmB,KAAfD,EAAIC,GAAe,MAGzB,IADA,IAAIzd,EAAMwd,EAAI5qB,OAAS,EAChBoN,GAAO,EAAGA,IACf,GAAiB,KAAbwd,EAAIxd,GAAa,MAEvB,OAAIyd,EAAQzd,EAAY,GACjBwd,EAAI1rB,MAAM2rB,EAAOzd,EAAMyd,EAAQ,EACxC,CAbAH,EAAOL,GAAQxpB,QAAQ6pB,GAAMxrB,MAAM,GACnCyrB,EAAKN,GAAQxpB,QAAQ8pB,GAAIzrB,MAAM,GAiB/B,IAJA,IAAI4rB,EAAY3M,EAAKuM,EAAKzrB,MAAM,MAC5B8rB,EAAU5M,EAAKwM,EAAG1rB,MAAM,MACxBe,EAASoH,KAAK4jB,IAAIF,EAAU9qB,OAAQ+qB,EAAQ/qB,QAC5CirB,EAAkBjrB,EACb2O,EAAI,EAAGA,EAAI3O,EAAQ2O,IAC1B,GAAImc,EAAUnc,KAAOoc,EAAQpc,GAAI,CAC/Bsc,EAAkBtc,EAClB,KACF,CAEF,IAAIuc,EAAc,GAClB,IAASvc,EAAIsc,EAAiBtc,EAAImc,EAAU9qB,OAAQ2O,IAClDuc,EAAY/gB,KAAK,MAGnB,OADA+gB,EAAcA,EAAYpb,OAAOib,EAAQ7rB,MAAM+rB,IACxCC,EAAYvQ,KAAK,IAAI,GAM9BwQ,GAA0B,GAI1BC,GAAqB,CAACC,EAASC,EAAatrB,KAC5C,IAAI6hB,EAAM7hB,EAAS,EAAIA,EAAS4hB,GAAgByJ,GAAS,EACrDE,EAAU,IAAIzc,MAAM+S,GACpB2J,EAAkBpK,GAAkBiK,EAASE,EAAS,EAAGA,EAAQvrB,QAErE,OADIsrB,IAAaC,EAAQvrB,OAASwrB,GAC3BD,CAAO,EAEdE,GAAmB,KACnB,IAAKN,GAAwBnrB,OAAQ,CACnC,IAAIyJ,EAAS,KACb,GAAIlM,EAAqB,CAEvB,IAAImuB,EAAU,IACVC,EAAMhsB,OAAOisB,MAAMF,GACnBG,EAAY,EASZC,EAAKtuB,QAAQuuB,MAAMD,GAEvB,IACED,EAAY1sB,EAAG6sB,SAASF,EAAIH,EAAK,EAAGD,EACtC,CAAE,MAAM5jB,GAIN,IAAIA,EAAEwC,WAAWkW,SAAS,OACrB,MAAM1Y,EADuB+jB,EAAY,CAEhD,CAEIA,EAAY,IACdpiB,EAASkiB,EAAIzsB,MAAM,EAAG2sB,GAAWvhB,SAAS,SAE9C,KACqB,oBAAVlN,QACe,mBAAjBA,OAAO6uB,SAEdxiB,EAASrM,OAAO6uB,OAAO,WACR,OAAXxiB,IACFA,GAAU,OAId,IAAKA,EACH,OAAO,KAET0hB,GAA0BC,GAAmB3hB,GAAQ,EACvD,CACA,OAAO0hB,GAAwB1lB,OAAO,EAEtCQ,GAAM,CACVimB,KAAK,GACL,IAAAlmB,GASI,EACJ,QAAAmmB,GAUI,EACJ,QAAA5V,CAAS6V,EAAKC,GACRpmB,GAAIimB,KAAKE,GAAO,CAAEE,MAAO,GAAIC,OAAQ,GAAIF,IAAKA,GAC9CvmB,GAAG0mB,eAAeJ,EAAKnmB,GAAIwmB,WAC7B,EACJA,WAAW,CACX,IAAAjsB,CAAKksB,GACG,IAAIC,EAAM1mB,GAAIimB,KAAKQ,EAAOhvB,KAAKkvB,MAC/B,IAAKD,EACH,MAAM,IAAI7mB,GAAG+mB,WAAW,IAE1BH,EAAOC,IAAMA,EACbD,EAAOI,UAAW,CACpB,EACN,KAAAC,CAAML,GAEEA,EAAOC,IAAIN,IAAIW,MAAMN,EAAOC,IAC9B,EACN,KAAAK,CAAMN,GACEA,EAAOC,IAAIN,IAAIW,MAAMN,EAAOC,IAC9B,EACN,IAAArc,CAAKoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQktB,GAC7B,IAAKR,EAAOC,MAAQD,EAAOC,IAAIN,IAAIc,SACjC,MAAM,IAAIrnB,GAAG+mB,WAAW,IAG1B,IADA,IAAIhB,EAAY,EACPld,EAAI,EAAGA,EAAI3O,EAAQ2O,IAAK,CAC/B,IAAIlF,EACJ,IACEA,EAASijB,EAAOC,IAAIN,IAAIc,SAAST,EAAOC,IAC1C,CAAE,MAAO7kB,GACP,MAAM,IAAIhC,GAAG+mB,WAAW,GAC1B,CACA,QAAexuB,IAAXoL,GAAsC,IAAdoiB,EAC1B,MAAM,IAAI/lB,GAAG+mB,WAAW,GAE1B,GAAe,OAAXpjB,QAA8BpL,IAAXoL,EAAsB,MAC7CoiB,IACAhnB,EAAOooB,EAAOte,GAAKlF,CACrB,CAIA,OAHIoiB,IACFa,EAAOhvB,KAAK0vB,MAAQzH,KAAK0H,OAEpBxB,CACT,EACN,KAAAtb,CAAMmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQktB,GAC9B,IAAKR,EAAOC,MAAQD,EAAOC,IAAIN,IAAIiB,SACjC,MAAM,IAAIxnB,GAAG+mB,WAAW,IAE1B,IACE,IAAK,IAAIle,EAAI,EAAGA,EAAI3O,EAAQ2O,IAC1B+d,EAAOC,IAAIN,IAAIiB,SAASZ,EAAOC,IAAK9nB,EAAOooB,EAAOte,GAEtD,CAAE,MAAO7G,GACP,MAAM,IAAIhC,GAAG+mB,WAAW,GAC1B,CAIA,OAHI7sB,IACF0sB,EAAOhvB,KAAK6vB,MAAQb,EAAOhvB,KAAK8vB,MAAQ7H,KAAK0H,OAExC1e,CACT,GAEN8e,gBAAgB,CAChB,QAAAN,CAASR,GACD,OAAOlB,IACT,EACN,QAAA6B,CAASX,EAAKe,GACM,OAARA,GAAwB,KAARA,GAClBlsB,EAAIsJ,GAAkB6hB,EAAIJ,SAC1BI,EAAIJ,OAAS,IAEF,GAAPmB,GAAUf,EAAIJ,OAAOpiB,KAAKujB,EAElC,EACN,KAAAV,CAAML,GACMA,EAAIJ,QAAQvsB,OAAS,IACvBwB,EAAIsJ,GAAkB6hB,EAAIJ,SAC1BI,EAAIJ,OAAS,GAEjB,EACN,YAAAoB,CAAahB,GAEL,MAAO,CACLiB,QAAS,MACTC,QAAS,EACTC,QAAS,IACTC,QAAS,MACTC,KAAM,CACJ,EAAM,GAAM,IAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GAAM,GAAM,EAClE,GAAM,GAAM,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAClE,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAGhD,EACN,YAAAC,CAAatB,EAAKuB,EAAkBlN,GAE5B,OAAO,CACT,EACN,gBAAAmN,CAAiBxB,GACT,MAAO,CAAC,GAAI,GACd,GAENyB,iBAAiB,CACjB,QAAAd,CAASX,EAAKe,GACM,OAARA,GAAwB,KAARA,GAClB9rB,EAAIkJ,GAAkB6hB,EAAIJ,SAC1BI,EAAIJ,OAAS,IAEF,GAAPmB,GAAUf,EAAIJ,OAAOpiB,KAAKujB,EAElC,EACN,KAAAV,CAAML,GACMA,EAAIJ,QAAQvsB,OAAS,IACvB4B,EAAIkJ,GAAkB6hB,EAAIJ,SAC1BI,EAAIJ,OAAS,GAEjB,IAKF8B,GAAapc,IACbpP,GAAM,gGAAgG,EAEtGyrB,GAAQ,CACZC,UAAU,KACV,KAAAC,CAAMA,GACA,OAAOF,GAAMG,WAAW,KAAM,IAAK,MAAO,EAC5C,EACJ,UAAAA,CAAWC,EAAQ7vB,EAAM8vB,EAAMvC,GACzB,GAAItmB,GAAG8oB,SAASD,IAAS7oB,GAAG+oB,OAAOF,GAEjC,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1ByB,GAAMC,YAAc,CAClBhF,IAAK,CACH7rB,KAAM,CACJoxB,QAASR,GAAMS,SAASD,QACxBE,QAASV,GAAMS,SAASC,QACxBC,OAAQX,GAAMS,SAASE,OACvBC,MAAOZ,GAAMS,SAASG,MACtBC,OAAQb,GAAMS,SAASI,OACvBC,OAAQd,GAAMS,SAASK,OACvBC,MAAOf,GAAMS,SAASM,MACtBC,QAAShB,GAAMS,SAASO,QACxBC,QAASjB,GAAMS,SAASQ,SAE1B7C,OAAQ,CACN8C,OAAQlB,GAAM7B,WAAW+C,SAG7BlnB,KAAM,CACJ5K,KAAM,CACJoxB,QAASR,GAAMS,SAASD,QACxBE,QAASV,GAAMS,SAASC,SAE1BtC,OAAQ,CACN8C,OAAQlB,GAAM7B,WAAW+C,OACzBlf,KAAMge,GAAM7B,WAAWnc,KACvBC,MAAO+d,GAAM7B,WAAWlc,MACxBkf,KAAMnB,GAAM7B,WAAWgD,KACvBC,MAAOpB,GAAM7B,WAAWiD,QAG5BC,KAAM,CACJjyB,KAAM,CACJoxB,QAASR,GAAMS,SAASD,QACxBE,QAASV,GAAMS,SAASC,QACxBY,SAAUtB,GAAMS,SAASa,UAE3BlD,OAAQ,CAAC,GAEXmD,OAAQ,CACNnyB,KAAM,CACJoxB,QAASR,GAAMS,SAASD,QACxBE,QAASV,GAAMS,SAASC,SAE1BtC,OAAQ5mB,GAAGgqB,oBAGf,IAAIpyB,EAAOoI,GAAG2oB,WAAWC,EAAQ7vB,EAAM8vB,EAAMvC,GA0B7C,OAzBItmB,GAAGiqB,MAAMryB,EAAKixB,OAChBjxB,EAAKqxB,SAAWT,GAAMC,UAAUhF,IAAI7rB,KACpCA,EAAK+uB,WAAa6B,GAAMC,UAAUhF,IAAImD,OACtChvB,EAAKsyB,SAAW,CAAC,GACRlqB,GAAGmqB,OAAOvyB,EAAKixB,OACxBjxB,EAAKqxB,SAAWT,GAAMC,UAAUjmB,KAAK5K,KACrCA,EAAK+uB,WAAa6B,GAAMC,UAAUjmB,KAAKokB,OACvChvB,EAAKwyB,UAAY,EAIjBxyB,EAAKsyB,SAAW,MACPlqB,GAAGqqB,OAAOzyB,EAAKixB,OACxBjxB,EAAKqxB,SAAWT,GAAMC,UAAUoB,KAAKjyB,KACrCA,EAAK+uB,WAAa6B,GAAMC,UAAUoB,KAAKjD,QAC9B5mB,GAAGsqB,SAAS1yB,EAAKixB,QAC1BjxB,EAAKqxB,SAAWT,GAAMC,UAAUsB,OAAOnyB,KACvCA,EAAK+uB,WAAa6B,GAAMC,UAAUsB,OAAOnD,QAE3ChvB,EAAK0vB,MAAQ1vB,EAAK6vB,MAAQ7vB,EAAK8vB,MAAQ7H,KAAK0H,MAExCqB,IACFA,EAAOsB,SAASnxB,GAAQnB,EACxBgxB,EAAOtB,MAAQsB,EAAOnB,MAAQmB,EAAOlB,MAAQ9vB,EAAK0vB,OAE7C1vB,CACT,EACJ,uBAAA2yB,CAAwB3yB,GAClB,OAAKA,EAAKsyB,SACNtyB,EAAKsyB,SAASrpB,SAAiBjJ,EAAKsyB,SAASrpB,SAAS,EAAGjJ,EAAKwyB,WAC3D,IAAIvvB,WAAWjD,EAAKsyB,UAFA,IAAIrvB,WAAW,EAG5C,EACJ,iBAAA2vB,CAAkB5yB,EAAM6yB,GAClB,IAAIC,EAAe9yB,EAAKsyB,SAAWtyB,EAAKsyB,SAAShwB,OAAS,EAC1D,KAAIwwB,GAAgBD,GAApB,CAIA,IAAIE,EAAwB,QAC5BF,EAAcnpB,KAAKnE,IAAIstB,EAAcC,GAAgBA,EAAeC,EAAwB,EAAM,SAAY,GAC1F,GAAhBD,IAAmBD,EAAcnpB,KAAKnE,IAAIstB,EAAa,MAC3D,IAAIG,EAAchzB,EAAKsyB,SACvBtyB,EAAKsyB,SAAW,IAAIrvB,WAAW4vB,GAC3B7yB,EAAKwyB,UAAY,GAAGxyB,EAAKsyB,SAASnsB,IAAI6sB,EAAY/pB,SAAS,EAAGjJ,EAAKwyB,WAAY,EAT5C,CAUzC,EACJ,iBAAAS,CAAkBjzB,EAAMkzB,GAClB,GAAIlzB,EAAKwyB,WAAaU,EACtB,GAAe,GAAXA,EACFlzB,EAAKsyB,SAAW,KAChBtyB,EAAKwyB,UAAY,MACZ,CACL,IAAIQ,EAAchzB,EAAKsyB,SACvBtyB,EAAKsyB,SAAW,IAAIrvB,WAAWiwB,GAC3BF,GACFhzB,EAAKsyB,SAASnsB,IAAI6sB,EAAY/pB,SAAS,EAAGS,KAAK4jB,IAAI4F,EAASlzB,EAAKwyB,aAEnExyB,EAAKwyB,UAAYU,CACnB,CACF,EACJ7B,SAAS,CACT,OAAAD,CAAQpxB,GACA,IAAImzB,EAAO,CAAC,EAyBZ,OAvBAA,EAAKzE,IAAMtmB,GAAGsqB,SAAS1yB,EAAKixB,MAAQjxB,EAAKwJ,GAAK,EAC9C2pB,EAAKC,IAAMpzB,EAAKwJ,GAChB2pB,EAAKlC,KAAOjxB,EAAKixB,KACjBkC,EAAKE,MAAQ,EACbF,EAAKG,IAAM,EACXH,EAAKI,IAAM,EACXJ,EAAKjE,KAAOlvB,EAAKkvB,KACb9mB,GAAGiqB,MAAMryB,EAAKixB,MAChBkC,EAAK5e,KAAO,KACHnM,GAAGmqB,OAAOvyB,EAAKixB,MACxBkC,EAAK5e,KAAOvU,EAAKwyB,UACRpqB,GAAGqqB,OAAOzyB,EAAKixB,MACxBkC,EAAK5e,KAAOvU,EAAKiyB,KAAK3vB,OAEtB6wB,EAAK5e,KAAO,EAEd4e,EAAKzD,MAAQ,IAAIzH,KAAKjoB,EAAK0vB,OAC3ByD,EAAKtD,MAAQ,IAAI5H,KAAKjoB,EAAK6vB,OAC3BsD,EAAKrD,MAAQ,IAAI7H,KAAKjoB,EAAK8vB,OAG3BqD,EAAKK,QAAU,KACfL,EAAKM,OAAS/pB,KAAKgqB,KAAKP,EAAK5e,KAAO4e,EAAKK,SAClCL,CACT,EACN,OAAA7B,CAAQtxB,EAAMmzB,GACN,IAAK,MAAMjM,IAAO,CAAC,OAAQ,QAAS,QAAS,SAC1B,MAAbiM,EAAKjM,KACPlnB,EAAKknB,GAAOiM,EAAKjM,SAGHvmB,IAAdwyB,EAAK5e,MACPqc,GAAMqC,kBAAkBjzB,EAAMmzB,EAAK5e,KAEvC,EACN,MAAAgd,CAAOP,EAAQ7vB,GACP,MAAM,IAAIiH,GAAG+mB,WAAW,GAC1B,EACN,KAAAqC,CAAMR,EAAQ7vB,EAAM8vB,EAAMvC,GAClB,OAAOkC,GAAMG,WAAWC,EAAQ7vB,EAAM8vB,EAAMvC,EAC9C,EACN,MAAA+C,CAAOkC,EAAUC,EAASC,GAClB,IAAIC,EACJ,IACEA,EAAW1rB,GAAG2rB,WAAWH,EAASC,EACpC,CAAE,MAAOzpB,GAAI,CACb,GAAI0pB,EAAU,CACZ,GAAI1rB,GAAGiqB,MAAMsB,EAAS1C,MAEpB,IAAK,IAAIhgB,KAAK6iB,EAASxB,SACrB,MAAM,IAAIlqB,GAAG+mB,WAAW,IAG5B/mB,GAAG4rB,eAAeF,EACpB,QAEOH,EAAS3C,OAAOsB,SAASqB,EAASxyB,MACzCyyB,EAAQtB,SAASuB,GAAYF,EAC7BA,EAASxyB,KAAO0yB,EAChBD,EAAQ9D,MAAQ8D,EAAQ/D,MAAQ8D,EAAS3C,OAAOlB,MAAQ6D,EAAS3C,OAAOnB,MAAQ5H,KAAK0H,KACvF,EACN,MAAA+B,CAAOV,EAAQ7vB,UACA6vB,EAAOsB,SAASnxB,GACvB6vB,EAAOlB,MAAQkB,EAAOnB,MAAQ5H,KAAK0H,KACrC,EACN,KAAAgC,CAAMX,EAAQ7vB,GACN,IAAInB,EAAOoI,GAAG2rB,WAAW/C,EAAQ7vB,GACjC,IAAK,IAAI8P,KAAKjR,EAAKsyB,SACjB,MAAM,IAAIlqB,GAAG+mB,WAAW,WAEnB6B,EAAOsB,SAASnxB,GACvB6vB,EAAOlB,MAAQkB,EAAOnB,MAAQ5H,KAAK0H,KACrC,EACN,OAAAiC,CAAQ5xB,GACA,MAAO,CAAC,IAAK,QAAS+F,OAAO+X,KAAK9d,EAAKsyB,UACzC,EACN,OAAAT,CAAQb,EAAQiD,EAASC,GACjB,IAAIl0B,EAAO4wB,GAAMG,WAAWC,EAAQiD,EAAS,MAAe,GAE5D,OADAj0B,EAAKiyB,KAAOiC,EACLl0B,CACT,EACN,QAAAkyB,CAASlyB,GACD,IAAKoI,GAAGqqB,OAAOzyB,EAAKixB,MAClB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,OAAOnvB,EAAKiyB,IACd,GAENlD,WAAW,CACX,IAAAnc,CAAKoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,GAC7B,IAAI7B,EAAWtD,EAAOhvB,KAAKsyB,SAC3B,GAAI6B,GAAYnF,EAAOhvB,KAAKwyB,UAAW,OAAO,EAC9C,IAAIje,EAAO7K,KAAK4jB,IAAI0B,EAAOhvB,KAAKwyB,UAAY2B,EAAU7xB,GAEtD,GADAN,EAAOuS,GAAQ,GACXA,EAAO,GAAK+d,EAASrpB,SACvB9B,EAAOhB,IAAImsB,EAASrpB,SAASkrB,EAAUA,EAAW5f,GAAOgb,QAEzD,IAAK,IAAIte,EAAI,EAAGA,EAAIsD,EAAMtD,IAAK9J,EAAOooB,EAASte,GAAKqhB,EAAS6B,EAAWljB,GAE1E,OAAOsD,CACT,EACN,KAAA1B,CAAMmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,EAAUC,GAIxC,GAFApyB,IAASmF,aAAkByd,eAEtBtiB,EAAQ,OAAO,EACpB,IAAItC,EAAOgvB,EAAOhvB,KAGlB,GAFAA,EAAK6vB,MAAQ7vB,EAAK8vB,MAAQ7H,KAAK0H,MAE3BxoB,EAAO8B,YAAcjJ,EAAKsyB,UAAYtyB,EAAKsyB,SAASrpB,UAAW,CACjE,GAAImrB,EAIF,OAHApyB,EAAoB,IAAbmyB,EAAgB,uDACvBn0B,EAAKsyB,SAAWnrB,EAAO8B,SAASsmB,EAAQA,EAASjtB,GACjDtC,EAAKwyB,UAAYlwB,EACVA,EACF,GAAuB,IAAnBtC,EAAKwyB,WAAgC,IAAb2B,EAGjC,OAFAn0B,EAAKsyB,SAAWnrB,EAAO3F,MAAM+tB,EAAQA,EAASjtB,GAC9CtC,EAAKwyB,UAAYlwB,EACVA,EACF,GAAI6xB,EAAW7xB,GAAUtC,EAAKwyB,UAEnC,OADAxyB,EAAKsyB,SAASnsB,IAAIgB,EAAO8B,SAASsmB,EAAQA,EAASjtB,GAAS6xB,GACrD7xB,CAEX,CAIA,GADAsuB,GAAMgC,kBAAkB5yB,EAAMm0B,EAAS7xB,GACnCtC,EAAKsyB,SAASrpB,UAAY9B,EAAO8B,SAEnCjJ,EAAKsyB,SAASnsB,IAAIgB,EAAO8B,SAASsmB,EAAQA,EAASjtB,GAAS6xB,QAE5D,IAAK,IAAIljB,EAAI,EAAGA,EAAI3O,EAAQ2O,IAC3BjR,EAAKsyB,SAAS6B,EAAWljB,GAAK9J,EAAOooB,EAASte,GAIjD,OADAjR,EAAKwyB,UAAY9oB,KAAKnE,IAAIvF,EAAKwyB,UAAW2B,EAAW7xB,GAC9CA,CACT,EACN,MAAAwvB,CAAO9C,EAAQO,EAAQ8E,GACf,IAAIF,EAAW5E,EAQf,GAPe,IAAX8E,EACFF,GAAYnF,EAAOmF,SACC,IAAXE,GACLjsB,GAAGmqB,OAAOvD,EAAOhvB,KAAKixB,QACxBkD,GAAYnF,EAAOhvB,KAAKwyB,WAGxB2B,EAAW,EACb,MAAM,IAAI/rB,GAAG+mB,WAAW,IAE1B,OAAOgF,CACT,EACN,IAAApC,CAAK/C,EAAQ1sB,EAAQ6xB,EAAUG,EAAMC,GAC7B,IAAKnsB,GAAGmqB,OAAOvD,EAAOhvB,KAAKixB,MACzB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAIxiB,EACA6nB,EACAlC,EAAWtD,EAAOhvB,KAAKsyB,SAE3B,GAAc,EAARiC,IAAcjC,GAAYA,EAASnrB,SAAW7C,EAAM6C,OAKnD,CAGL,GAFAqtB,GAAY,EACZ7nB,EAAMgkB,GAAUruB,IACXqK,EACH,MAAM,IAAIvE,GAAG+mB,WAAW,IAEtBmD,KAEE6B,EAAW,GAAKA,EAAW7xB,EAASgwB,EAAShwB,UAE7CgwB,EADEA,EAASrpB,SACAqpB,EAASrpB,SAASkrB,EAAUA,EAAW7xB,GAEvC8O,MAAMpI,UAAUxH,MAAMyW,KAAKqa,EAAU6B,EAAUA,EAAW7xB,IAGzEgC,EAAM6B,IAAImsB,EAAU3lB,GAExB,MAnBE6nB,GAAY,EACZ7nB,EAAM2lB,EAASmC,WAmBjB,MAAO,CAAE9nB,MAAK6nB,YAChB,EACN,KAAAxC,CAAMhD,EAAQ7nB,EAAQooB,EAAQjtB,EAAQoyB,GAG9B,OAFA9D,GAAM7B,WAAWlc,MAAMmc,EAAQ7nB,EAAQ,EAAG7E,EAAQitB,GAAQ,GAEnD,CACT,IAIFoF,GAAYxyB,MAAOQ,IACnB,IAAIgB,QAAoB9C,EAAU8B,GAElC,OADAX,EAAO2B,EAAa,sBAAsBhB,+BACnC,IAAIM,WAAWU,EAAY,EAIlCixB,GAAoB,IAAIpqB,IAASpC,GAAGysB,kBAAkBrqB,GAEtDsqB,GAAiB,GACjBC,GAA4B,CAACC,EAAWC,EAAUC,EAAQ3xB,KAEpC,oBAAX4xB,SAAwBA,QAAQ7sB,OAE3C,IAAI8sB,GAAU,EAQd,OAPAN,GAAe3jB,SAASkkB,IAClBD,GACAC,EAAO,aAAaJ,KACtBI,EAAO,UAAUL,EAAWC,EAAUC,EAAQ3xB,GAC9C6xB,GAAU,EACZ,IAEKA,CAAO,EAEdE,GAAyB,CAACtE,EAAQ7vB,EAAMwB,EAAK4yB,EAASC,EAAUnyB,EAAQE,EAASkyB,EAAgBrB,EAAQsB,KAGzG,IAAIT,EAAW9zB,EAAOwrB,GAAQxpB,QAAQunB,GAAKuB,MAAM+E,EAAQ7vB,IAAS6vB,EAC9DhnB,EAAMT,GAAuB,MAAM0rB,KACvC,SAASU,EAAYX,GACnB,SAASE,EAAOF,GACdU,MACKD,GACHb,GAAkB5D,EAAQ7vB,EAAM6zB,EAAWO,EAASC,EAAUpB,GAEhE/wB,MACA4G,GAAoBD,EACtB,CACI+qB,GAA0BC,EAAWC,EAAUC,GAAQ,KACzD3xB,MACA0G,GAAoBD,EAAI,KAI1BkrB,EAAOF,EACT,CACAprB,GAAiBI,GACC,iBAAPrH,EACTgyB,GAAUhyB,GAAKizB,KAAKD,EAAapyB,GAEjCoyB,EAAYhzB,EACd,EAGAkzB,GAAwBjoB,IACxB,IAAIkoB,EAAY,CACd,EAAK,EACL,KAAM,EACN,EAAK,IACL,KAAM,IACN,EAAK,KACL,KAAM,MAEJvB,EAAQuB,EAAUloB,GACtB,GAAoB,oBAAT2mB,EACT,MAAM,IAAInzB,MAAM,2BAA2BwM,KAE7C,OAAO2mB,CAAK,EAGZwB,GAAa,CAACR,EAASC,KACvB,IAAIvE,EAAO,EAGX,OAFIsE,IAAStE,GAAQ,KACjBuE,IAAUvE,GAAQ,KACfA,CAAI,EAQX+E,GAAYC,GAAU9nB,GAAa+nB,GAAUD,IAE7CE,GAAc,CACd,MAAS,GACT,OAAU,GACV,MAAS,GACT,MAAS,GACT,IAAO,GACP,MAAS,GACT,MAAS,EACT,QAAW,GACX,MAAS,EACT,OAAU,GACV,OAAU,EACV,YAAe,EACf,OAAU,GACV,OAAU,EACV,OAAU,GACV,QAAW,IACX,MAAS,GACT,OAAU,GACV,MAAS,GACT,OAAU,GACV,QAAW,GACX,OAAU,GACV,OAAU,GACV,OAAU,GACV,OAAU,GACV,OAAU,GACV,QAAW,GACX,MAAS,GACT,OAAU,GACV,OAAU,GACV,MAAS,GACT,OAAU,GACV,MAAS,GACT,KAAQ,GACR,OAAU,GACV,OAAU,GACV,MAAS,GACT,OAAU,IACV,SAAY,IACZ,OAAU,IACV,OAAU,IACV,OAAU,IACV,QAAW,IACX,OAAU,IACV,OAAU,IACV,QAAW,GACX,OAAU,GACV,MAAS,IACT,MAAS,IACT,OAAU,IACV,OAAU,IACV,QAAW,IACX,QAAW,IACX,UAAa,GACb,OAAU,IACV,OAAU,IACV,QAAW,IACX,MAAS,IACT,MAAS,IACT,OAAU,IACV,OAAU,IACV,QAAW,IACX,QAAW,GACX,KAAQ,IACR,OAAU,IACV,MAAS,IACT,OAAU,GACV,UAAa,GACb,QAAW,IACX,QAAW,EACX,SAAY,IACZ,OAAU,IACV,QAAW,IACX,QAAW,IACX,QAAW,IACX,QAAW,IACX,QAAW,IACX,SAAY,IACZ,OAAU,GACV,UAAa,GACb,aAAgB,GAChB,MAAS,GACT,WAAc,IACd,aAAgB,IAChB,WAAc,GACd,QAAW,GACX,aAAgB,EAChB,WAAc,GACd,SAAY,GACZ,YAAe,GACf,UAAa,IACb,aAAgB,GAChB,WAAc,EACd,aAAgB,GAChB,YAAe,GACf,SAAY,GACZ,UAAa,GACb,UAAa,IACb,aAAgB,GAChB,YAAe,GACf,SAAY,EACZ,aAAgB,GAChB,SAAY,GACZ,gBAAmB,GACnB,gBAAmB,IACnB,cAAiB,EACjB,UAAa,GACb,QAAW,GACX,SAAY,GACZ,aAAgB,IAChB,OAAU,IACV,OAAU,GACV,OAAU,GACV,QAAW,IACX,UAAa,IACb,OAAU,GACV,UAAa,GACb,UAAa,GACb,gBAAmB,GACnB,WAAc,GACd,SAAY,KAEZ/tB,GAAK,CACTwjB,KAAK,KACLwK,OAAO,GACPC,QAAQ,CACR,EACAC,QAAQ,GACRC,UAAU,EACVC,UAAU,KACVC,YAAY,IACZpuB,aAAY,EACZI,mBAAkB,EAClBiuB,YAAY,KACZC,eAAe,EACfC,UAAU,CACV,EACAzH,WAAW,cAAc/tB,MACnBD,KAAO,aAOP,WAAAiL,CAAY6pB,GAGV,IAAK,IAAI/O,KAFT1W,MAAMpL,EAAqB4wB,GAASC,GAAS,IAC7C5pB,KAAK4pB,MAAQA,EACGE,GACd,GAAIA,GAAYjP,KAAS+O,EAAO,CAC9B5pB,KAAKwqB,KAAO3P,EACZ,KACF,CAEJ,GAEN4P,SAAS,MACHC,OAAS,CAAC,EACV,UAAIC,GACF,OAAO3qB,KAAKrM,IACd,CACA,UAAIg3B,CAAOhH,GACT3jB,KAAKrM,KAAOgwB,CACd,CACA,UAAIiH,GACF,OAAkC,KAAb,QAAb5qB,KAAKkoB,MACf,CACA,WAAI2C,GACF,OAAkC,KAAb,QAAb7qB,KAAKkoB,MACf,CACA,YAAI4C,GACF,OAAqB,KAAb9qB,KAAKkoB,KACf,CACA,SAAIA,GACF,OAAOloB,KAAK0qB,OAAOxC,KACrB,CACA,SAAIA,CAAMvE,GACR3jB,KAAK0qB,OAAOxC,MAAQvE,CACtB,CACA,YAAImE,GACF,OAAO9nB,KAAK0qB,OAAO5C,QACrB,CACA,YAAIA,CAASnE,GACX3jB,KAAK0qB,OAAO5C,SAAWnE,CACzB,GAENoH,OAAO,MACD/F,SAAW,CAAC,EACZtC,WAAa,CAAC,EACdsI,SAAW,IACXC,UAAY,IACZC,QAAU,KACV,WAAAnrB,CAAY4kB,EAAQ7vB,EAAM8vB,EAAM/B,GACzB8B,IACHA,EAAS3kB,MAEXA,KAAK2kB,OAASA,EACd3kB,KAAKykB,MAAQE,EAAOF,MACpBzkB,KAAK7C,GAAKpB,GAAGmuB,YACblqB,KAAKlL,KAAOA,EACZkL,KAAK4kB,KAAOA,EACZ5kB,KAAK6iB,KAAOA,EACZ7iB,KAAKqjB,MAAQrjB,KAAKwjB,MAAQxjB,KAAKyjB,MAAQ7H,KAAK0H,KAC9C,CACA,QAAI/c,GACF,OAAQvG,KAAK4kB,KAAO5kB,KAAKgrB,YAAchrB,KAAKgrB,QAC9C,CACA,QAAIzkB,CAAKod,GACPA,EAAM3jB,KAAK4kB,MAAQ5kB,KAAKgrB,SAAWhrB,KAAK4kB,OAAS5kB,KAAKgrB,QACxD,CACA,SAAIxkB,GACF,OAAQxG,KAAK4kB,KAAO5kB,KAAKirB,aAAejrB,KAAKirB,SAC/C,CACA,SAAIzkB,CAAMmd,GACRA,EAAM3jB,KAAK4kB,MAAQ5kB,KAAKirB,UAAYjrB,KAAK4kB,OAAS5kB,KAAKirB,SACzD,CACA,YAAIE,GACF,OAAOpvB,GAAGiqB,MAAMhmB,KAAK4kB,KACvB,CACA,YAAIwG,GACF,OAAOrvB,GAAGsqB,SAASrmB,KAAK4kB,KAC1B,GAEN,UAAAyG,CAAWz2B,EAAM02B,EAAO,CAAC,GACnB,IAAK12B,EACH,MAAM,IAAImH,GAAG+mB,WAAW,IAE1BwI,EAAKC,gBAAiB,EAEjBlN,GAAKC,MAAM1pB,KACdA,EAAOmH,GAAG0kB,MAAQ,IAAM7rB,GAI1B42B,EAAU,IAAK,IAAIC,EAAS,EAAGA,EAAS,GAAIA,IAAU,CAQpD,IANA,IAAI7M,EAAQhqB,EAAKM,MAAM,KAAKkqB,QAAQC,KAAQA,IAGxCqM,EAAU3vB,GAAGwjB,KACboM,EAAe,IAEV/mB,EAAI,EAAGA,EAAIga,EAAM3oB,OAAQ2O,IAAK,CACrC,IAAIgnB,EAAUhnB,IAAMga,EAAM3oB,OAAO,EACjC,GAAI21B,GAAUN,EAAK3G,OAEjB,MAGF,GAAiB,MAAb/F,EAAMha,GAIV,GAAiB,OAAbga,EAAMha,GAAV,CAWA+mB,EAAetN,GAAKuB,MAAM+L,EAAc/M,EAAMha,IAC9C,IACE8mB,EAAU3vB,GAAG2rB,WAAWgE,EAAS9M,EAAMha,GACzC,CAAE,MAAO7G,GAIP,GAAkB,KAAbA,GAAG6rB,OAAiBgC,GAAUN,EAAKO,WACtC,MAAO,CAAEj3B,KAAM+2B,GAEjB,MAAM5tB,CACR,CASA,IANIhC,GAAG+vB,aAAaJ,IAAcE,IAAUN,EAAKC,eAC/CG,EAAUA,EAAQR,QAAQ3L,MAKxBxjB,GAAGqqB,OAAOsF,EAAQ9G,SAAWgH,GAAUN,EAAKS,QAAS,CACvD,IAAKL,EAAQ1G,SAASa,SACpB,MAAM,IAAI9pB,GAAG+mB,WAAW,IAE1B,IAAI8C,EAAO8F,EAAQ1G,SAASa,SAAS6F,GAChCrN,GAAKC,MAAMsH,KACdA,EAAOvH,GAAKiB,QAAQqM,GAAgB,IAAM/F,GAE5ChxB,EAAOgxB,EAAO,IAAMhH,EAAMzpB,MAAMyP,EAAI,GAAGgM,KAAK,KAC5C,SAAS4a,CACX,CAhCA,KATA,CAEE,GADAG,EAAetN,GAAKiB,QAAQqM,GACxB5vB,GAAGiwB,OAAON,GAAU,CACtB92B,EAAO+2B,EAAe,IAAM/M,EAAMzpB,MAAMyP,EAAI,GAAGgM,KAAK,KACpD,SAAS4a,CACX,CACEE,EAAUA,EAAQ/G,MAGtB,CAiCF,CACA,MAAO,CAAE/vB,KAAM+2B,EAAch4B,KAAM+3B,EACrC,CACA,MAAM,IAAI3vB,GAAG+mB,WAAW,GAC1B,EACJ,OAAAmJ,CAAQt4B,GACF,IAAIiB,EACJ,MAAO,EAAM,CACX,GAAImH,GAAGiwB,OAAOr4B,GAAO,CACnB,IAAI8wB,EAAQ9wB,EAAK8wB,MAAMyH,WACvB,OAAKt3B,EAC4B,MAA1B6vB,EAAMA,EAAMxuB,OAAO,GAAa,GAAGwuB,KAAS7vB,IAAS6vB,EAAQ7vB,EADlD6vB,CAEpB,CACA7vB,EAAOA,EAAO,GAAGjB,EAAKmB,QAAQF,IAASjB,EAAKmB,KAC5CnB,EAAOA,EAAKgxB,MACd,CACF,EACJ,QAAAwH,CAASC,EAAUt3B,GAGb,IAFA,IAAIu3B,EAAO,EAEFznB,EAAI,EAAGA,EAAI9P,EAAKmB,OAAQ2O,IAC/BynB,GAASA,GAAQ,GAAKA,EAAOv3B,EAAKyZ,WAAW3J,GAAM,EAErD,OAASwnB,EAAWC,IAAU,GAAKtwB,GAAGouB,UAAUl0B,MAClD,EACJ,WAAAq2B,CAAY34B,GACN,IAAI04B,EAAOtwB,GAAGowB,SAASx4B,EAAKgxB,OAAOxnB,GAAIxJ,EAAKmB,MAC5CnB,EAAK44B,UAAYxwB,GAAGouB,UAAUkC,GAC9BtwB,GAAGouB,UAAUkC,GAAQ14B,CACvB,EACJ,cAAAg0B,CAAeh0B,GACT,IAAI04B,EAAOtwB,GAAGowB,SAASx4B,EAAKgxB,OAAOxnB,GAAIxJ,EAAKmB,MAC5C,GAAIiH,GAAGouB,UAAUkC,KAAU14B,EACzBoI,GAAGouB,UAAUkC,GAAQ14B,EAAK44B,cACrB,CACL,IAAIb,EAAU3vB,GAAGouB,UAAUkC,GAC3B,MAAOX,EAAS,CACd,GAAIA,EAAQa,YAAc54B,EAAM,CAC9B+3B,EAAQa,UAAY54B,EAAK44B,UACzB,KACF,CACAb,EAAUA,EAAQa,SACpB,CACF,CACF,EACJ,UAAA7E,CAAW/C,EAAQ7vB,GACb,IAAI03B,EAAUzwB,GAAG0wB,UAAU9H,GAC3B,GAAI6H,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAG1B,IADA,IAAIH,EAAOtwB,GAAGowB,SAASxH,EAAOxnB,GAAIrI,GACzBnB,EAAOoI,GAAGouB,UAAUkC,GAAO14B,EAAMA,EAAOA,EAAK44B,UAAW,CAC/D,IAAIG,EAAW/4B,EAAKmB,KACpB,GAAInB,EAAKgxB,OAAOxnB,KAAOwnB,EAAOxnB,IAAMuvB,IAAa53B,EAC/C,OAAOnB,CAEX,CAEA,OAAOoI,GAAGmpB,OAAOP,EAAQ7vB,EAC3B,EACJ,UAAA4vB,CAAWC,EAAQ7vB,EAAM8vB,EAAM/B,GACzBltB,EAAwB,iBAAVgvB,GACd,IAAIhxB,EAAO,IAAIoI,GAAGgvB,OAAOpG,EAAQ7vB,EAAM8vB,EAAM/B,GAI7C,OAFA9mB,GAAGuwB,YAAY34B,GAERA,CACT,EACJ,WAAAg5B,CAAYh5B,GACNoI,GAAG4rB,eAAeh0B,EACpB,EACJ,MAAAq4B,CAAOr4B,GACD,OAAOA,IAASA,EAAKgxB,MACvB,EACJ,YAAAmH,CAAan4B,GACP,QAASA,EAAKu3B,OAChB,EACJ,MAAAhF,CAAOtB,GACD,OAA0B,SAAX,MAAPA,EACV,EACJ,KAAAoB,CAAMpB,GACA,OAA0B,SAAX,MAAPA,EACV,EACJ,MAAAwB,CAAOxB,GACD,OAA0B,SAAX,MAAPA,EACV,EACJ,QAAAyB,CAASzB,GACH,OAA0B,QAAX,MAAPA,EACV,EACJ,QAAAC,CAASD,GACH,OAA0B,SAAX,MAAPA,EACV,EACJ,MAAAE,CAAOF,GACD,OAA0B,QAAX,MAAPA,EACV,EACJ,QAAAgI,CAAShI,GACH,OAA0B,SAAX,MAAPA,EACV,EACJ,uBAAAiI,CAAwBC,GAClB,IAAIC,EAAQ,CAAC,IAAK,IAAK,MAAa,EAAPD,GAI7B,OAHY,IAAPA,IACHC,GAAS,KAEJA,CACT,EACJ,eAAAC,CAAgBr5B,EAAMo5B,GAChB,OAAIhxB,GAAGK,qBAIH2wB,EAAMtW,SAAS,MAAsB,IAAZ9iB,EAAKixB,SAEvBmI,EAAMtW,SAAS,MAAsB,IAAZ9iB,EAAKixB,SAE9BmI,EAAMtW,SAAS,MAAsB,GAAZ9iB,EAAKixB,MAPhC,EAIA,CAOX,EACJ,SAAA6H,CAAUjN,GACJ,IAAKzjB,GAAGiqB,MAAMxG,EAAIoF,MAAO,OAAO,GAChC,IAAI4H,EAAUzwB,GAAGixB,gBAAgBxN,EAAK,KACtC,OAAIgN,IACChN,EAAIwF,SAASE,OACX,EAD0B,EAEnC,EACJ,SAAA+H,CAAUzN,EAAK1qB,GACT,IAAKiH,GAAGiqB,MAAMxG,EAAIoF,MAChB,OAAO,GAET,IACa7oB,GAAG2rB,WAAWlI,EAAK1qB,GAC9B,OAAO,EACT,CAAE,MAAOiJ,GACT,CACA,OAAOhC,GAAGixB,gBAAgBxN,EAAK,KACjC,EACJ,SAAA0N,CAAU1N,EAAK1qB,EAAMq4B,GACf,IAAIx5B,EACJ,IACEA,EAAOoI,GAAG2rB,WAAWlI,EAAK1qB,EAC5B,CAAE,MAAOiJ,GACP,OAAOA,EAAE6rB,KACX,CACA,IAAI4C,EAAUzwB,GAAGixB,gBAAgBxN,EAAK,MACtC,GAAIgN,EACF,OAAOA,EAET,GAAIW,EAAO,CACT,IAAKpxB,GAAGiqB,MAAMryB,EAAKixB,MACjB,OAAO,GAET,GAAI7oB,GAAGiwB,OAAOr4B,IAASoI,GAAGkwB,QAAQt4B,KAAUoI,GAAG0kB,MAC7C,OAAO,EAEX,MACE,GAAI1kB,GAAGiqB,MAAMryB,EAAKixB,MAChB,OAAO,GAGX,OAAO,CACT,EACJ,OAAAwI,CAAQz5B,EAAMu0B,GACR,OAAKv0B,EAGDoI,GAAGqqB,OAAOzyB,EAAKixB,MACV,GACE7oB,GAAGiqB,MAAMryB,EAAKixB,QACmB,MAAtC7oB,GAAG8wB,wBAAwB3E,IACf,IAARA,GACC,GAGJnsB,GAAGixB,gBAAgBr5B,EAAMoI,GAAG8wB,wBAAwB3E,IAVlD,EAWX,EACJ,aAAAmF,CAAcC,EAAIz1B,GACZ,IAAKy1B,EACH,MAAM,IAAIvxB,GAAG+mB,WAAWjrB,GAE1B,OAAOy1B,CACT,EACJC,aAAa,KACb,MAAAC,GACM,IAAK,IAAIzL,EAAK,EAAGA,GAAMhmB,GAAGwxB,aAAcxL,IACtC,IAAKhmB,GAAGkuB,QAAQlI,GACd,OAAOA,EAGX,MAAM,IAAIhmB,GAAG+mB,WAAW,GAC1B,EACJ,gBAAA2K,CAAiB1L,GACX,IAAIY,EAAS5mB,GAAG2xB,UAAU3L,GAC1B,IAAKY,EACH,MAAM,IAAI5mB,GAAG+mB,WAAW,GAE1B,OAAOH,CACT,EACJ+K,UAAW3L,GAAOhmB,GAAGkuB,QAAQlI,GAC7B,YAAA4L,CAAahL,EAAQZ,GAAK,GAUpB,OATApsB,EAAOosB,IAAO,GAGdY,EAASjpB,OAAOqT,OAAO,IAAIhR,GAAG0uB,SAAY9H,IAC/B,GAAPZ,IACFA,EAAKhmB,GAAGyxB,UAEV7K,EAAOZ,GAAKA,EACZhmB,GAAGkuB,QAAQlI,GAAMY,EACVA,CACT,EACJ,WAAAiL,CAAY7L,GACNhmB,GAAGkuB,QAAQlI,GAAM,IACnB,EACJ,SAAA8L,CAAUC,EAAY/L,GAAK,GACrB,IAAIY,EAAS5mB,GAAG4xB,aAAaG,EAAY/L,GAEzC,OADAY,EAAOD,YAAYqL,MAAMpL,GAClBA,CACT,EACJ,SAAAqL,CAAUrL,EAAQhvB,EAAMmzB,GAClB,IAAI7B,EAAUtC,GAAQD,WAAWuC,QAC7B5J,EAAM4J,EAAUtC,EAAShvB,EAC7BsxB,IAAYtxB,EAAKqxB,SAASC,QAC1BlpB,GAAGsxB,cAAcpI,EAAS,IAC1BA,EAAQ5J,EAAKyL,EACf,EACJf,kBAAkB,CAClB,IAAAtvB,CAAKksB,GACG,IAAIsL,EAASlyB,GAAGmyB,UAAUvL,EAAOhvB,KAAKkvB,MAEtCF,EAAOD,WAAauL,EAAOvL,WAE3BC,EAAOD,WAAWjsB,OAAOksB,EAC3B,EACN,MAAA8C,GACQ,MAAM,IAAI1pB,GAAG+mB,WAAW,GAC1B,GAENqL,MAAO9L,GAAS,GAAS,EACzB+L,MAAO/L,GAAiB,IAAR,EAChBgM,QAAQ,CAACC,EAAIC,IAAQ,GAAQ,EAAI,EACjC,cAAA9L,CAAeJ,EAAKC,GACdvmB,GAAGiuB,QAAQ3H,GAAO,CAAEK,WAAYJ,EAClC,EACJ4L,UAAW7L,GAAQtmB,GAAGiuB,QAAQ3H,GAC9B,SAAAmM,CAAU/J,GACJ,IAAIsF,EAAS,GACT0E,EAAQ,CAAChK,GAEb,MAAOgK,EAAMx4B,OAAQ,CACnB,IAAIy4B,EAAID,EAAM/qB,MAEdqmB,EAAO3pB,KAAKsuB,GAEZD,EAAMruB,QAAQsuB,EAAE3E,OAClB,CAEA,OAAOA,CACT,EACJ,MAAA4E,CAAOC,EAAU/wB,GACY,mBAAZ+wB,IACT/wB,EAAW+wB,EACXA,GAAW,GAGb7yB,GAAGuuB,iBAECvuB,GAAGuuB,eAAiB,GACtBzyB,EAAI,YAAYkE,GAAGuuB,yFAGrB,IAAIP,EAAShuB,GAAGyyB,UAAUzyB,GAAGwjB,KAAKkF,OAC9BoK,EAAY,EAEhB,SAASC,EAAWtC,GAGlB,OAFA72B,EAAOoG,GAAGuuB,eAAiB,GAC3BvuB,GAAGuuB,iBACIzsB,EAAS2uB,EAClB,CAEA,SAASuC,EAAKvC,GACZ,GAAIA,EACF,OAAKuC,EAAKC,aAIV,GAHED,EAAKC,SAAU,EACRF,EAAWtC,MAIhBqC,GAAa9E,EAAO9zB,QACxB64B,EAAW,KAEf,CAGA/E,EAAOjlB,SAAS2f,IACd,IAAKA,EAAM7wB,KAAK+6B,OACd,OAAOI,EAAK,MAEdtK,EAAM7wB,KAAK+6B,OAAOlK,EAAOmK,EAAUG,EAAK,GAE5C,EACJ,KAAAtK,CAAM7wB,EAAM03B,EAAMY,GACZ,GAAmB,iBAARt4B,EAGT,MAAMA,EAER,IAEID,EAFA4rB,EAAsB,MAAf2M,EACP+C,GAAU/C,EAGd,GAAI3M,GAAQxjB,GAAGwjB,KACb,MAAM,IAAIxjB,GAAG+mB,WAAW,IACnB,IAAKvD,IAAS0P,EAAQ,CAC3B,IAAI/J,EAASnpB,GAAGsvB,WAAWa,EAAY,CAAEX,cAAc,IAKvD,GAHAW,EAAahH,EAAOtwB,KACpBjB,EAAOuxB,EAAOvxB,KAEVoI,GAAG+vB,aAAan4B,GAClB,MAAM,IAAIoI,GAAG+mB,WAAW,IAG1B,IAAK/mB,GAAGiqB,MAAMryB,EAAKixB,MACjB,MAAM,IAAI7oB,GAAG+mB,WAAW,GAE5B,CAEA,IAAI2B,EAAQ,CACV7wB,OACA03B,OACAY,aACAnC,OAAQ,IAINmF,EAAYt7B,EAAK6wB,MAAMA,GAgB3B,OAfAyK,EAAUzK,MAAQA,EAClBA,EAAMlF,KAAO2P,EAET3P,EACFxjB,GAAGwjB,KAAO2P,EACDv7B,IAETA,EAAKu3B,QAAUzG,EAGX9wB,EAAK8wB,OACP9wB,EAAK8wB,MAAMsF,OAAO3pB,KAAKqkB,IAIpByK,CACT,EACJ,OAAAC,CAAQjD,GACF,IAAIhH,EAASnpB,GAAGsvB,WAAWa,EAAY,CAAEX,cAAc,IAEvD,IAAKxvB,GAAG+vB,aAAa5G,EAAOvxB,MAC1B,MAAM,IAAIoI,GAAG+mB,WAAW,IAI1B,IAAInvB,EAAOuxB,EAAOvxB,KACd8wB,EAAQ9wB,EAAKu3B,QACbnB,EAAShuB,GAAGyyB,UAAU/J,GAE1B/qB,OAAO+X,KAAK1V,GAAGouB,WAAWrlB,SAASunB,IACjC,IAAIX,EAAU3vB,GAAGouB,UAAUkC,GAE3B,MAAOX,EAAS,CACd,IAAI0D,EAAO1D,EAAQa,UAEfxC,EAAOtT,SAASiV,EAAQjH,QAC1B1oB,GAAG4wB,YAAYjB,GAGjBA,EAAU0D,CACZ,KAIFz7B,EAAKu3B,QAAU,KAGf,IAAIjqB,EAAMtN,EAAK8wB,MAAMsF,OAAOzhB,QAAQmc,GACpC9uB,GAAgB,IAATsL,GACPtN,EAAK8wB,MAAMsF,OAAO7V,OAAOjT,EAAK,EAChC,EACJ,MAAAikB,CAAOP,EAAQ7vB,GACT,OAAO6vB,EAAOK,SAASE,OAAOP,EAAQ7vB,EACxC,EACJ,KAAAqwB,CAAMvwB,EAAMgwB,EAAMvC,GACZ,IAAI6C,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAE+vB,QAAQ,IACvCA,EAASO,EAAOvxB,KAChBmB,EAAOupB,GAAKoB,SAAS7qB,GACzB,IAAKE,EACH,MAAM,IAAIiH,GAAG+mB,WAAW,IAE1B,GAAa,MAAThuB,GAAyB,OAATA,EAClB,MAAM,IAAIiH,GAAG+mB,WAAW,IAE1B,IAAI0J,EAAUzwB,GAAGkxB,UAAUtI,EAAQ7vB,GACnC,GAAI03B,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1B,IAAK7H,EAAOK,SAASG,MACnB,MAAM,IAAIppB,GAAG+mB,WAAW,IAE1B,OAAO6B,EAAOK,SAASG,MAAMR,EAAQ7vB,EAAM8vB,EAAMvC,EACnD,EACJ,MAAAgN,CAAOz6B,GACD,OAAOmH,GAAGuzB,WAAWvzB,GAAGsvB,WAAWz2B,EAAM,CAACm3B,QAAQ,IAAOp4B,KAC3D,EACJ,YAAA47B,CAAa5M,GAIP,OAAO5mB,GAAGuzB,WAAW3M,EAAOhvB,KAC9B,EACJ,UAAA27B,CAAW37B,GAIL,IAAIsc,EAAM,CACRuf,MAAO,KACPC,OAAQ,KACRrI,OAAQ,IACRsI,MAAO,IACPC,OAAQ,IACRC,MAAO7zB,GAAGmuB,UACV2F,MAAO9zB,GAAGmuB,UAAY,EACtB4F,KAAM,GACN5H,MAAO,EACP6H,QAAS,KAMX,OAHIp8B,EAAKqxB,SAASqK,QAChB31B,OAAOqT,OAAOkD,EAAKtc,EAAKqxB,SAASqK,OAAO17B,EAAK8wB,MAAM6G,KAAK/L,OAEnDtP,CACT,EACJ,MAAAlF,CAAOnW,EAAMgwB,EAAO,KAGd,OAFAA,GAAQ,KACRA,GAAQ,MACD7oB,GAAGopB,MAAMvwB,EAAMgwB,EAAM,EAC9B,EACJ,KAAAoL,CAAMp7B,EAAMgwB,EAAO,KAGb,OAFAA,GAAQ,KACRA,GAAQ,MACD7oB,GAAGopB,MAAMvwB,EAAMgwB,EAAM,EAC9B,EACJ,SAAAqL,CAAUr7B,EAAMgwB,GACV,IAAIsL,EAAOt7B,EAAKM,MAAM,KAClBi7B,EAAI,GACR,IAAK,IAAI3Q,KAAO0Q,EACd,GAAK1Q,EAAL,EACI2Q,GAAK9R,GAAKC,MAAM1pB,MAAOu7B,GAAK,KAChCA,GAAK3Q,EACL,IACEzjB,GAAGi0B,MAAMG,EAAGvL,EACd,CAAE,MAAM7mB,GACN,GAAe,IAAXA,EAAE6rB,MAAa,MAAM7rB,CAC3B,CAPkB,CAStB,EACJ,KAAAqyB,CAAMx7B,EAAMgwB,EAAMvC,GAMZ,MALkB,oBAAPA,IACTA,EAAMuC,EACNA,EAAO,KAETA,GAAQ,KACD7oB,GAAGopB,MAAMvwB,EAAMgwB,EAAMvC,EAC9B,EACJ,OAAAmD,CAAQqC,EAASwI,GACX,IAAK/P,GAAQxpB,QAAQ+wB,GACnB,MAAM,IAAI9rB,GAAG+mB,WAAW,IAE1B,IAAIoC,EAASnpB,GAAGsvB,WAAWgF,EAAS,CAAE1L,QAAQ,IAC1CA,EAASO,EAAOvxB,KACpB,IAAKgxB,EACH,MAAM,IAAI5oB,GAAG+mB,WAAW,IAE1B,IAAI8E,EAAUvJ,GAAKoB,SAAS4Q,GACxB7D,EAAUzwB,GAAGkxB,UAAUtI,EAAQiD,GACnC,GAAI4E,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1B,IAAK7H,EAAOK,SAASQ,QACnB,MAAM,IAAIzpB,GAAG+mB,WAAW,IAE1B,OAAO6B,EAAOK,SAASQ,QAAQb,EAAQiD,EAASC,EAClD,EACJ,MAAAzC,CAAOkL,EAAUC,GACX,IAKIrL,EAAQsL,EAASjJ,EALjBkJ,EAAcpS,GAAKiB,QAAQgR,GAC3BI,EAAcrS,GAAKiB,QAAQiR,GAC3BI,EAAWtS,GAAKoB,SAAS6Q,GACzB9I,EAAWnJ,GAAKoB,SAAS8Q,GAU7B,GALArL,EAASnpB,GAAGsvB,WAAWiF,EAAU,CAAE3L,QAAQ,IAC3C6L,EAAUtL,EAAOvxB,KACjBuxB,EAASnpB,GAAGsvB,WAAWkF,EAAU,CAAE5L,QAAQ,IAC3C4C,EAAUrC,EAAOvxB,MAEZ68B,IAAYjJ,EAAS,MAAM,IAAIxrB,GAAG+mB,WAAW,IAElD,GAAI0N,EAAQ/L,QAAU8C,EAAQ9C,MAC5B,MAAM,IAAI1oB,GAAG+mB,WAAW,IAG1B,IAYI2E,EAZAH,EAAWvrB,GAAG2rB,WAAW8I,EAASG,GAElCjQ,EAAWJ,GAAQI,SAAS4P,EAAUI,GAC1C,GAA2B,MAAvBhQ,EAASnC,OAAO,GAClB,MAAM,IAAIxiB,GAAG+mB,WAAW,IAI1B,GADApC,EAAWJ,GAAQI,SAAS6P,EAAUE,GACX,MAAvB/P,EAASnC,OAAO,GAClB,MAAM,IAAIxiB,GAAG+mB,WAAW,IAI1B,IACE2E,EAAW1rB,GAAG2rB,WAAWH,EAASC,EACpC,CAAE,MAAOzpB,GAET,CAEA,GAAIupB,IAAaG,EAAjB,CAIA,IAAI0F,EAAQpxB,GAAGiqB,MAAMsB,EAAS1C,MAC1B4H,EAAUzwB,GAAGmxB,UAAUsD,EAASG,EAAUxD,GAC9C,GAAIX,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAO1B,GAHAA,EAAU/E,EACR1rB,GAAGmxB,UAAU3F,EAASC,EAAU2F,GAChCpxB,GAAGkxB,UAAU1F,EAASC,GACpBgF,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1B,IAAKgE,EAAQxL,SAASI,OACpB,MAAM,IAAIrpB,GAAG+mB,WAAW,IAE1B,GAAI/mB,GAAG+vB,aAAaxE,IAAcG,GAAY1rB,GAAG+vB,aAAarE,GAC5D,MAAM,IAAI1rB,GAAG+mB,WAAW,IAG1B,GAAIyE,IAAYiJ,IACdhE,EAAUzwB,GAAGixB,gBAAgBwD,EAAS,KAClChE,GACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAI5BzwB,GAAG4rB,eAAeL,GAElB,IACEkJ,EAAQxL,SAASI,OAAOkC,EAAUC,EAASC,GAG3CF,EAAS3C,OAAS4C,CACpB,CAAE,MAAOxpB,GACP,MAAMA,CACR,CAAE,QAGAhC,GAAGuwB,YAAYhF,EACjB,CA1CA,CA2CF,EACJ,KAAAhC,CAAM1wB,GACA,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAE+vB,QAAQ,IACvCA,EAASO,EAAOvxB,KAChBmB,EAAOupB,GAAKoB,SAAS7qB,GACrBjB,EAAOoI,GAAG2rB,WAAW/C,EAAQ7vB,GAC7B03B,EAAUzwB,GAAGmxB,UAAUvI,EAAQ7vB,GAAM,GACzC,GAAI03B,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1B,IAAK7H,EAAOK,SAASM,MACnB,MAAM,IAAIvpB,GAAG+mB,WAAW,IAE1B,GAAI/mB,GAAG+vB,aAAan4B,GAClB,MAAM,IAAIoI,GAAG+mB,WAAW,IAE1B6B,EAAOK,SAASM,MAAMX,EAAQ7vB,GAC9BiH,GAAG4wB,YAAYh5B,EACjB,EACJ,OAAA4xB,CAAQ3wB,GACF,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAQ,IACvCp4B,EAAOuxB,EAAOvxB,KACd4xB,EAAUxpB,GAAGsxB,cAAc15B,EAAKqxB,SAASO,QAAS,IACtD,OAAOA,EAAQ5xB,EACjB,EACJ,MAAA0xB,CAAOzwB,GACD,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAE+vB,QAAQ,IACvCA,EAASO,EAAOvxB,KACpB,IAAKgxB,EACH,MAAM,IAAI5oB,GAAG+mB,WAAW,IAE1B,IAAIhuB,EAAOupB,GAAKoB,SAAS7qB,GACrBjB,EAAOoI,GAAG2rB,WAAW/C,EAAQ7vB,GAC7B03B,EAAUzwB,GAAGmxB,UAAUvI,EAAQ7vB,GAAM,GACzC,GAAI03B,EAIF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1B,IAAK7H,EAAOK,SAASK,OACnB,MAAM,IAAItpB,GAAG+mB,WAAW,IAE1B,GAAI/mB,GAAG+vB,aAAan4B,GAClB,MAAM,IAAIoI,GAAG+mB,WAAW,IAE1B6B,EAAOK,SAASK,OAAOV,EAAQ7vB,GAC/BiH,GAAG4wB,YAAYh5B,EACjB,EACJ,QAAAkyB,CAASjxB,GACH,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,GACvBgxB,EAAOV,EAAOvxB,KAClB,IAAKiyB,EACH,MAAM,IAAI7pB,GAAG+mB,WAAW,IAE1B,IAAK8C,EAAKZ,SAASa,SACjB,MAAM,IAAI9pB,GAAG+mB,WAAW,IAE1B,OAAO8C,EAAKZ,SAASa,SAASD,EAChC,EACJ,IAAAgL,CAAKh8B,EAAMi8B,GACL,IAAI3L,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAS8E,IACxCl9B,EAAOuxB,EAAOvxB,KACdoxB,EAAUhpB,GAAGsxB,cAAc15B,EAAKqxB,SAASD,QAAS,IACtD,OAAOA,EAAQpxB,EACjB,EACJ,KAAAm9B,CAAM/O,GACA,IAAIY,EAAS5mB,GAAG0xB,iBAAiB1L,GAC7BpuB,EAAOgvB,EAAOhvB,KACdoxB,EAAUpC,EAAOD,WAAWqC,QAC5B1J,EAAM0J,EAAUpC,EAAShvB,EAG7B,OAFAoxB,IAAYpxB,EAAKqxB,SAASD,QAC1BhpB,GAAGsxB,cAActI,EAAS,IACnBA,EAAQ1J,EACjB,EACJ,KAAA0V,CAAMn8B,GACA,OAAOmH,GAAG60B,KAAKh8B,GAAM,EACvB,EACJ,OAAAo8B,CAAQrO,EAAQhvB,EAAMixB,EAAMiM,GACtB90B,GAAGiyB,UAAUrL,EAAQhvB,EAAM,CACzBixB,KAAc,KAAPA,GAA4B,KAAZjxB,EAAKixB,KAC5BnB,MAAO7H,KAAK0H,MACZuN,cAEJ,EACJ,KAAAI,CAAMr8B,EAAMgwB,EAAMiM,GACZ,IAAIl9B,EACJ,GAAmB,iBAARiB,EAAkB,CAC3B,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAS8E,IAC5Cl9B,EAAOuxB,EAAOvxB,IAChB,MACEA,EAAOiB,EAETmH,GAAGi1B,QAAQ,KAAMr9B,EAAMixB,EAAMiM,EAC/B,EACJ,MAAAK,CAAOt8B,EAAMgwB,GACP7oB,GAAGk1B,MAAMr8B,EAAMgwB,GAAM,EACvB,EACJ,MAAAuM,CAAOpP,EAAI6C,GACL,IAAIjC,EAAS5mB,GAAG0xB,iBAAiB1L,GACjChmB,GAAGi1B,QAAQrO,EAAQA,EAAOhvB,KAAMixB,GAAM,EACxC,EACJ,OAAAwM,CAAQzO,EAAQhvB,EAAMk9B,GAChB90B,GAAGiyB,UAAUrL,EAAQhvB,EAAM,CACzB09B,UAAWzV,KAAK0H,MAChBuN,cAGJ,EACJ,KAAAS,CAAM18B,EAAMqyB,EAAKC,EAAK2J,GAChB,IAAIl9B,EACJ,GAAmB,iBAARiB,EAAkB,CAC3B,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAS8E,IAC5Cl9B,EAAOuxB,EAAOvxB,IAChB,MACEA,EAAOiB,EAETmH,GAAGq1B,QAAQ,KAAMz9B,EAAMk9B,EACzB,EACJ,MAAAU,CAAO38B,EAAMqyB,EAAKC,GACZnrB,GAAGu1B,MAAM18B,EAAMqyB,EAAKC,GAAK,EAC3B,EACJ,MAAAsK,CAAOzP,EAAIkF,EAAKC,GACV,IAAIvE,EAAS5mB,GAAG0xB,iBAAiB1L,GACjChmB,GAAGq1B,QAAQzO,EAAQA,EAAOhvB,MAAM,EAClC,EACJ,UAAA89B,CAAW9O,EAAQhvB,EAAMmkB,GACnB,GAAI/b,GAAGiqB,MAAMryB,EAAKixB,MAChB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAK/mB,GAAGmqB,OAAOvyB,EAAKixB,MAClB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAI0J,EAAUzwB,GAAGixB,gBAAgBr5B,EAAM,KACvC,GAAI64B,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1BzwB,GAAGiyB,UAAUrL,EAAQhvB,EAAM,CACzBuU,KAAM4P,EACNuZ,UAAWzV,KAAK0H,OAEpB,EACJ,QAAAoO,CAAS98B,EAAMkjB,GACT,GAAIA,EAAM,EACR,MAAM,IAAI/b,GAAG+mB,WAAW,IAE1B,IAAInvB,EACJ,GAAmB,iBAARiB,EAAkB,CAC3B,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAQ,IAC3Cp4B,EAAOuxB,EAAOvxB,IAChB,MACEA,EAAOiB,EAETmH,GAAG01B,WAAW,KAAM99B,EAAMmkB,EAC5B,EACJ,SAAA6Z,CAAU5P,EAAIjK,GACR,IAAI6K,EAAS5mB,GAAG0xB,iBAAiB1L,GACjC,GAAIjK,EAAM,GAAkC,KAAb,QAAf6K,EAAOuF,OACrB,MAAM,IAAInsB,GAAG+mB,WAAW,IAE1B/mB,GAAG01B,WAAW9O,EAAQA,EAAOhvB,KAAMmkB,EACrC,EACJ,KAAA8Z,CAAMh9B,EAAMyuB,EAAOG,GACb,IAAI0B,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAQ,IACvCp4B,EAAOuxB,EAAOvxB,KACdsxB,EAAUlpB,GAAGsxB,cAAc15B,EAAKqxB,SAASC,QAAS,IACtDA,EAAQtxB,EAAM,CACZ0vB,MAAOA,EACPG,MAAOA,GAEX,EACJ,IAAA/sB,CAAK7B,EAAMszB,EAAOtD,EAAO,KACnB,GAAa,KAAThwB,EACF,MAAM,IAAImH,GAAG+mB,WAAW,IAQ1B,IAAInvB,EACAk+B,EACJ,GARA3J,EAAwB,iBAATA,EAAoBsB,GAAqBtB,GAASA,EAE/DtD,EADW,GAARsD,EACY,KAAPtD,EAAe,MAEhB,EAIU,iBAARhwB,EACTjB,EAAOiB,MACF,CACLi9B,EAAYj9B,EAAK0f,SAAS,KAI1B,IAAI4Q,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAC/Bm3B,SAAkB,OAAR7D,GACV2D,YAAY,IAEdl4B,EAAOuxB,EAAOvxB,KACdiB,EAAOswB,EAAOtwB,IAChB,CAEA,IAAIk9B,GAAU,EACd,GAAa,GAAR5J,EACH,GAAIv0B,GAEF,GAAa,IAARu0B,EACH,MAAM,IAAInsB,GAAG+mB,WAAW,QAErB,IAAI+O,EACT,MAAM,IAAI91B,GAAG+mB,WAAW,IAMxBnvB,EAAOoI,GAAGopB,MAAMvwB,EAAa,IAAPgwB,EAAc,GACpCkN,GAAU,CACZ,CAEF,IAAKn+B,EACH,MAAM,IAAIoI,GAAG+mB,WAAW,IAO1B,GAJI/mB,GAAGsqB,SAAS1yB,EAAKixB,QACnBsD,IAAS,KAGE,MAARA,IAAmBnsB,GAAGiqB,MAAMryB,EAAKixB,MACpC,MAAM,IAAI7oB,GAAG+mB,WAAW,IAK1B,IAAKgP,EAAS,CACZ,IAAItF,EAAUzwB,GAAGqxB,QAAQz5B,EAAMu0B,GAC/B,GAAIsE,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,EAE5B,CAEa,IAARtE,IAAiB4J,GACpB/1B,GAAG21B,SAAS/9B,EAAM,GAGpBu0B,IAAS,OAGT,IAAIvF,EAAS5mB,GAAG4xB,aAAa,CAC3Bh6B,OACAiB,KAAMmH,GAAGkwB,QAAQt4B,GACjBu0B,QACAnF,UAAU,EACV+E,SAAU,EACVpF,WAAY/uB,EAAK+uB,WAEjBqP,SAAU,GACVj6B,OAAO,IAcT,OAXI6qB,EAAOD,WAAWjsB,MACpBksB,EAAOD,WAAWjsB,KAAKksB,GAErBmP,GACF/1B,GAAGk1B,MAAMt9B,EAAa,IAAPixB,IAEbzxB,EAAO,iBAA6B,EAAR+0B,GACxBtzB,KAAQmH,GAAGwuB,YACfxuB,GAAGwuB,UAAU31B,GAAQ,GAGlB+tB,CACT,EACJ,KAAAK,CAAML,GACA,GAAI5mB,GAAGi2B,SAASrP,GACd,MAAM,IAAI5mB,GAAG+mB,WAAW,GAEtBH,EAAOsP,WAAUtP,EAAOsP,SAAW,MACvC,IACMtP,EAAOD,WAAWM,OACpBL,EAAOD,WAAWM,MAAML,EAE5B,CAAE,MAAO5kB,GACP,MAAMA,CACR,CAAE,QACAhC,GAAG6xB,YAAYjL,EAAOZ,GACxB,CACAY,EAAOZ,GAAK,IACd,EACJ,QAAAiQ,CAASrP,GACH,OAAqB,OAAdA,EAAOZ,EAChB,EACJ,MAAA0D,CAAO9C,EAAQO,EAAQ8E,GACjB,GAAIjsB,GAAGi2B,SAASrP,GACd,MAAM,IAAI5mB,GAAG+mB,WAAW,GAE1B,IAAKH,EAAOI,WAAaJ,EAAOD,WAAW+C,OACzC,MAAM,IAAI1pB,GAAG+mB,WAAW,IAE1B,GAAc,GAAVkF,GAAyB,GAAVA,GAAyB,GAAVA,EAChC,MAAM,IAAIjsB,GAAG+mB,WAAW,IAI1B,OAFAH,EAAOmF,SAAWnF,EAAOD,WAAW+C,OAAO9C,EAAQO,EAAQ8E,GAC3DrF,EAAOoP,SAAW,GACXpP,EAAOmF,QAChB,EACJ,IAAAvhB,CAAKoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,GAE/B,GADAnyB,EAAOutB,GAAU,GACbjtB,EAAS,GAAK6xB,EAAW,EAC3B,MAAM,IAAI/rB,GAAG+mB,WAAW,IAE1B,GAAI/mB,GAAGi2B,SAASrP,GACd,MAAM,IAAI5mB,GAAG+mB,WAAW,GAE1B,GAAiC,KAAb,QAAfH,EAAOuF,OACV,MAAM,IAAInsB,GAAG+mB,WAAW,GAE1B,GAAI/mB,GAAGiqB,MAAMrD,EAAOhvB,KAAKixB,MACvB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAKH,EAAOD,WAAWnc,KACrB,MAAM,IAAIxK,GAAG+mB,WAAW,IAE1B,IAAIoP,EAA6B,oBAAZpK,EACrB,GAAKoK,GAEE,IAAKvP,EAAOI,SACjB,MAAM,IAAIhnB,GAAG+mB,WAAW,SAFxBgF,EAAWnF,EAAOmF,SAIpB,IAAIhG,EAAYa,EAAOD,WAAWnc,KAAKoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,GAEvE,OADKoK,IAASvP,EAAOmF,UAAYhG,GAC1BA,CACT,EACJ,KAAAtb,CAAMmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,EAAUC,GAE1C,GADApyB,EAAOutB,GAAU,GACbjtB,EAAS,GAAK6xB,EAAW,EAC3B,MAAM,IAAI/rB,GAAG+mB,WAAW,IAE1B,GAAI/mB,GAAGi2B,SAASrP,GACd,MAAM,IAAI5mB,GAAG+mB,WAAW,GAE1B,GAAiC,KAAb,QAAfH,EAAOuF,OACV,MAAM,IAAInsB,GAAG+mB,WAAW,GAE1B,GAAI/mB,GAAGiqB,MAAMrD,EAAOhvB,KAAKixB,MACvB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAKH,EAAOD,WAAWlc,MACrB,MAAM,IAAIzK,GAAG+mB,WAAW,IAEtBH,EAAOI,UAA2B,KAAfJ,EAAOuF,OAE5BnsB,GAAG0pB,OAAO9C,EAAQ,EAAG,GAEvB,IAAIuP,EAA6B,oBAAZpK,EACrB,GAAKoK,GAEE,IAAKvP,EAAOI,SACjB,MAAM,IAAIhnB,GAAG+mB,WAAW,SAFxBgF,EAAWnF,EAAOmF,SAIpB,IAAIqK,EAAexP,EAAOD,WAAWlc,MAAMmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,EAAUC,GAErF,OADKmK,IAASvP,EAAOmF,UAAYqK,GAC1BA,CACT,EACJ,IAAAzM,CAAK/C,EAAQ1sB,EAAQ6xB,EAAUG,EAAMC,GAO/B,GAAmB,KAAP,EAAPD,IACkB,KAAP,EAARC,IAC4B,KAAb,QAAfvF,EAAOuF,OACb,MAAM,IAAInsB,GAAG+mB,WAAW,GAE1B,GAAiC,KAAb,QAAfH,EAAOuF,OACV,MAAM,IAAInsB,GAAG+mB,WAAW,GAE1B,IAAKH,EAAOD,WAAWgD,KACrB,MAAM,IAAI3pB,GAAG+mB,WAAW,IAE1B,IAAK7sB,EACH,MAAM,IAAI8F,GAAG+mB,WAAW,IAE1B,OAAOH,EAAOD,WAAWgD,KAAK/C,EAAQ1sB,EAAQ6xB,EAAUG,EAAMC,EAChE,EACJ,KAAAvC,CAAMhD,EAAQ7nB,EAAQooB,EAAQjtB,EAAQoyB,GAEhC,OADA1yB,EAAOutB,GAAU,GACZP,EAAOD,WAAWiD,MAGhBhD,EAAOD,WAAWiD,MAAMhD,EAAQ7nB,EAAQooB,EAAQjtB,EAAQoyB,GAFtD,CAGX,EACJ,KAAA+J,CAAMzP,EAAQ0P,EAAKhX,GACb,IAAKsH,EAAOD,WAAW0P,MACrB,MAAM,IAAIr2B,GAAG+mB,WAAW,IAE1B,OAAOH,EAAOD,WAAW0P,MAAMzP,EAAQ0P,EAAKhX,EAC9C,EACJ,QAAAiX,CAAS19B,EAAM02B,EAAO,CAAC,GAGjB,GAFAA,EAAKpD,MAAQoD,EAAKpD,OAAS,EAC3BoD,EAAKiH,SAAWjH,EAAKiH,UAAY,SACX,SAAlBjH,EAAKiH,UAAyC,WAAlBjH,EAAKiH,SACnC,MAAM,IAAIx9B,MAAM,0BAA0Bu2B,EAAKiH,aAEjD,IAAI98B,EACAktB,EAAS5mB,GAAGtF,KAAK7B,EAAM02B,EAAKpD,OAC5B0I,EAAO70B,GAAG60B,KAAKh8B,GACfqB,EAAS26B,EAAK1oB,KACd0Z,EAAM,IAAIhrB,WAAWX,GAQzB,OAPA8F,GAAGwK,KAAKoc,EAAQf,EAAK,EAAG3rB,EAAQ,GACV,SAAlBq1B,EAAKiH,SACP98B,EAAMsL,GAAkB6gB,GACG,WAAlB0J,EAAKiH,WACd98B,EAAMmsB,GAER7lB,GAAGinB,MAAML,GACFltB,CACT,EACJ,SAAA+8B,CAAU59B,EAAMqiB,EAAMqU,EAAO,CAAC,GACxBA,EAAKpD,MAAQoD,EAAKpD,OAAS,IAC3B,IAAIvF,EAAS5mB,GAAGtF,KAAK7B,EAAM02B,EAAKpD,MAAOoD,EAAK1G,MAC5C,GAAmB,iBAAR3N,EAAkB,CAC3B,IAAI2K,EAAM,IAAIhrB,WAAWihB,GAAgBZ,GAAM,GAC3Cwb,EAAiBpb,GAAkBJ,EAAM2K,EAAK,EAAGA,EAAI3rB,QACzD8F,GAAGyK,MAAMmc,EAAQf,EAAK,EAAG6Q,OAAgBn+B,EAAWg3B,EAAKvD,OAC3D,KAAO,KAAIxP,YAAYE,OAAOxB,GAG5B,MAAM,IAAIliB,MAAM,yBAFhBgH,GAAGyK,MAAMmc,EAAQ1L,EAAM,EAAGA,EAAKyb,gBAAYp+B,EAAWg3B,EAAKvD,OAG7D,CACAhsB,GAAGinB,MAAML,EACX,EACJlC,IAAI,IAAM1kB,GAAGquB,YACb,KAAAuI,CAAM/9B,GACA,IAAIswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAQ,IAC3C,GAAoB,OAAhB7G,EAAOvxB,KACT,MAAM,IAAIoI,GAAG+mB,WAAW,IAE1B,IAAK/mB,GAAGiqB,MAAMd,EAAOvxB,KAAKixB,MACxB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,IAAI0J,EAAUzwB,GAAGixB,gBAAgB9H,EAAOvxB,KAAM,KAC9C,GAAI64B,EACF,MAAM,IAAIzwB,GAAG+mB,WAAW0J,GAE1BzwB,GAAGquB,YAAclF,EAAOtwB,IAC1B,EACJ,wBAAAg+B,GACM72B,GAAGi0B,MAAM,QACTj0B,GAAGi0B,MAAM,SACTj0B,GAAGi0B,MAAM,iBACX,EACJ,oBAAA6C,GAEM92B,GAAGi0B,MAAM,QAETj0B,GAAG0mB,eAAe1mB,GAAGsyB,QAAQ,EAAG,GAAI,CAClC9nB,KAAM,IAAM,EACZC,MAAO,CAACmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQktB,IAAQltB,EAChDwvB,OAAQ,IAAM,IAEhB1pB,GAAGq0B,MAAM,YAAar0B,GAAGsyB,QAAQ,EAAG,IAIpCnyB,GAAIsQ,SAASzQ,GAAGsyB,QAAQ,EAAG,GAAInyB,GAAIwnB,iBACnCxnB,GAAIsQ,SAASzQ,GAAGsyB,QAAQ,EAAG,GAAInyB,GAAImoB,kBACnCtoB,GAAGq0B,MAAM,WAAYr0B,GAAGsyB,QAAQ,EAAG,IACnCtyB,GAAGq0B,MAAM,YAAar0B,GAAGsyB,QAAQ,EAAG,IAGpC,IAAIyE,EAAe,IAAIl8B,WAAW,MAAOm8B,EAAa,EAClDC,EAAa,KACI,IAAfD,IACF1S,GAAWyS,GACXC,EAAaD,EAAaJ,YAErBI,IAAeC,IAExBh3B,GAAGk3B,aAAa,OAAQ,SAAUD,GAClCj3B,GAAGk3B,aAAa,OAAQ,UAAWD,GAGnCj3B,GAAGi0B,MAAM,YACTj0B,GAAGi0B,MAAM,eACX,EACJ,wBAAAkD,GAGMn3B,GAAGi0B,MAAM,SACT,IAAImD,EAAYp3B,GAAGi0B,MAAM,cACzBj0B,GAAGi0B,MAAM,iBACTj0B,GAAG0oB,MAAM,CACP,KAAAA,GACE,IAAI9wB,EAAOoI,GAAG2oB,WAAWyO,EAAW,KAAM,MAAO,IAuBjD,OAtBAx/B,EAAK+uB,WAAa,CAChB+C,OAAQlB,GAAM7B,WAAW+C,QAE3B9xB,EAAKqxB,SAAW,CACd,MAAAE,CAAOP,EAAQ7vB,GACb,IAAIitB,GAAMjtB,EACN6tB,EAAS5mB,GAAG0xB,iBAAiB1L,GAC7BtsB,EAAM,CACRkvB,OAAQ,KACRF,MAAO,CAAEyH,WAAY,QACrBlH,SAAU,CAAEa,SAAU,IAAMlD,EAAO/tB,MACnCuI,GAAI4kB,EAAK,GAGX,OADAtsB,EAAIkvB,OAASlvB,EACNA,CACT,EACA,OAAA8vB,GACE,OAAOxgB,MAAM4b,KAAK5kB,GAAGkuB,QAAQmJ,WAC1BhU,QAAO,EAAEiU,EAAGrsB,KAAOA,IACnBpB,KAAI,EAAEytB,EAAGrsB,KAAOqsB,EAAE9yB,YACvB,GAEK5M,CACT,GACC,CAAC,EAAG,gBACT,EACJ,qBAAA2/B,CAAsB/Q,EAAOC,EAAQ1qB,GAS3ByqB,EACFxmB,GAAGk3B,aAAa,OAAQ,QAAS1Q,GAEjCxmB,GAAGypB,QAAQ,WAAY,cAErBhD,EACFzmB,GAAGk3B,aAAa,OAAQ,SAAU,KAAMzQ,GAExCzmB,GAAGypB,QAAQ,WAAY,eAErB1tB,EACFiE,GAAGk3B,aAAa,OAAQ,SAAU,KAAMn7B,GAExCiE,GAAGypB,QAAQ,YAAa,eAI1B,IAAIxD,EAAQjmB,GAAGtF,KAAK,aAAc,GAC9B88B,EAASx3B,GAAGtF,KAAK,cAAe,GAChC+8B,EAASz3B,GAAGtF,KAAK,cAAe,GACpCd,EAAoB,IAAbqsB,EAAMD,GAAU,6BAA6BC,EAAMD,OAC1DpsB,EAAqB,IAAd49B,EAAOxR,GAAU,8BAA8BwR,EAAOxR,OAC7DpsB,EAAqB,IAAd69B,EAAOzR,GAAU,8BAA8ByR,EAAOzR,MAC/D,EACJ,UAAA0R,GACM13B,GAAGouB,UAAY,IAAIplB,MAAM,MAEzBhJ,GAAG0oB,MAAMF,GAAO,CAAC,EAAG,KAEpBxoB,GAAG62B,2BACH72B,GAAG82B,uBACH92B,GAAGm3B,2BAEHn3B,GAAGsuB,YAAc,CACf,MAAS9F,GAEb,EACJ,IAAAtoB,CAAKsmB,EAAOC,EAAQ1qB,GACdnC,GAAQoG,GAAGC,YAAa,gLACxBD,GAAGC,aAAc,EAGjBumB,IAAUpvB,EAAO,SACjBqvB,IAAWrvB,EAAO,UAClB2E,IAAU3E,EAAO,UAEjB4I,GAAGu3B,sBAAsB/Q,EAAOC,EAAQ1qB,EAC1C,EACJ,IAAA47B,GAKM,IAAK,IAAI/Q,KAJT5mB,GAAGC,aAAc,EAEjB23B,GAAQ,GAEW53B,GAAGkuB,SAChBtH,GACF5mB,GAAGinB,MAAML,EAGf,EACJ,UAAAiR,CAAWh/B,EAAMi/B,GACX,IAAIp+B,EAAMsG,GAAG+3B,YAAYl/B,EAAMi/B,GAC/B,OAAKp+B,EAAIs+B,OAGFt+B,EAAIk1B,OAFF,IAGX,EACJ,WAAAmJ,CAAYl/B,EAAMi/B,GAEZ,IACE,IAAI3O,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAS8H,IAC5Cj/B,EAAOswB,EAAOtwB,IAChB,CAAE,MAAOmJ,GACT,CACA,IAAItI,EAAM,CACRu2B,QAAQ,EAAO+H,QAAQ,EAAOj8B,MAAO,EAAGhD,KAAM,KAAMF,KAAM,KAAM+1B,OAAQ,KACxEqJ,cAAc,EAAOC,WAAY,KAAMC,aAAc,MAEvD,IACMhP,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAE+vB,QAAQ,IAC3ClvB,EAAIu+B,cAAe,EACnBv+B,EAAIw+B,WAAa/O,EAAOtwB,KACxBa,EAAIy+B,aAAehP,EAAOvxB,KAC1B8B,EAAIX,KAAOupB,GAAKoB,SAAS7qB,GACzBswB,EAASnpB,GAAGsvB,WAAWz2B,EAAM,CAAEm3B,QAAS8H,IACxCp+B,EAAIs+B,QAAS,EACbt+B,EAAIb,KAAOswB,EAAOtwB,KAClBa,EAAIk1B,OAASzF,EAAOvxB,KACpB8B,EAAIX,KAAOowB,EAAOvxB,KAAKmB,KACvBW,EAAIu2B,OAAyB,MAAhB9G,EAAOtwB,IACtB,CAAE,MAAOmJ,GACPtI,EAAIqC,MAAQiG,EAAE6rB,KAChB,CACA,OAAOn0B,CACT,EACJ,UAAA0+B,CAAWxP,EAAQ/vB,EAAMs0B,EAASC,GAC5BxE,EAA0B,iBAAVA,EAAqBA,EAAS5oB,GAAGkwB,QAAQtH,GACzD,IAAI/F,EAAQhqB,EAAKM,MAAM,KAAKk/B,UAC5B,MAAOxV,EAAM3oB,OAAQ,CACnB,IAAIo+B,EAAOzV,EAAMlb,MACjB,GAAK2wB,EAAL,CACA,IAAI3I,EAAUrN,GAAKuB,MAAM+E,EAAQ0P,GACjC,IACEt4B,GAAGi0B,MAAMtE,EACX,CAAE,MAAO3tB,GACP,GAAe,IAAXA,EAAE6rB,MAAa,MAAM7rB,CAC3B,CACA4mB,EAAS+G,CAPU,CAQrB,CACA,OAAOA,CACT,EACJ,UAAA4I,CAAW3P,EAAQ7vB,EAAMy/B,EAAYrL,EAASC,GACxC,IAAIv0B,EAAOypB,GAAKuB,MAAuB,iBAAV+E,EAAqBA,EAAS5oB,GAAGkwB,QAAQtH,GAAS7vB,GAC3E8vB,EAAO8E,GAAWR,EAASC,GAC/B,OAAOptB,GAAGgP,OAAOnW,EAAMgwB,EACzB,EACJ,cAAA4D,CAAe7D,EAAQ7vB,EAAMmiB,EAAMiS,EAASC,EAAUpB,GAChD,IAAInzB,EAAOE,EACP6vB,IACFA,EAA0B,iBAAVA,EAAqBA,EAAS5oB,GAAGkwB,QAAQtH,GACzD/vB,EAAOE,EAAOupB,GAAKuB,MAAM+E,EAAQ7vB,GAAQ6vB,GAE3C,IAAIC,EAAO8E,GAAWR,EAASC,GAC3Bx1B,EAAOoI,GAAGgP,OAAOnW,EAAMgwB,GAC3B,GAAI3N,EAAM,CACR,GAAmB,iBAARA,EAAkB,CAE3B,IADA,IAAI4J,EAAM,IAAI9b,MAAMkS,EAAKhhB,QAChB2O,EAAI,EAAGkT,EAAMb,EAAKhhB,OAAQ2O,EAAIkT,IAAOlT,EAAGic,EAAIjc,GAAKqS,EAAK1I,WAAW3J,GAC1EqS,EAAO4J,CACT,CAEA9kB,GAAGk1B,MAAMt9B,EAAa,IAAPixB,GACf,IAAIjC,EAAS5mB,GAAGtF,KAAK9C,EAAM,KAC3BoI,GAAGyK,MAAMmc,EAAQ1L,EAAM,EAAGA,EAAKhhB,OAAQ,EAAG8xB,GAC1ChsB,GAAGinB,MAAML,GACT5mB,GAAGk1B,MAAMt9B,EAAMixB,EACjB,CACF,EACJ,YAAAqO,CAAatO,EAAQ7vB,EAAMytB,EAAOC,GAC5B,IAAI5tB,EAAOypB,GAAKuB,MAAuB,iBAAV+E,EAAqBA,EAAS5oB,GAAGkwB,QAAQtH,GAAS7vB,GAC3E8vB,EAAO8E,KAAanH,IAASC,GACjCzmB,GAAGk3B,aAAa9E,QAAU,GAC1B,IAAI9L,EAAMtmB,GAAGsyB,QAAQtyB,GAAGk3B,aAAa9E,QAAS,GAgD9C,OA7CApyB,GAAG0mB,eAAeJ,EAAK,CACrB,IAAA5rB,CAAKksB,GACHA,EAAOI,UAAW,CACpB,EACA,KAAAC,CAAML,GAEAH,GAAQ1nB,QAAQ7E,QAClBusB,EAAO,GAEX,EACA,IAAAjc,CAAKoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQktB,GAEnC,IADA,IAAIrB,EAAY,EACPld,EAAI,EAAGA,EAAI3O,EAAQ2O,IAAK,CAC/B,IAAIlF,EACJ,IACEA,EAAS6iB,GACX,CAAE,MAAOxkB,GACP,MAAM,IAAIhC,GAAG+mB,WAAW,GAC1B,CACA,QAAexuB,IAAXoL,GAAsC,IAAdoiB,EAC1B,MAAM,IAAI/lB,GAAG+mB,WAAW,GAE1B,GAAe,OAAXpjB,QAA8BpL,IAAXoL,EAAsB,MAC7CoiB,IACAhnB,EAAOooB,EAAOte,GAAKlF,CACrB,CAIA,OAHIoiB,IACFa,EAAOhvB,KAAK0vB,MAAQzH,KAAK0H,OAEpBxB,CACT,EACA,KAAAtb,CAAMmc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQktB,GACpC,IAAK,IAAIve,EAAI,EAAGA,EAAI3O,EAAQ2O,IAC1B,IACE4d,EAAO1nB,EAAOooB,EAAOte,GACvB,CAAE,MAAO7G,GACP,MAAM,IAAIhC,GAAG+mB,WAAW,GAC1B,CAKF,OAHI7sB,IACF0sB,EAAOhvB,KAAK6vB,MAAQb,EAAOhvB,KAAK8vB,MAAQ7H,KAAK0H,OAExC1e,CACT,IAEK7I,GAAGq0B,MAAMx7B,EAAMgwB,EAAMvC,EAC9B,EACJ,aAAAmS,CAAcnrB,GACR,GAAIA,EAAI+hB,UAAY/hB,EAAI8hB,UAAY9hB,EAAIuc,MAAQvc,EAAI4c,SAAU,OAAO,EACrE,GAA6B,oBAAlBzvB,eACT,MAAM,IAAIzB,MAAM,oMAEhB,IACEsU,EAAI4c,SAAWxxB,EAAW4U,EAAI/S,KAC9B+S,EAAI8c,UAAY9c,EAAI4c,SAAShwB,MAC/B,CAAE,MAAO8H,GACP,MAAM,IAAIhC,GAAG+mB,WAAW,GAC1B,CAEJ,EACJ,cAAA2R,CAAe9P,EAAQ7vB,EAAMwB,EAAK4yB,EAASC,GAGrC,MAAMuL,EACJC,aAAc,EACdC,OAAS,GACT,GAAAv6B,CAAI4G,GACF,KAAIA,EAAMjB,KAAK/J,OAAO,GAAKgL,EAAM,GAAjC,CAGA,IAAI4zB,EAAc5zB,EAAMjB,KAAK80B,UACzBC,EAAY9zB,EAAMjB,KAAK80B,UAAW,EACtC,OAAO90B,KAAKmG,OAAO4uB,GAAUF,EAH7B,CAIF,CACA,aAAAG,CAAc7uB,GACZnG,KAAKmG,OAASA,CAChB,CACA,WAAA8uB,GAEE,IAAI1+B,EAAM,IAAIC,eAGd,GAFAD,EAAIE,KAAK,OAAQH,GAAK,GACtBC,EAAII,KAAK,QACHJ,EAAIvC,QAAU,KAAOuC,EAAIvC,OAAS,KAAsB,MAAfuC,EAAIvC,QAAiB,MAAM,IAAIe,MAAM,iBAAmBuB,EAAM,aAAeC,EAAIvC,QAChI,IACIkhC,EADAC,EAAa/Y,OAAO7lB,EAAI6+B,kBAAkB,mBAE1CC,GAAkBH,EAAS3+B,EAAI6+B,kBAAkB,mBAAgC,UAAXF,EACtEI,GAAYJ,EAAS3+B,EAAI6+B,kBAAkB,sBAAmC,SAAXF,EAEnEJ,EAAY,QAEXO,IAAgBP,EAAYK,GAGjC,IAAII,EAAQ,CAAC5U,EAAMC,KACjB,GAAID,EAAOC,EAAI,MAAM,IAAI7rB,MAAM,kBAAoB4rB,EAAO,KAAOC,EAAK,4BACtE,GAAIA,EAAKuU,EAAW,EAAG,MAAM,IAAIpgC,MAAM,QAAUogC,EAAa,uCAG9D,IAAI5+B,EAAM,IAAIC,eAWd,GAVAD,EAAIE,KAAK,MAAOH,GAAK,GACjB6+B,IAAeL,GAAWv+B,EAAIi/B,iBAAiB,QAAS,SAAW7U,EAAO,IAAMC,GAGpFrqB,EAAIG,aAAe,cACfH,EAAIk/B,kBACNl/B,EAAIk/B,iBAAiB,sCAGvBl/B,EAAII,KAAK,QACHJ,EAAIvC,QAAU,KAAOuC,EAAIvC,OAAS,KAAsB,MAAfuC,EAAIvC,QAAiB,MAAM,IAAIe,MAAM,iBAAmBuB,EAAM,aAAeC,EAAIvC,QAChI,YAAqBM,IAAjBiC,EAAIU,SACC,IAAIL,WAAuCL,EAAIU,UAAY,IAE7DoqB,GAAmB9qB,EAAIm/B,cAAgB,IAAI,EAAK,EAErDC,EAAY31B,KAChB21B,EAAUX,eAAeD,IACvB,IAAIjU,EAAQiU,EAAWD,EACnBzxB,GAAO0xB,EAAS,GAAKD,EAAY,EAKrC,GAJAzxB,EAAMhG,KAAK4jB,IAAI5d,EAAK8xB,EAAW,GACU,oBAA9BQ,EAAUf,OAAOG,KAC1BY,EAAUf,OAAOG,GAAYQ,EAAMzU,EAAOzd,IAEH,oBAA9BsyB,EAAUf,OAAOG,GAA0B,MAAM,IAAIhgC,MAAM,iBACtE,OAAO4gC,EAAUf,OAAOG,EAAS,KAG/BO,GAAaH,IAEfL,EAAYK,EAAa,EACzBA,EAAan1B,KAAKmG,OAAO,GAAGlQ,OAC5B6+B,EAAYK,EACZ19B,EAAI,gFAGNuI,KAAK41B,QAAUT,EACfn1B,KAAK61B,WAAaf,EAClB90B,KAAK20B,aAAc,CACrB,CACA,UAAI1+B,GAIF,OAHK+J,KAAK20B,aACR30B,KAAKi1B,cAEAj1B,KAAK41B,OACd,CACA,aAAId,GAIF,OAHK90B,KAAK20B,aACR30B,KAAKi1B,cAEAj1B,KAAK61B,UACd,EAGF,GAA6B,oBAAlBr/B,eAA+B,CACxC,IAAKlD,EAAuB,KAAM,sHAClC,IAAIqiC,EAAY,IAAIjB,EAChBH,EAAa,CAAEnJ,UAAU,EAAOnF,SAAU0P,EAChD,MACMpB,EAAa,CAAEnJ,UAAU,EAAO90B,IAAKA,GAG3C,IAAI3C,EAAOoI,GAAGu4B,WAAW3P,EAAQ7vB,EAAMy/B,EAAYrL,EAASC,GAIxDoL,EAAWtO,SACbtyB,EAAKsyB,SAAWsO,EAAWtO,SAClBsO,EAAWj+B,MACpB3C,EAAKsyB,SAAW,KAChBtyB,EAAK2C,IAAMi+B,EAAWj+B,KAGxBoD,OAAOo8B,iBAAiBniC,EAAM,CAC5BwyB,UAAW,CACT9rB,IAAK,WAAa,OAAO2F,KAAKimB,SAAShwB,MAAQ,KAInD,IAAIysB,EAAa,CAAC,EACdjR,EAAO/X,OAAO+X,KAAK9d,EAAK+uB,YAQ5B,SAASqT,EAAYpT,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,GACnD,IAAI7B,EAAWtD,EAAOhvB,KAAKsyB,SAC3B,GAAI6B,GAAY7B,EAAShwB,OACvB,OAAO,EACT,IAAIiS,EAAO7K,KAAK4jB,IAAIgF,EAAShwB,OAAS6xB,EAAU7xB,GAEhD,GADAN,EAAOuS,GAAQ,GACX+d,EAAS9wB,MACX,IAAK,IAAIyP,EAAI,EAAGA,EAAIsD,EAAMtD,IACxB9J,EAAOooB,EAASte,GAAKqhB,EAAS6B,EAAWljB,QAG3C,IAASA,EAAI,EAAGA,EAAIsD,EAAMtD,IACxB9J,EAAOooB,EAASte,GAAKqhB,EAAS5rB,IAAIytB,EAAWljB,GAGjD,OAAOsD,CACT,CAiBA,OAxCAuJ,EAAK3M,SAAS+V,IACZ,IAAI1E,EAAKxiB,EAAK+uB,WAAW7H,GACzB6H,EAAW7H,GAAO,IAAI1c,KACpBpC,GAAGy4B,cAAc7gC,GACVwiB,KAAMhY,GACd,IAoBHukB,EAAWnc,KAAO,CAACoc,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,KACjD/rB,GAAGy4B,cAAc7gC,GACVoiC,EAAYpT,EAAQ7nB,EAAQooB,EAAQjtB,EAAQ6xB,IAGrDpF,EAAWgD,KAAO,CAAC/C,EAAQ1sB,EAAQ6xB,EAAUG,EAAMC,KACjDnsB,GAAGy4B,cAAc7gC,GACjB,IAAI2M,EAAMgkB,GAAUruB,GACpB,IAAKqK,EACH,MAAM,IAAIvE,GAAG+mB,WAAW,IAG1B,OADAiT,EAAYpT,EAAQ1qB,EAAOqI,EAAKrK,EAAQ6xB,GACjC,CAAExnB,MAAK6nB,WAAW,EAAM,EAEjCx0B,EAAK+uB,WAAaA,EACX/uB,CACT,EACJ,YAAAqiC,GACMl9B,GAAM,gEACR,EACJ,YAAAm9B,GACMn9B,GAAM,yDACR,EACJ,UAAAo9B,GACMp9B,GAAM,yDACR,EACJ,QAAAq9B,GACMr9B,GAAM,sDACR,EACJ,SAAAwrB,GACMxrB,GAAM,qEACR,EACJ,eAAAs9B,GACMt9B,GAAM,kEACR,GAGAu9B,GAAW,CACfC,iBAAiB,EACjB,WAAAC,CAAYC,EAAO5hC,EAAM6hC,GACnB,GAAIpY,GAAKC,MAAM1pB,GACb,OAAOA,EAGT,IAAI4qB,EACJ,IAAe,MAAXgX,EACFhX,EAAMzjB,GAAG0kB,UACJ,CACL,IAAIiW,EAAYL,GAASM,gBAAgBH,GACzChX,EAAMkX,EAAU9hC,IAClB,CACA,GAAmB,GAAfA,EAAKqB,OAAa,CACpB,IAAKwgC,EACH,MAAM,IAAI16B,GAAG+mB,WAAW,IAE1B,OAAOtD,CACT,CACA,OAAOA,EAAM,IAAM5qB,CACrB,EACJ,SAAAgiC,CAAUhV,EAAKgP,GACTv4B,EAAQ,GAAO,GAAMu4B,EAAKvO,IAC1BhqB,EAAS,EAAM,GAAM,GAAMu4B,EAAKhM,KAChCtsB,EAAU,EAAM,GAAM,GAAMs4B,EAAK5J,MACjC3uB,EAAS,EAAM,IAAO,GAAMu4B,EAAK3J,IACjC5uB,EAAS,EAAM,IAAO,GAAMu4B,EAAK1J,IACjC7uB,EAAS,EAAM,IAAO,GAAMu4B,EAAK/N,KACjCrqB,EAAS,EAAM,IAAO,GAAMgQ,OAAOooB,EAAK1oB,MACxC7P,EAAS,EAAM,IAAO,GAAM,KAC5BA,EAAS,EAAM,IAAO,GAAMu4B,EAAKxJ,OACjC,IAAI/D,EAAQuN,EAAKvN,MAAMwT,UACnBrT,EAAQoN,EAAKpN,MAAMqT,UACnBpT,EAAQmN,EAAKnN,MAAMoT,UAQvB,OAPAr+B,EAAS,EAAM,IAAO,GAAMgQ,OAAOnL,KAAKsf,MAAM0G,EAAQ,MACtD/qB,EAAU,EAAM,IAAO,GAAO+qB,EAAQ,IAAQ,IAAO,IACrD7qB,EAAS,EAAM,IAAO,GAAMgQ,OAAOnL,KAAKsf,MAAM6G,EAAQ,MACtDlrB,EAAU,EAAM,IAAO,GAAOkrB,EAAQ,IAAQ,IAAO,IACrDhrB,EAAS,EAAM,IAAO,GAAMgQ,OAAOnL,KAAKsf,MAAM8G,EAAQ,MACtDnrB,EAAU,EAAM,IAAO,GAAOmrB,EAAQ,IAAQ,IAAO,IACrDjrB,EAAS,EAAM,IAAO,GAAMgQ,OAAOooB,EAAK7J,KACjC,CACT,EACJ,WAAA+P,CAAYlV,EAAKmV,GACX1+B,EAAS,EAAM,GAAM,GAAM0+B,EAAMvH,MACjCn3B,EAAS,EAAM,IAAO,GAAM0+B,EAAMvH,MAClCn3B,EAAS,EAAM,GAAM,GAAM0+B,EAAM3P,OACjC/uB,EAAS,EAAM,IAAO,GAAM0+B,EAAMrH,MAClCr3B,EAAS,EAAM,IAAO,GAAM0+B,EAAMpH,OAClCt3B,EAAS,EAAM,IAAO,GAAM0+B,EAAMnH,MAClCv3B,EAAS,EAAM,IAAO,GAAM0+B,EAAMlH,MAClCx3B,EAAS,EAAM,IAAO,GAAM0+B,EAAMjH,KAClCz3B,EAAS,EAAM,IAAO,GAAM0+B,EAAM7O,MAClC7vB,EAAS,EAAM,IAAO,GAAM0+B,EAAMhH,OACpC,EACJ,OAAAiH,CAAQC,EAAMtU,EAAQ7K,EAAKoQ,EAAOhF,GAC5B,IAAKnnB,GAAGmqB,OAAOvD,EAAOhvB,KAAKixB,MACzB,MAAM,IAAI7oB,GAAG+mB,WAAW,IAE1B,GAAY,EAARoF,EAEF,OAAO,EAET,IAAIptB,EAAS5C,EAAO/C,MAAM8hC,EAAMA,EAAOnf,GACvC/b,GAAG4pB,MAAMhD,EAAQ7nB,EAAQooB,EAAQpL,EAAKoQ,EACxC,EACJ,eAAAyO,CAAgB5U,GACV,IAAIY,EAAS5mB,GAAG0xB,iBAAiB1L,GACjC,OAAOY,CACT,EACJuU,aAAQ5iC,EACR,MAAA6iC,CAAO72B,GACD,IAAI7K,EAAMqM,GAAaxB,GACvB,OAAO7K,CACT,GAEJ,SAAS2hC,GAAUrV,GACnB,IAEI,IAAIY,EAAS0T,GAASM,gBAAgB5U,GAEtC,OADAhmB,GAAGinB,MAAML,GACF,CACT,CAAE,MAAO5kB,GACT,GAAiB,oBAANhC,IAAkC,eAAXgC,EAAEjJ,KAAwB,MAAMiJ,EAClE,OAAOA,EAAE6rB,KACX,CACA,CAGA,IAAIyN,GAAU,CAAC1U,EAAQ2U,EAAKC,EAAQrU,KAEhC,IADA,IAAIztB,EAAM,EACDmP,EAAI,EAAGA,EAAI2yB,EAAQ3yB,IAAK,CAC/B,IAAItE,EAAMhI,EAAS,GAAO,GACtBwf,EAAMxf,EAAU,EAAM,GAAM,GAChCg/B,GAAO,EACP,IAAIE,EAAOz7B,GAAGwK,KAAKoc,EAAQ1qB,EAAOqI,EAAKwX,EAAKoL,GAC5C,GAAIsU,EAAO,EAAG,OAAQ,EAEtB,GADA/hC,GAAO+hC,EACHA,EAAO1f,EAAK,MACK,oBAAVoL,IACTA,GAAUsU,EAEd,CACA,OAAO/hC,CAAG,EAGd,SAASgiC,GAAS1V,EAAIuV,EAAKC,EAAQG,GACnC,IAEI,IAAI/U,EAAS0T,GAASM,gBAAgB5U,GAClC4V,EAAMN,GAAQ1U,EAAQ2U,EAAKC,GAE/B,OADAj/B,EAAS,GAAQ,GAAMq/B,EAChB,CACT,CAAE,MAAO55B,GACT,GAAiB,oBAANhC,IAAkC,eAAXgC,EAAEjJ,KAAwB,MAAMiJ,EAClE,OAAOA,EAAE6rB,KACX,CACA,CAGA,IAAIgO,GAAY,iBAEZC,IAAa,iBACbC,GAAsBH,GAASA,EAAME,IAAaF,EAAMC,GAAaz2B,IAAMib,OAAOub,GACtF,SAASI,GAAShW,EAAImB,EAAQ8E,EAAQgQ,GACpC9U,EAAS4U,GAAmB5U,GAG9B,IAEI,GAAI+U,MAAM/U,GAAS,OAAO,GAC1B,IAAIP,EAAS0T,GAASM,gBAAgB5U,GAItC,OAHAhmB,GAAG0pB,OAAO9C,EAAQO,EAAQ8E,GAC1BxvB,EAAQ,GAAa,GAAMgQ,OAAOma,EAAOmF,UACrCnF,EAAOsP,UAAuB,IAAX/O,GAA2B,IAAX8E,IAAcrF,EAAOsP,SAAW,MAChE,CACT,CAAE,MAAOl0B,GACT,GAAiB,oBAANhC,IAAkC,eAAXgC,EAAEjJ,KAAwB,MAAMiJ,EAClE,OAAOA,EAAE6rB,KACX,CAEA,CAGA,IAAIsO,GAAW,CAACvV,EAAQ2U,EAAKC,EAAQrU,KAEjC,IADA,IAAIztB,EAAM,EACDmP,EAAI,EAAGA,EAAI2yB,EAAQ3yB,IAAK,CAC/B,IAAItE,EAAMhI,EAAS,GAAO,GACtBwf,EAAMxf,EAAU,EAAM,GAAM,GAChCg/B,GAAO,EACP,IAAIE,EAAOz7B,GAAGyK,MAAMmc,EAAQ1qB,EAAOqI,EAAKwX,EAAKoL,GAC7C,GAAIsU,EAAO,EAAG,OAAQ,EAEtB,GADA/hC,GAAO+hC,EACHA,EAAO1f,EAET,MAEmB,oBAAVoL,IACTA,GAAUsU,EAEd,CACA,OAAO/hC,CAAG,EAGd,SAAS0iC,GAAUpW,EAAIuV,EAAKC,EAAQG,GACpC,IAEI,IAAI/U,EAAS0T,GAASM,gBAAgB5U,GAClC4V,EAAMO,GAASvV,EAAQ2U,EAAKC,GAEhC,OADAj/B,EAAS,GAAQ,GAAMq/B,EAChB,CACT,CAAE,MAAO55B,GACT,GAAiB,oBAANhC,IAAkC,eAAXgC,EAAEjJ,KAAwB,MAAMiJ,EAClE,OAAOA,EAAE6rB,KACX,CACA,CAEA,SAASwO,GAAYt9B,EAAQoN,GAC7B,IAGI,OADAmY,GAAWnoB,EAAO0E,SAAS9B,EAAQA,EAASoN,IACrC,CACT,CAAE,MAAOnK,GACT,GAAiB,oBAANhC,IAAkC,eAAXgC,EAAEjJ,KAAwB,MAAMiJ,EAClE,OAAOA,EAAE6rB,KACX,CACA,CAGA,IAAIyO,GAA0B,EAC1BC,GAAmB,IAAMj4B,IAAiBg4B,GAA0B,EACpEE,GAAc/N,IACdxyB,EAAawyB,EACR8N,OACHnlC,EAAO,YAAYq3B,GACnB7xB,GAAQ,GAEV5E,EAAMy2B,EAAM,IAAI1qB,GAAW0qB,GAAM,EAKjCgO,GAAS,CAACxkC,EAAQykC,KAMlB,GALAzgC,EAAahE,EAEb0kC,KAGIJ,OAAuBG,EAAU,CACnC,IAAIl+B,EAAM,gCAAgCvG,8CAAmDqkC,kMAC7FxgC,EAAI0C,EACN,CAEAg+B,GAAWvkC,EAAO,EAGlB2kC,GAAmB56B,IAMnB,GAAIA,aAAa+B,IAAmB,UAAL/B,EAC7B,OAAO/F,EAEToB,IACI2E,aAAahG,YAAYiG,cACvB46B,MAAmC,GACrC/gC,EAAI,0FAGR9D,EAAM,EAAGgK,EAAE,EAEjBmJ,KACA0F,KACAyC,KACAuG,KAEE7Z,GAAG88B,oBAAsB5P,GACzBltB,GAAG03B,aAUCtgC,EAAO,mBAAkBkN,GAAgBlN,EAAO,kBAClDA,EAAO,oBAAmBs1B,GAAiBt1B,EAAO,mBAClDA,EAAO,WAAUsE,EAAMtE,EAAO,UAC9BA,EAAO,cAAa0E,EAAM1E,EAAO,aACjCA,EAAO,gBAAeoE,EAAapE,EAAO,eAG5C2lC,KAEI3lC,EAAO,cAA2BA,EAAO,aACzCA,EAAO,iBAAgBW,EAAcX,EAAO,gBAGhDwC,EAAsD,oBAAxCxC,EAAO,8BAA8C,uFACnEwC,EAAgD,oBAAlCxC,EAAO,wBAAwC,iFAC7DwC,EAAkD,oBAApCxC,EAAO,0BAA0C,mFAC/DwC,EAAgD,oBAAlCxC,EAAO,wBAAwC,iFAC7DwC,EAAgC,oBAAlBxC,EAAO,QAAwB,kCAC7CwC,EAAqC,oBAAvBxC,EAAO,aAA6B,gEAClDwC,EAAsC,oBAAxBxC,EAAO,cAA8B,kEACnDwC,EAA0C,oBAA5BxC,EAAO,kBAAkC,uFACvDwC,EAAwC,oBAA1BxC,EAAO,gBAAgC,8DACrDwC,EAAuC,oBAAzBxC,EAAO,eAA+B,oKACpDwC,EAAsC,oBAAxBxC,EAAO,cAA8B,8EAEnDwC,EAAsC,oBAAxBxC,EAAO,cAA8B,wFACnDwC,EAA0C,oBAA5BxC,EAAO,kBAAkC,oGAKvD,IAAI4lC,GAAwB,CAC5B,gBACA,uBACA,yBACA,uBACA,yBACA,iBACA,iBACA,sBACA,6BACA,sBACA,aACA,cACA,cACA,aACA,aACA,aACA,YACA,YACA,YACA,YACA,eACA,gBACA,gBACA,gBACA,UACA,aACA,yBACA,eACA,UACA,uBACA,sBACA,mBACA,YACA,cACA,cACA,kBACA,oBACA,YACA,gBACA,eACA,YACA,aACA,cACA,eACA,aACA,WACA,QACA,QACA,gBACA,iBACA,mBACA,0BACA,oBACA,iBACA,qBACA,cACA,iBACA,iBACA,SACA,SACA,SACA,eACA,mBACA,gBACA,gBACA,kBACA,sBACA,qBACA,2BACA,yBACA,kBACA,wBACA,qBACA,6BACA,6BACA,0BACA,6BACA,iCACA,yCACA,4BACA,oCACA,oBACA,iCACA,yCACA,gCACA,wCACA,6BACA,qCACA,0BACA,mCACA,wBACA,eACA,wCACA,sBACA,iCACA,yCACA,wCACA,qBACA,gCACA,wCACA,6BACA,uBACA,+BACA,oCACA,uBACA,UACA,+BACA,uBACA,uBACA,eACA,eACA,4BACA,iBACA,yBACA,yBACA,iBACA,sBACA,4BACA,wBACA,uBACA,sBACA,aACA,cACA,gBACA,sBACA,oBACA,kCACA,aACA,eACA,WACA,UACA,kBACA,mBACA,eACA,sBACA,yBACA,oBACA,sCACA,uCACA,kCACA,gCACA,wCACA,gCACA,kCACA,qBACA,gCACA,iCACA,iCACA,4BACA,0BACA,6CACA,uBACA,iCACA,+BACA,eACA,6BACA,qBACA,eACA,cACA,WACA,sBACA,qBACA,WACA,aACA,sBACA,2BACA,mBACA,4BACA,8BACA,4BACA,4BACA,2BACA,mBACA,mBACA,oBACA,yBAEFA,GAAsBj0B,QAAQrK,GAE5B,IAAIu+B,GAAoB,CACxB,MACA,mBACA,sBACA,MACA,MACA,WACA,QACA,aACA,cACA,UACA,UACA,QACA,SACA,SACA,UACA,SACA,UACA,SACA,UACA,mBACA,mBACA,YACA,YACA,qBACA,YACA,eACA,cACA,SACA,0BACA,MACA,iBACA,cACA,WACA,MACA,YACA,UACA,SACA,WACA,qBACA,oBACA,kBACA,mBACA,YACA,YACA,YACA,gBACA,cACA,eACA,mBACA,sBACA,WACA,WACA,OACA,UACA,cACA,oBACA,eACA,oBACA,eACA,kBACA,qBACA,eACA,gBACA,gBACA,mBACA,gBACA,gBACA,mBACA,WACA,qBACA,wBACA,4BACA,0BACA,eACA,aACA,gBACA,UACA,WACA,iBACA,aACA,iBACA,wBACA,mBACA,aACA,yBACA,gBACA,kBACA,gBACA,UACA,8BACA,OACA,qBACA,kBACA,gCACA,6BACA,WACA,iBACA,yBACA,uBACA,aACA,0BACA,mBACA,YACA,gBACA,kBACA,cACA,KACA,UACA,YACA,aACA,aACA,eACA,eACA,iBACA,iBACA,uBACA,iBACA,oBACA,eACA,gBACA,aACA,cACA,iBACA,oBACA,gBACA,gBACA,iBACA,YACA,kBACA,YACA,WACA,YACA,cACA,cACA,YACA,cACA,6BACA,qBACA,eACA,eACA,eACA,aACA,mBACA,YACA,sBACA,eACA,kBACA,iBACA,eACA,eACA,uBACA,WACA,WACA,aACA,oBACA,eACA,eACA,YACA,WACA,aACA,YACA,WACA,YACA,kBACA,gBACA,YACA,WACA,WACA,aACA,YACA,WACA,aACA,cACA,UACA,WACA,WACA,aACA,WACA,YACA,YACA,aACA,WACA,YACA,YACA,gBACA,cACA,eACA,WACA,UACA,WACA,cACA,YACA,UACA,WACA,UACA,WACA,WACA,eACA,SACA,WACA,8BACA,0BACA,8BACA,2BACA,gBACA,UACA,UACA,gBACA,iBACA,gBACA,oBACA,mBACA,oBACA,kBACA,kBACA,gBACA,cACA,eACA,qBACA,QACA,MACA,SACA,SACA,uBACA,4BACA,0BACA,KACA,KACA,OACA,MACA,OACA,WACA,MACA,UACA,eACA,sBACA,QACA,WACA,UACA,gBACA,eACA,qBACA,oBACA,kBACA,uBACA,mBACA,qBACA,sBACA,qBACA,gCACA,mBACA,wBACA,mBACA,cACA,kBACA,sBACA,wBACA,sBACA,gBACA,sBACA,kBACA,mBACA,sBACA,YACA,oBACA,wBACA,sBACA,qBACA,sBACA,sBACA,aACA,sBACA,mBACA,uBACA,qBACA,eACA,8BACA,4BACA,cACA,iBACA,uBACA,0BACA,2BACA,sCACA,yCACA,yBACA,oBACA,iCACA,gBACA,qBACA,uBACA,uBACA,kBACA,kBACA,kBACA,mBACA,cACA,8BACA,gBACA,sBACA,gBACA,kBACA,6BACA,kBACA,gBACA,eACA,SACA,SACA,wBACA,iBACA,gBACA,gBACA,aACA,sBACA,oBACA,QACA,oBACA,sBACA,oBAUF,SAASF,KACP/+B,EAAkB,gBACpB,CAVAi/B,GAAkBl0B,QAAQnK,GAW1B,IA4EIwB,GA5EAgD,GAAc,CAEhB85B,cAAel3B,GAEfm3B,YAAaj2B,GAEbk2B,wBAAyBj2B,GAEzBk2B,UAAW91B,GAEX+1B,8BAA+Bj0B,GAE/Bk0B,wBAAyBtxB,GAEzBuxB,sBAAuB9wB,GAEvB+wB,uBAAwB3oB,GAExB4oB,mCAAoC7lB,GAEpC8lB,gCAAiCnlB,GAEjColB,gCAAiCxkB,GAEjCykB,uBAAwB7jB,GAExB8jB,uBAAwB5jB,GAExB6jB,0BAA2B5jB,GAE3B6jB,yBAA0B1jB,GAE1B2jB,6BAA8BpjB,GAE9BqjB,0BAA2B9iB,GAE3B+iB,4BAA6BniB,GAE7BoiB,6BAA8BzgB,GAE9B0gB,8BAA+BngB,GAE/BogB,oCAAqClgB,GAErCmgB,sBAAuBlgB,GAEvBmgB,UAAW5f,GAEX6f,cAAe9kB,GAEf+kB,oBAAqB7f,GAErB8f,mBAAoBxf,GAEpByf,uBAAwBxf,GAExByf,kBAAmBxf,GAEnByf,UAAWvf,GAEXwf,uBAAwB7d,GAExB8d,YAAapd,GAEbqd,kBAAmB9c,GAEnB+c,SAAU7D,GAEV8D,Q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","sources":["webpack://wasm-boids/./src/wasm/build/wasm_boids.js","webpack://wasm-boids/./src/components/Settings.vue","webpack://wasm-boids/./src/components/Settings.vue?b3ff","webpack://wasm-boids/./src/App.vue","webpack://wasm-boids/./src/App.vue?7ccd","webpack://wasm-boids/./src/main.js","webpack://wasm-boids/webpack/bootstrap","webpack://wasm-boids/webpack/runtime/chunk loaded","webpack://wasm-boids/webpack/runtime/compat get default export","webpack://wasm-boids/webpack/runtime/define property getters","webpack://wasm-boids/webpack/runtime/global","webpack://wasm-boids/webpack/runtime/hasOwnProperty shorthand","webpack://wasm-boids/webpack/runtime/node module decorator","webpack://wasm-boids/webpack/runtime/publicPath","webpack://wasm-boids/webpack/runtime/jsonp chunk loading","webpack://wasm-boids/webpack/startup"],"sourcesContent":["// include: shell.js\r\n// The Module object: Our interface to the outside world. We import\r\n// and export values on it. There are various ways Module can be used:\r\n// 1. Not defined. We create it here\r\n// 2. A function parameter, function(moduleArg) => Promise<Module>\r\n// 3. pre-run appended it, var Module = {}; ..generated code..\r\n// 4. External script tag defines var Module.\r\n// We need to check if Module already exists (e.g. case 3 above).\r\n// Substitution will be replaced with actual code on later stage of the build,\r\n// this way Closure Compiler will not mangle it (e.g. case 4. above).\r\n// Note that if you want to run closure, and also to use Module\r\n// after the generated code, you will need to define   var Module = {};\r\n// before the code. Then that object will be used in the code, and you\r\n// can continue to use Module afterwards as well.\r\nvar Module = typeof Module != 'undefined' ? Module : {};\r\n\r\n// Determine the runtime environment we are in. You can customize this by\r\n// setting the ENVIRONMENT setting at compile time (see settings.js).\r\n\r\n// Attempt to auto-detect the environment\r\nvar ENVIRONMENT_IS_WEB = typeof window == 'object';\r\nvar ENVIRONMENT_IS_WORKER = typeof WorkerGlobalScope != 'undefined';\r\n// N.b. Electron.js environment is simultaneously a NODE-environment, but\r\n// also a web environment.\r\nvar ENVIRONMENT_IS_NODE = typeof process == 'object' && typeof process.versions == 'object' && typeof process.versions.node == 'string' && process.type != 'renderer';\r\nvar ENVIRONMENT_IS_SHELL = !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\r\n\r\nif (ENVIRONMENT_IS_NODE) {\r\n\r\n}\r\n\r\n// --pre-jses are emitted after the Module integration code, so that they can\r\n// refer to Module (if they choose; they can also define Module)\r\n\r\n\r\nvar arguments_ = [];\r\nvar thisProgram = './this.program';\r\nvar quit_ = (status, toThrow) => {\r\n  throw toThrow;\r\n};\r\n\r\n// In MODULARIZE mode _scriptName needs to be captured already at the very top of the page immediately when the page is parsed, so it is generated there\r\n// before the page load. In non-MODULARIZE modes generate it here.\r\nvar _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;\r\n\r\nif (typeof __filename != 'undefined') { // Node\r\n  _scriptName = __filename;\r\n} else\r\nif (ENVIRONMENT_IS_WORKER) {\r\n  _scriptName = self.location.href;\r\n}\r\n\r\n// `/` should be present at the end if `scriptDirectory` is not empty\r\nvar scriptDirectory = '';\r\nfunction locateFile(path) {\r\n  if (Module['locateFile']) {\r\n    return Module['locateFile'](path, scriptDirectory);\r\n  }\r\n  return scriptDirectory + path;\r\n}\r\n\r\n// Hooks that are implemented differently in different runtime environments.\r\nvar readAsync, readBinary;\r\n\r\nif (ENVIRONMENT_IS_NODE) {\r\n  if (typeof process == 'undefined' || !process.release || process.release.name !== 'node') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n  var nodeVersion = process.versions.node;\r\n  var numericVersion = nodeVersion.split('.').slice(0, 3);\r\n  numericVersion = (numericVersion[0] * 10000) + (numericVersion[1] * 100) + (numericVersion[2].split('-')[0] * 1);\r\n  var minVersion = 160000;\r\n  if (numericVersion < 160000) {\r\n    throw new Error('This emscripten-generated code requires node v16.0.0 (detected v' + nodeVersion + ')');\r\n  }\r\n\r\n  // These modules will usually be used on Node.js. Load them eagerly to avoid\r\n  // the complexity of lazy-loading.\r\n  var fs = require('fs');\r\n  var nodePath = require('path');\r\n\r\n  scriptDirectory = __dirname + '/';\r\n\r\n// include: node_shell_read.js\r\nreadBinary = (filename) => {\r\n  // We need to re-wrap `file://` strings to URLs.\r\n  filename = isFileURI(filename) ? new URL(filename) : filename;\r\n  var ret = fs.readFileSync(filename);\r\n  assert(Buffer.isBuffer(ret));\r\n  return ret;\r\n};\r\n\r\nreadAsync = async (filename, binary = true) => {\r\n  // See the comment in the `readBinary` function.\r\n  filename = isFileURI(filename) ? new URL(filename) : filename;\r\n  var ret = fs.readFileSync(filename, binary ? undefined : 'utf8');\r\n  assert(binary ? Buffer.isBuffer(ret) : typeof ret == 'string');\r\n  return ret;\r\n};\r\n// end include: node_shell_read.js\r\n  if (process.argv.length > 1) {\r\n    thisProgram = process.argv[1].replace(/\\\\/g, '/');\r\n  }\r\n\r\n  arguments_ = process.argv.slice(2);\r\n\r\n  // MODULARIZE will export the module in the proper place outside, we don't need to export here\r\n  if (typeof module != 'undefined') {\r\n    module['exports'] = Module;\r\n  }\r\n\r\n  quit_ = (status, toThrow) => {\r\n    process.exitCode = status;\r\n    throw toThrow;\r\n  };\r\n\r\n} else\r\nif (ENVIRONMENT_IS_SHELL) {\r\n\r\n  if ((typeof process == 'object' && typeof require === 'function') || typeof window == 'object' || typeof WorkerGlobalScope != 'undefined') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n} else\r\n\r\n// Note that this includes Node.js workers when relevant (pthreads is enabled).\r\n// Node.js workers are detected as a combination of ENVIRONMENT_IS_WORKER and\r\n// ENVIRONMENT_IS_NODE.\r\nif (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\r\n  try {\r\n    scriptDirectory = new URL('.', _scriptName).href; // includes trailing slash\r\n  } catch {\r\n    // Must be a `blob:` or `data:` URL (e.g. `blob:http://site.com/etc/etc`), we cannot\r\n    // infer anything from them.\r\n  }\r\n\r\n  if (!(typeof window == 'object' || typeof WorkerGlobalScope != 'undefined')) throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\r\n\r\n  {\r\n// include: web_or_worker_shell_read.js\r\nif (ENVIRONMENT_IS_WORKER) {\r\n    readBinary = (url) => {\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, false);\r\n      xhr.responseType = 'arraybuffer';\r\n      xhr.send(null);\r\n      return new Uint8Array(/** @type{!ArrayBuffer} */(xhr.response));\r\n    };\r\n  }\r\n\r\n  readAsync = async (url) => {\r\n    // Fetch has some additional restrictions over XHR, like it can't be used on a file:// url.\r\n    // See https://github.com/github/fetch/pull/92#issuecomment-140665932\r\n    // Cordova or Electron apps are typically loaded from a file:// url.\r\n    // So use XHR on webview if URL is a file URL.\r\n    if (isFileURI(url)) {\r\n      return new Promise((resolve, reject) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url, true);\r\n        xhr.responseType = 'arraybuffer';\r\n        xhr.onload = () => {\r\n          if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0\r\n            resolve(xhr.response);\r\n            return;\r\n          }\r\n          reject(xhr.status);\r\n        };\r\n        xhr.onerror = reject;\r\n        xhr.send(null);\r\n      });\r\n    }\r\n    var response = await fetch(url, { credentials: 'same-origin' });\r\n    if (response.ok) {\r\n      return response.arrayBuffer();\r\n    }\r\n    throw new Error(response.status + ' : ' + response.url);\r\n  };\r\n// end include: web_or_worker_shell_read.js\r\n  }\r\n} else\r\n{\r\n  throw new Error('environment detection error');\r\n}\r\n\r\nvar out = console.log.bind(console);\r\nvar err = console.error.bind(console);\r\n\r\nvar IDBFS = 'IDBFS is no longer included by default; build with -lidbfs.js';\r\nvar PROXYFS = 'PROXYFS is no longer included by default; build with -lproxyfs.js';\r\nvar WORKERFS = 'WORKERFS is no longer included by default; build with -lworkerfs.js';\r\nvar FETCHFS = 'FETCHFS is no longer included by default; build with -lfetchfs.js';\r\nvar ICASEFS = 'ICASEFS is no longer included by default; build with -licasefs.js';\r\nvar JSFILEFS = 'JSFILEFS is no longer included by default; build with -ljsfilefs.js';\r\nvar OPFS = 'OPFS is no longer included by default; build with -lopfs.js';\r\n\r\nvar NODEFS = 'NODEFS is no longer included by default; build with -lnodefs.js';\r\n\r\n// perform assertions in shell.js after we set up out() and err(), as otherwise\r\n// if an assertion fails it cannot print the message\r\n\r\nassert(!ENVIRONMENT_IS_SHELL, 'shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.');\r\n\r\n// end include: shell.js\r\n\r\n// include: preamble.js\r\n// === Preamble library stuff ===\r\n\r\n// Documentation for the public APIs defined in this file must be updated in:\r\n//    site/source/docs/api_reference/preamble.js.rst\r\n// A prebuilt local version of the documentation is available at:\r\n//    site/build/text/docs/api_reference/preamble.js.txt\r\n// You can also build docs locally as HTML or other formats in site/\r\n// An online HTML version (which may be of a different version of Emscripten)\r\n//    is up at http://kripken.github.io/emscripten-site/docs/api_reference/preamble.js.html\r\n\r\nvar wasmBinary;\r\n\r\nif (typeof WebAssembly != 'object') {\r\n  err('no native wasm support detected');\r\n}\r\n\r\n// Wasm globals\r\n\r\nvar wasmMemory;\r\n\r\n//========================================\r\n// Runtime essentials\r\n//========================================\r\n\r\n// whether we are quitting the application. no code should run after this.\r\n// set in exit() and abort()\r\nvar ABORT = false;\r\n\r\n// set by exit() and abort().  Passed to 'onExit' handler.\r\n// NOTE: This is also used as the process return code code in shell environments\r\n// but only when noExitRuntime is false.\r\nvar EXITSTATUS;\r\n\r\n// In STRICT mode, we only define assert() when ASSERTIONS is set.  i.e. we\r\n// don't define it at all in release modes.  This matches the behaviour of\r\n// MINIMAL_RUNTIME.\r\n// TODO(sbc): Make this the default even without STRICT enabled.\r\n/** @type {function(*, string=)} */\r\nfunction assert(condition, text) {\r\n  if (!condition) {\r\n    abort('Assertion failed' + (text ? ': ' + text : ''));\r\n  }\r\n}\r\n\r\n// We used to include malloc/free by default in the past. Show a helpful error in\r\n// builds with assertions.\r\n\r\n// Memory management\r\n\r\nvar HEAP,\r\n/** @type {!Int8Array} */\r\n  HEAP8,\r\n/** @type {!Uint8Array} */\r\n  HEAPU8,\r\n/** @type {!Int16Array} */\r\n  HEAP16,\r\n/** @type {!Uint16Array} */\r\n  HEAPU16,\r\n/** @type {!Int32Array} */\r\n  HEAP32,\r\n/** @type {!Uint32Array} */\r\n  HEAPU32,\r\n/** @type {!Float32Array} */\r\n  HEAPF32,\r\n/* BigInt64Array type is not correctly defined in closure\r\n/** not-@type {!BigInt64Array} */\r\n  HEAP64,\r\n/* BigUint64Array type is not correctly defined in closure\r\n/** not-t@type {!BigUint64Array} */\r\n  HEAPU64,\r\n/** @type {!Float64Array} */\r\n  HEAPF64;\r\n\r\nvar runtimeInitialized = false;\r\n\r\n/**\r\n * Indicates whether filename is delivered via file protocol (as opposed to http/https)\r\n * @noinline\r\n */\r\nvar isFileURI = (filename) => filename.startsWith('file://');\r\n\r\n// include: runtime_shared.js\r\n// include: runtime_stack_check.js\r\n// Initializes the stack cookie. Called at the startup of main and at the startup of each thread in pthreads mode.\r\nfunction writeStackCookie() {\r\n  var max = _emscripten_stack_get_end();\r\n  assert((max & 3) == 0);\r\n  // If the stack ends at address zero we write our cookies 4 bytes into the\r\n  // stack.  This prevents interference with SAFE_HEAP and ASAN which also\r\n  // monitor writes to address zero.\r\n  if (max == 0) {\r\n    max += 4;\r\n  }\r\n  // The stack grow downwards towards _emscripten_stack_get_end.\r\n  // We write cookies to the final two words in the stack and detect if they are\r\n  // ever overwritten.\r\n  HEAPU32[((max)>>2)] = 0x02135467;\r\n  HEAPU32[(((max)+(4))>>2)] = 0x89BACDFE;\r\n  // Also test the global address 0 for integrity.\r\n  HEAPU32[((0)>>2)] = 1668509029;\r\n}\r\n\r\nfunction checkStackCookie() {\r\n  if (ABORT) return;\r\n  var max = _emscripten_stack_get_end();\r\n  // See writeStackCookie().\r\n  if (max == 0) {\r\n    max += 4;\r\n  }\r\n  var cookie1 = HEAPU32[((max)>>2)];\r\n  var cookie2 = HEAPU32[(((max)+(4))>>2)];\r\n  if (cookie1 != 0x02135467 || cookie2 != 0x89BACDFE) {\r\n    abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`);\r\n  }\r\n  // Also test the global address 0 for integrity.\r\n  if (HEAPU32[((0)>>2)] != 0x63736d65 /* 'emsc' */) {\r\n    abort('Runtime error: The application has corrupted its heap memory area (address zero)!');\r\n  }\r\n}\r\n// end include: runtime_stack_check.js\r\n// include: runtime_exceptions.js\r\n// end include: runtime_exceptions.js\r\n// include: runtime_debug.js\r\nvar runtimeDebug = true; // Switch to false at runtime to disable logging at the right times\r\n\r\n// Used by XXXXX_DEBUG settings to output debug messages.\r\nfunction dbg(...args) {\r\n  if (!runtimeDebug && typeof runtimeDebug != 'undefined') return;\r\n  // TODO(sbc): Make this configurable somehow.  Its not always convenient for\r\n  // logging to show up as warnings.\r\n  console.warn(...args);\r\n}\r\n\r\n// Endianness check\r\n(() => {\r\n  var h16 = new Int16Array(1);\r\n  var h8 = new Int8Array(h16.buffer);\r\n  h16[0] = 0x6373;\r\n  if (h8[0] !== 0x73 || h8[1] !== 0x63) throw 'Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)';\r\n})();\r\n\r\nfunction consumedModuleProp(prop) {\r\n  if (!Object.getOwnPropertyDescriptor(Module, prop)) {\r\n    Object.defineProperty(Module, prop, {\r\n      configurable: true,\r\n      set() {\r\n        abort(`Attempt to set \\`Module.${prop}\\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`);\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction ignoredModuleProp(prop) {\r\n  if (Object.getOwnPropertyDescriptor(Module, prop)) {\r\n    abort(`\\`Module.${prop}\\` was supplied but \\`${prop}\\` not included in INCOMING_MODULE_JS_API`);\r\n  }\r\n}\r\n\r\n// forcing the filesystem exports a few things by default\r\nfunction isExportedByForceFilesystem(name) {\r\n  return name === 'FS_createPath' ||\r\n         name === 'FS_createDataFile' ||\r\n         name === 'FS_createPreloadedFile' ||\r\n         name === 'FS_unlink' ||\r\n         name === 'addRunDependency' ||\r\n         // The old FS has some functionality that WasmFS lacks.\r\n         name === 'FS_createLazyFile' ||\r\n         name === 'FS_createDevice' ||\r\n         name === 'removeRunDependency';\r\n}\r\n\r\n/**\r\n * Intercept access to a global symbol.  This enables us to give informative\r\n * warnings/errors when folks attempt to use symbols they did not include in\r\n * their build, or no symbols that no longer exist.\r\n */\r\nfunction hookGlobalSymbolAccess(sym, func) {\r\n  if (typeof globalThis != 'undefined' && !Object.getOwnPropertyDescriptor(globalThis, sym)) {\r\n    Object.defineProperty(globalThis, sym, {\r\n      configurable: true,\r\n      get() {\r\n        func();\r\n        return undefined;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction missingGlobal(sym, msg) {\r\n  hookGlobalSymbolAccess(sym, () => {\r\n    warnOnce(`\\`${sym}\\` is not longer defined by emscripten. ${msg}`);\r\n  });\r\n}\r\n\r\nmissingGlobal('buffer', 'Please use HEAP8.buffer or wasmMemory.buffer');\r\nmissingGlobal('asm', 'Please use wasmExports instead');\r\n\r\nfunction missingLibrarySymbol(sym) {\r\n  hookGlobalSymbolAccess(sym, () => {\r\n    // Can't `abort()` here because it would break code that does runtime\r\n    // checks.  e.g. `if (typeof SDL === 'undefined')`.\r\n    var msg = `\\`${sym}\\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`;\r\n    // DEFAULT_LIBRARY_FUNCS_TO_INCLUDE requires the name as it appears in\r\n    // library.js, which means $name for a JS name with no prefix, or name\r\n    // for a JS name like _name.\r\n    var librarySymbol = sym;\r\n    if (!librarySymbol.startsWith('_')) {\r\n      librarySymbol = '$' + sym;\r\n    }\r\n    msg += ` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${librarySymbol}')`;\r\n    if (isExportedByForceFilesystem(sym)) {\r\n      msg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\r\n    }\r\n    warnOnce(msg);\r\n  });\r\n\r\n  // Any symbol that is not included from the JS library is also (by definition)\r\n  // not exported on the Module object.\r\n  unexportedRuntimeSymbol(sym);\r\n}\r\n\r\nfunction unexportedRuntimeSymbol(sym) {\r\n  if (!Object.getOwnPropertyDescriptor(Module, sym)) {\r\n    Object.defineProperty(Module, sym, {\r\n      configurable: true,\r\n      get() {\r\n        var msg = `'${sym}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;\r\n        if (isExportedByForceFilesystem(sym)) {\r\n          msg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\r\n        }\r\n        abort(msg);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// end include: runtime_debug.js\r\n// include: memoryprofiler.js\r\n// end include: memoryprofiler.js\r\n\r\n\r\nfunction updateMemoryViews() {\r\n  var b = wasmMemory.buffer;\r\n  HEAP8 = new Int8Array(b);\r\n  HEAP16 = new Int16Array(b);\r\n  HEAPU8 = new Uint8Array(b);\r\n  HEAPU16 = new Uint16Array(b);\r\n  HEAP32 = new Int32Array(b);\r\n  HEAPU32 = new Uint32Array(b);\r\n  HEAPF32 = new Float32Array(b);\r\n  HEAPF64 = new Float64Array(b);\r\n  HEAP64 = new BigInt64Array(b);\r\n  HEAPU64 = new BigUint64Array(b);\r\n}\r\n\r\n// end include: runtime_shared.js\r\nassert(typeof Int32Array != 'undefined' && typeof Float64Array !== 'undefined' && Int32Array.prototype.subarray != undefined && Int32Array.prototype.set != undefined,\r\n       'JS engine does not provide full typed array support');\r\n\r\nfunction preRun() {\r\n  if (Module['preRun']) {\r\n    if (typeof Module['preRun'] == 'function') Module['preRun'] = [Module['preRun']];\r\n    while (Module['preRun'].length) {\r\n      addOnPreRun(Module['preRun'].shift());\r\n    }\r\n  }\r\n  consumedModuleProp('preRun');\r\n  // Begin ATPRERUNS hooks\r\n  callRuntimeCallbacks(onPreRuns);\r\n  // End ATPRERUNS hooks\r\n}\r\n\r\nfunction initRuntime() {\r\n  assert(!runtimeInitialized);\r\n  runtimeInitialized = true;\r\n\r\n  checkStackCookie();\r\n\r\n  setStackLimits();\r\n\r\n  // Begin ATINITS hooks\r\n  if (!Module['noFSInit'] && !FS.initialized) FS.init();\r\nTTY.init();\r\n  // End ATINITS hooks\r\n\r\n  wasmExports['__wasm_call_ctors']();\r\n\r\n  // Begin ATPOSTCTORS hooks\r\n  FS.ignorePermissions = false;\r\n  // End ATPOSTCTORS hooks\r\n}\r\n\r\nfunction preMain() {\r\n  checkStackCookie();\r\n  // No ATMAINS hooks\r\n}\r\n\r\nfunction postRun() {\r\n  checkStackCookie();\r\n   // PThreads reuse the runtime from the main thread.\r\n\r\n  if (Module['postRun']) {\r\n    if (typeof Module['postRun'] == 'function') Module['postRun'] = [Module['postRun']];\r\n    while (Module['postRun'].length) {\r\n      addOnPostRun(Module['postRun'].shift());\r\n    }\r\n  }\r\n  consumedModuleProp('postRun');\r\n\r\n  // Begin ATPOSTRUNS hooks\r\n  callRuntimeCallbacks(onPostRuns);\r\n  // End ATPOSTRUNS hooks\r\n}\r\n\r\n// A counter of dependencies for calling run(). If we need to\r\n// do asynchronous work before running, increment this and\r\n// decrement it. Incrementing must happen in a place like\r\n// Module.preRun (used by emcc to add file preloading).\r\n// Note that you can add dependencies in preRun, even though\r\n// it happens right before run - run will be postponed until\r\n// the dependencies are met.\r\nvar runDependencies = 0;\r\nvar dependenciesFulfilled = null; // overridden to take different actions when all run dependencies are fulfilled\r\nvar runDependencyTracking = {};\r\nvar runDependencyWatcher = null;\r\n\r\nfunction getUniqueRunDependency(id) {\r\n  var orig = id;\r\n  while (1) {\r\n    if (!runDependencyTracking[id]) return id;\r\n    id = orig + Math.random();\r\n  }\r\n}\r\n\r\nfunction addRunDependency(id) {\r\n  runDependencies++;\r\n\r\n  Module['monitorRunDependencies']?.(runDependencies);\r\n\r\n  if (id) {\r\n    assert(!runDependencyTracking[id]);\r\n    runDependencyTracking[id] = 1;\r\n    if (runDependencyWatcher === null && typeof setInterval != 'undefined') {\r\n      // Check for missing dependencies every few seconds\r\n      runDependencyWatcher = setInterval(() => {\r\n        if (ABORT) {\r\n          clearInterval(runDependencyWatcher);\r\n          runDependencyWatcher = null;\r\n          return;\r\n        }\r\n        var shown = false;\r\n        for (var dep in runDependencyTracking) {\r\n          if (!shown) {\r\n            shown = true;\r\n            err('still waiting on run dependencies:');\r\n          }\r\n          err(`dependency: ${dep}`);\r\n        }\r\n        if (shown) {\r\n          err('(end of list)');\r\n        }\r\n      }, 10000);\r\n    }\r\n  } else {\r\n    err('warning: run dependency added without ID');\r\n  }\r\n}\r\n\r\nfunction removeRunDependency(id) {\r\n  runDependencies--;\r\n\r\n  Module['monitorRunDependencies']?.(runDependencies);\r\n\r\n  if (id) {\r\n    assert(runDependencyTracking[id]);\r\n    delete runDependencyTracking[id];\r\n  } else {\r\n    err('warning: run dependency removed without ID');\r\n  }\r\n  if (runDependencies == 0) {\r\n    if (runDependencyWatcher !== null) {\r\n      clearInterval(runDependencyWatcher);\r\n      runDependencyWatcher = null;\r\n    }\r\n    if (dependenciesFulfilled) {\r\n      var callback = dependenciesFulfilled;\r\n      dependenciesFulfilled = null;\r\n      callback(); // can add another dependenciesFulfilled\r\n    }\r\n  }\r\n}\r\n\r\n/** @param {string|number=} what */\r\nfunction abort(what) {\r\n  Module['onAbort']?.(what);\r\n\r\n  what = 'Aborted(' + what + ')';\r\n  // TODO(sbc): Should we remove printing and leave it up to whoever\r\n  // catches the exception?\r\n  err(what);\r\n\r\n  ABORT = true;\r\n\r\n  // Use a wasm runtime error, because a JS error might be seen as a foreign\r\n  // exception, which means we'd run destructors on it. We need the error to\r\n  // simply make the program stop.\r\n  // FIXME This approach does not work in Wasm EH because it currently does not assume\r\n  // all RuntimeErrors are from traps; it decides whether a RuntimeError is from\r\n  // a trap or not based on a hidden field within the object. So at the moment\r\n  // we don't have a way of throwing a wasm trap from JS. TODO Make a JS API that\r\n  // allows this in the wasm spec.\r\n\r\n  // Suppress closure compiler warning here. Closure compiler's builtin extern\r\n  // definition for WebAssembly.RuntimeError claims it takes no arguments even\r\n  // though it can.\r\n  // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure gets fixed.\r\n  /** @suppress {checkTypes} */\r\n  var e = new WebAssembly.RuntimeError(what);\r\n\r\n  // Throw the error whether or not MODULARIZE is set because abort is used\r\n  // in code paths apart from instantiation where an exception is expected\r\n  // to be thrown when abort is called.\r\n  throw e;\r\n}\r\n\r\nfunction createExportWrapper(name, nargs) {\r\n  return (...args) => {\r\n    assert(runtimeInitialized, `native function \\`${name}\\` called before runtime initialization`);\r\n    var f = wasmExports[name];\r\n    assert(f, `exported native function \\`${name}\\` not found`);\r\n    // Only assert for too many arguments. Too few can be valid since the missing arguments will be zero filled.\r\n    assert(args.length <= nargs, `native function \\`${name}\\` called with ${args.length} args but expects ${nargs}`);\r\n    return f(...args);\r\n  };\r\n}\r\n\r\nvar wasmBinaryFile;\r\n\r\nfunction findWasmBinary() {\r\n    return locateFile('wasm_boids.wasm');\r\n}\r\n\r\nfunction getBinarySync(file) {\r\n  if (file == wasmBinaryFile && wasmBinary) {\r\n    return new Uint8Array(wasmBinary);\r\n  }\r\n  if (readBinary) {\r\n    return readBinary(file);\r\n  }\r\n  throw 'both async and sync fetching of the wasm failed';\r\n}\r\n\r\nasync function getWasmBinary(binaryFile) {\r\n  // If we don't have the binary yet, load it asynchronously using readAsync.\r\n  if (!wasmBinary) {\r\n    // Fetch the binary using readAsync\r\n    try {\r\n      var response = await readAsync(binaryFile);\r\n      return new Uint8Array(response);\r\n    } catch {\r\n      // Fall back to getBinarySync below;\r\n    }\r\n  }\r\n\r\n  // Otherwise, getBinarySync should be able to get it synchronously\r\n  return getBinarySync(binaryFile);\r\n}\r\n\r\nasync function instantiateArrayBuffer(binaryFile, imports) {\r\n  try {\r\n    var binary = await getWasmBinary(binaryFile);\r\n    var instance = await WebAssembly.instantiate(binary, imports);\r\n    return instance;\r\n  } catch (reason) {\r\n    err(`failed to asynchronously prepare wasm: ${reason}`);\r\n\r\n    // Warn on some common problems.\r\n    if (isFileURI(wasmBinaryFile)) {\r\n      err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`);\r\n    }\r\n    abort(reason);\r\n  }\r\n}\r\n\r\nasync function instantiateAsync(binary, binaryFile, imports) {\r\n  if (!binary && typeof WebAssembly.instantiateStreaming == 'function'\r\n      // Don't use streaming for file:// delivered objects in a webview, fetch them synchronously.\r\n      && !isFileURI(binaryFile)\r\n      // Avoid instantiateStreaming() on Node.js environment for now, as while\r\n      // Node.js v18.1.0 implements it, it does not have a full fetch()\r\n      // implementation yet.\r\n      //\r\n      // Reference:\r\n      //   https://github.com/emscripten-core/emscripten/pull/16917\r\n      && !ENVIRONMENT_IS_NODE\r\n     ) {\r\n    try {\r\n      var response = fetch(binaryFile, { credentials: 'same-origin' });\r\n      var instantiationResult = await WebAssembly.instantiateStreaming(response, imports);\r\n      return instantiationResult;\r\n    } catch (reason) {\r\n      // We expect the most common failure cause to be a bad MIME type for the binary,\r\n      // in which case falling back to ArrayBuffer instantiation should work.\r\n      err(`wasm streaming compile failed: ${reason}`);\r\n      err('falling back to ArrayBuffer instantiation');\r\n      // fall back of instantiateArrayBuffer below\r\n    };\r\n  }\r\n  return instantiateArrayBuffer(binaryFile, imports);\r\n}\r\n\r\nfunction getWasmImports() {\r\n  // prepare imports\r\n  return {\r\n    'env': wasmImports,\r\n    'wasi_snapshot_preview1': wasmImports,\r\n  }\r\n}\r\n\r\n// Create the wasm instance.\r\n// Receives the wasm imports, returns the exports.\r\nasync function createWasm() {\r\n  // Load the wasm module and create an instance of using native support in the JS engine.\r\n  // handle a generated wasm instance, receiving its exports and\r\n  // performing other necessary setup\r\n  /** @param {WebAssembly.Module=} module*/\r\n  function receiveInstance(instance, module) {\r\n    wasmExports = instance.exports;\r\n\r\n    \r\n\r\n    wasmMemory = wasmExports['memory'];\r\n    \r\n    assert(wasmMemory, 'memory not found in wasm exports');\r\n    updateMemoryViews();\r\n\r\n    wasmTable = wasmExports['__indirect_function_table'];\r\n    \r\n    assert(wasmTable, 'table not found in wasm exports');\r\n\r\n    removeRunDependency('wasm-instantiate');\r\n    return wasmExports;\r\n  }\r\n  // wait for the pthread pool (if any)\r\n  addRunDependency('wasm-instantiate');\r\n\r\n  // Prefer streaming instantiation if available.\r\n  // Async compilation can be confusing when an error on the page overwrites Module\r\n  // (for example, if the order of elements is wrong, and the one defining Module is\r\n  // later), so we save Module and check it later.\r\n  var trueModule = Module;\r\n  function receiveInstantiationResult(result) {\r\n    // 'result' is a ResultObject object which has both the module and instance.\r\n    // receiveInstance() will swap in the exports (to Module.asm) so they can be called\r\n    assert(Module === trueModule, 'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?');\r\n    trueModule = null;\r\n    // TODO: Due to Closure regression https://github.com/google/closure-compiler/issues/3193, the above line no longer optimizes out down to the following line.\r\n    // When the regression is fixed, can restore the above PTHREADS-enabled path.\r\n    return receiveInstance(result['instance']);\r\n  }\r\n\r\n  var info = getWasmImports();\r\n\r\n  // User shell pages can write their own Module.instantiateWasm = function(imports, successCallback) callback\r\n  // to manually instantiate the Wasm module themselves. This allows pages to\r\n  // run the instantiation parallel to any other async startup actions they are\r\n  // performing.\r\n  // Also pthreads and wasm workers initialize the wasm instance through this\r\n  // path.\r\n  if (Module['instantiateWasm']) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        Module['instantiateWasm'](info, (mod, inst) => {\r\n          resolve(receiveInstance(mod, inst));\r\n        });\r\n      } catch(e) {\r\n        err(`Module.instantiateWasm callback failed with error: ${e}`);\r\n        reject(e);\r\n      }\r\n    });\r\n  }\r\n\r\n  wasmBinaryFile ??= findWasmBinary();\r\n    var result = await instantiateAsync(wasmBinary, wasmBinaryFile, info);\r\n    var exports = receiveInstantiationResult(result);\r\n    return exports;\r\n}\r\n\r\n// end include: preamble.js\r\n\r\n// Begin JS library code\r\n\r\n\r\n  class ExitStatus {\r\n      name = 'ExitStatus';\r\n      constructor(status) {\r\n        this.message = `Program terminated with exit(${status})`;\r\n        this.status = status;\r\n      }\r\n    }\r\n\r\n  var callRuntimeCallbacks = (callbacks) => {\r\n      while (callbacks.length > 0) {\r\n        // Pass the module as the first argument.\r\n        callbacks.shift()(Module);\r\n      }\r\n    };\r\n  var onPostRuns = [];\r\n  var addOnPostRun = (cb) => onPostRuns.push(cb);\r\n\r\n  var onPreRuns = [];\r\n  var addOnPreRun = (cb) => onPreRuns.push(cb);\r\n\r\n\r\n  \r\n    /**\r\n     * @param {number} ptr\r\n     * @param {string} type\r\n     */\r\n  function getValue(ptr, type = 'i8') {\r\n    if (type.endsWith('*')) type = '*';\r\n    switch (type) {\r\n      case 'i1': return HEAP8[ptr];\r\n      case 'i8': return HEAP8[ptr];\r\n      case 'i16': return HEAP16[((ptr)>>1)];\r\n      case 'i32': return HEAP32[((ptr)>>2)];\r\n      case 'i64': return HEAP64[((ptr)>>3)];\r\n      case 'float': return HEAPF32[((ptr)>>2)];\r\n      case 'double': return HEAPF64[((ptr)>>3)];\r\n      case '*': return HEAPU32[((ptr)>>2)];\r\n      default: abort(`invalid type for getValue: ${type}`);\r\n    }\r\n  }\r\n\r\n  var noExitRuntime = true;\r\n\r\n  var ptrToString = (ptr) => {\r\n      assert(typeof ptr === 'number');\r\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\r\n      ptr >>>= 0;\r\n      return '0x' + ptr.toString(16).padStart(8, '0');\r\n    };\r\n\r\n  var setStackLimits = () => {\r\n      var stackLow = _emscripten_stack_get_base();\r\n      var stackHigh = _emscripten_stack_get_end();\r\n      ___set_stack_limits(stackLow, stackHigh);\r\n    };\r\n\r\n  \r\n    /**\r\n     * @param {number} ptr\r\n     * @param {number} value\r\n     * @param {string} type\r\n     */\r\n  function setValue(ptr, value, type = 'i8') {\r\n    if (type.endsWith('*')) type = '*';\r\n    switch (type) {\r\n      case 'i1': HEAP8[ptr] = value; break;\r\n      case 'i8': HEAP8[ptr] = value; break;\r\n      case 'i16': HEAP16[((ptr)>>1)] = value; break;\r\n      case 'i32': HEAP32[((ptr)>>2)] = value; break;\r\n      case 'i64': HEAP64[((ptr)>>3)] = BigInt(value); break;\r\n      case 'float': HEAPF32[((ptr)>>2)] = value; break;\r\n      case 'double': HEAPF64[((ptr)>>3)] = value; break;\r\n      case '*': HEAPU32[((ptr)>>2)] = value; break;\r\n      default: abort(`invalid type for setValue: ${type}`);\r\n    }\r\n  }\r\n\r\n  var stackRestore = (val) => __emscripten_stack_restore(val);\r\n\r\n  var stackSave = () => _emscripten_stack_get_current();\r\n\r\n  var warnOnce = (text) => {\r\n      warnOnce.shown ||= {};\r\n      if (!warnOnce.shown[text]) {\r\n        warnOnce.shown[text] = 1;\r\n        if (ENVIRONMENT_IS_NODE) text = 'warning: ' + text;\r\n        err(text);\r\n      }\r\n    };\r\n\r\n  var UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder() : undefined;\r\n  \r\n    /**\r\n     * Given a pointer 'idx' to a null-terminated UTF8-encoded string in the given\r\n     * array that contains uint8 values, returns a copy of that string as a\r\n     * Javascript String object.\r\n     * heapOrArray is either a regular array, or a JavaScript typed array view.\r\n     * @param {number=} idx\r\n     * @param {number=} maxBytesToRead\r\n     * @return {string}\r\n     */\r\n  var UTF8ArrayToString = (heapOrArray, idx = 0, maxBytesToRead = NaN) => {\r\n      var endIdx = idx + maxBytesToRead;\r\n      var endPtr = idx;\r\n      // TextDecoder needs to know the byte length in advance, it doesn't stop on\r\n      // null terminator by itself.  Also, use the length info to avoid running tiny\r\n      // strings through TextDecoder, since .subarray() allocates garbage.\r\n      // (As a tiny code save trick, compare endPtr against endIdx using a negation,\r\n      // so that undefined/NaN means Infinity)\r\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\r\n  \r\n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\r\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\r\n      }\r\n      var str = '';\r\n      // If building with TextDecoder, we have already computed the string length\r\n      // above, so test loop end condition against that\r\n      while (idx < endPtr) {\r\n        // For UTF8 byte structure, see:\r\n        // http://en.wikipedia.org/wiki/UTF-8#Description\r\n        // https://www.ietf.org/rfc/rfc2279.txt\r\n        // https://tools.ietf.org/html/rfc3629\r\n        var u0 = heapOrArray[idx++];\r\n        if (!(u0 & 0x80)) { str += String.fromCharCode(u0); continue; }\r\n        var u1 = heapOrArray[idx++] & 63;\r\n        if ((u0 & 0xE0) == 0xC0) { str += String.fromCharCode(((u0 & 31) << 6) | u1); continue; }\r\n        var u2 = heapOrArray[idx++] & 63;\r\n        if ((u0 & 0xF0) == 0xE0) {\r\n          u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\r\n        } else {\r\n          if ((u0 & 0xF8) != 0xF0) warnOnce('Invalid UTF-8 leading byte ' + ptrToString(u0) + ' encountered when deserializing a UTF-8 string in wasm memory to a JS string!');\r\n          u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\r\n        }\r\n  \r\n        if (u0 < 0x10000) {\r\n          str += String.fromCharCode(u0);\r\n        } else {\r\n          var ch = u0 - 0x10000;\r\n          str += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n        }\r\n      }\r\n      return str;\r\n    };\r\n  \r\n    /**\r\n     * Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the\r\n     * emscripten HEAP, returns a copy of that string as a Javascript String object.\r\n     *\r\n     * @param {number} ptr\r\n     * @param {number=} maxBytesToRead - An optional length that specifies the\r\n     *   maximum number of bytes to read. You can omit this parameter to scan the\r\n     *   string until the first 0 byte. If maxBytesToRead is passed, and the string\r\n     *   at [ptr, ptr+maxBytesToReadr[ contains a null byte in the middle, then the\r\n     *   string will cut short at that byte index (i.e. maxBytesToRead will not\r\n     *   produce a string of exact length [ptr, ptr+maxBytesToRead[) N.B. mixing\r\n     *   frequent uses of UTF8ToString() with and without maxBytesToRead may throw\r\n     *   JS JIT optimizations off, so it is worth to consider consistently using one\r\n     * @return {string}\r\n     */\r\n  var UTF8ToString = (ptr, maxBytesToRead) => {\r\n      assert(typeof ptr == 'number', `UTF8ToString expects a number (got ${typeof ptr})`);\r\n      return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\r\n    };\r\n  var ___assert_fail = (condition, filename, line, func) =>\r\n      abort(`Assertion failed: ${UTF8ToString(condition)}, at: ` + [filename ? UTF8ToString(filename) : 'unknown filename', line, func ? UTF8ToString(func) : 'unknown function']);\r\n\r\n  class ExceptionInfo {\r\n      // excPtr - Thrown object pointer to wrap. Metadata pointer is calculated from it.\r\n      constructor(excPtr) {\r\n        this.excPtr = excPtr;\r\n        this.ptr = excPtr - 24;\r\n      }\r\n  \r\n      set_type(type) {\r\n        HEAPU32[(((this.ptr)+(4))>>2)] = type;\r\n      }\r\n  \r\n      get_type() {\r\n        return HEAPU32[(((this.ptr)+(4))>>2)];\r\n      }\r\n  \r\n      set_destructor(destructor) {\r\n        HEAPU32[(((this.ptr)+(8))>>2)] = destructor;\r\n      }\r\n  \r\n      get_destructor() {\r\n        return HEAPU32[(((this.ptr)+(8))>>2)];\r\n      }\r\n  \r\n      set_caught(caught) {\r\n        caught = caught ? 1 : 0;\r\n        HEAP8[(this.ptr)+(12)] = caught;\r\n      }\r\n  \r\n      get_caught() {\r\n        return HEAP8[(this.ptr)+(12)] != 0;\r\n      }\r\n  \r\n      set_rethrown(rethrown) {\r\n        rethrown = rethrown ? 1 : 0;\r\n        HEAP8[(this.ptr)+(13)] = rethrown;\r\n      }\r\n  \r\n      get_rethrown() {\r\n        return HEAP8[(this.ptr)+(13)] != 0;\r\n      }\r\n  \r\n      // Initialize native structure fields. Should be called once after allocated.\r\n      init(type, destructor) {\r\n        this.set_adjusted_ptr(0);\r\n        this.set_type(type);\r\n        this.set_destructor(destructor);\r\n      }\r\n  \r\n      set_adjusted_ptr(adjustedPtr) {\r\n        HEAPU32[(((this.ptr)+(16))>>2)] = adjustedPtr;\r\n      }\r\n  \r\n      get_adjusted_ptr() {\r\n        return HEAPU32[(((this.ptr)+(16))>>2)];\r\n      }\r\n    }\r\n  \r\n  var exceptionLast = 0;\r\n  \r\n  var uncaughtExceptionCount = 0;\r\n  var ___cxa_throw = (ptr, type, destructor) => {\r\n      var info = new ExceptionInfo(ptr);\r\n      // Initialize ExceptionInfo content after it was allocated in __cxa_allocate_exception.\r\n      info.init(type, destructor);\r\n      exceptionLast = ptr;\r\n      uncaughtExceptionCount++;\r\n      assert(false, 'Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.');\r\n    };\r\n\r\n  \r\n  \r\n  var ___handle_stack_overflow = (requested) => {\r\n      var base = _emscripten_stack_get_base();\r\n      var end = _emscripten_stack_get_end();\r\n      abort(`stack overflow (Attempt to set SP to ${ptrToString(requested)}` +\r\n            `, with stack limits [${ptrToString(end)} - ${ptrToString(base)}` +\r\n            ']). If you require more stack space build with -sSTACK_SIZE=<bytes>');\r\n    };\r\n\r\n  var __abort_js = () =>\r\n      abort('native code called abort()');\r\n\r\n  var structRegistrations = {\r\n  };\r\n  \r\n  var runDestructors = (destructors) => {\r\n      while (destructors.length) {\r\n        var ptr = destructors.pop();\r\n        var del = destructors.pop();\r\n        del(ptr);\r\n      }\r\n    };\r\n  \r\n  /** @suppress {globalThis} */\r\n  function readPointer(pointer) {\r\n      return this['fromWireType'](HEAPU32[((pointer)>>2)]);\r\n    }\r\n  \r\n  var awaitingDependencies = {\r\n  };\r\n  \r\n  var registeredTypes = {\r\n  };\r\n  \r\n  var typeDependencies = {\r\n  };\r\n  \r\n  var InternalError = Module['InternalError'] = class InternalError extends Error { constructor(message) { super(message); this.name = 'InternalError'; }};\r\n  var throwInternalError = (message) => { throw new InternalError(message); };\r\n  var whenDependentTypesAreResolved = (myTypes, dependentTypes, getTypeConverters) => {\r\n      myTypes.forEach((type) => typeDependencies[type] = dependentTypes);\r\n  \r\n      function onComplete(typeConverters) {\r\n        var myTypeConverters = getTypeConverters(typeConverters);\r\n        if (myTypeConverters.length !== myTypes.length) {\r\n          throwInternalError('Mismatched type converter count');\r\n        }\r\n        for (var i = 0; i < myTypes.length; ++i) {\r\n          registerType(myTypes[i], myTypeConverters[i]);\r\n        }\r\n      }\r\n  \r\n      var typeConverters = new Array(dependentTypes.length);\r\n      var unregisteredTypes = [];\r\n      var registered = 0;\r\n      dependentTypes.forEach((dt, i) => {\r\n        if (registeredTypes.hasOwnProperty(dt)) {\r\n          typeConverters[i] = registeredTypes[dt];\r\n        } else {\r\n          unregisteredTypes.push(dt);\r\n          if (!awaitingDependencies.hasOwnProperty(dt)) {\r\n            awaitingDependencies[dt] = [];\r\n          }\r\n          awaitingDependencies[dt].push(() => {\r\n            typeConverters[i] = registeredTypes[dt];\r\n            ++registered;\r\n            if (registered === unregisteredTypes.length) {\r\n              onComplete(typeConverters);\r\n            }\r\n          });\r\n        }\r\n      });\r\n      if (0 === unregisteredTypes.length) {\r\n        onComplete(typeConverters);\r\n      }\r\n    };\r\n  var __embind_finalize_value_object = (structType) => {\r\n      var reg = structRegistrations[structType];\r\n      delete structRegistrations[structType];\r\n  \r\n      var rawConstructor = reg.rawConstructor;\r\n      var rawDestructor = reg.rawDestructor;\r\n      var fieldRecords = reg.fields;\r\n      var fieldTypes = fieldRecords.map((field) => field.getterReturnType).\r\n                concat(fieldRecords.map((field) => field.setterArgumentType));\r\n      whenDependentTypesAreResolved([structType], fieldTypes, (fieldTypes) => {\r\n        var fields = {};\r\n        fieldRecords.forEach((field, i) => {\r\n          var fieldName = field.fieldName;\r\n          var getterReturnType = fieldTypes[i];\r\n          var optional = fieldTypes[i].optional;\r\n          var getter = field.getter;\r\n          var getterContext = field.getterContext;\r\n          var setterArgumentType = fieldTypes[i + fieldRecords.length];\r\n          var setter = field.setter;\r\n          var setterContext = field.setterContext;\r\n          fields[fieldName] = {\r\n            read: (ptr) => getterReturnType['fromWireType'](getter(getterContext, ptr)),\r\n            write: (ptr, o) => {\r\n              var destructors = [];\r\n              setter(setterContext, ptr, setterArgumentType['toWireType'](destructors, o));\r\n              runDestructors(destructors);\r\n            },\r\n            optional,\r\n          };\r\n        });\r\n  \r\n        return [{\r\n          name: reg.name,\r\n          'fromWireType': (ptr) => {\r\n            var rv = {};\r\n            for (var i in fields) {\r\n              rv[i] = fields[i].read(ptr);\r\n            }\r\n            rawDestructor(ptr);\r\n            return rv;\r\n          },\r\n          'toWireType': (destructors, o) => {\r\n            // todo: Here we have an opportunity for -O3 level \"unsafe\" optimizations:\r\n            // assume all fields are present without checking.\r\n            for (var fieldName in fields) {\r\n              if (!(fieldName in o) && !fields[fieldName].optional) {\r\n                throw new TypeError(`Missing field: \"${fieldName}\"`);\r\n              }\r\n            }\r\n            var ptr = rawConstructor();\r\n            for (fieldName in fields) {\r\n              fields[fieldName].write(ptr, o[fieldName]);\r\n            }\r\n            if (destructors !== null) {\r\n              destructors.push(rawDestructor, ptr);\r\n            }\r\n            return ptr;\r\n          },\r\n          argPackAdvance: GenericWireTypeSize,\r\n          'readValueFromPointer': readPointer,\r\n          destructorFunction: rawDestructor,\r\n        }];\r\n      });\r\n    };\r\n\r\n  var embindRepr = (v) => {\r\n      if (v === null) {\r\n          return 'null';\r\n      }\r\n      var t = typeof v;\r\n      if (t === 'object' || t === 'array' || t === 'function') {\r\n          return v.toString();\r\n      } else {\r\n          return '' + v;\r\n      }\r\n    };\r\n  \r\n  var embind_init_charCodes = () => {\r\n      var codes = new Array(256);\r\n      for (var i = 0; i < 256; ++i) {\r\n          codes[i] = String.fromCharCode(i);\r\n      }\r\n      embind_charCodes = codes;\r\n    };\r\n  var embind_charCodes;\r\n  var readLatin1String = (ptr) => {\r\n      var ret = \"\";\r\n      var c = ptr;\r\n      while (HEAPU8[c]) {\r\n          ret += embind_charCodes[HEAPU8[c++]];\r\n      }\r\n      return ret;\r\n    };\r\n  \r\n  \r\n  \r\n  \r\n  var BindingError = Module['BindingError'] = class BindingError extends Error { constructor(message) { super(message); this.name = 'BindingError'; }};\r\n  var throwBindingError = (message) => { throw new BindingError(message); };\r\n  /** @param {Object=} options */\r\n  function sharedRegisterType(rawType, registeredInstance, options = {}) {\r\n      var name = registeredInstance.name;\r\n      if (!rawType) {\r\n        throwBindingError(`type \"${name}\" must have a positive integer typeid pointer`);\r\n      }\r\n      if (registeredTypes.hasOwnProperty(rawType)) {\r\n        if (options.ignoreDuplicateRegistrations) {\r\n          return;\r\n        } else {\r\n          throwBindingError(`Cannot register type '${name}' twice`);\r\n        }\r\n      }\r\n  \r\n      registeredTypes[rawType] = registeredInstance;\r\n      delete typeDependencies[rawType];\r\n  \r\n      if (awaitingDependencies.hasOwnProperty(rawType)) {\r\n        var callbacks = awaitingDependencies[rawType];\r\n        delete awaitingDependencies[rawType];\r\n        callbacks.forEach((cb) => cb());\r\n      }\r\n    }\r\n  /** @param {Object=} options */\r\n  function registerType(rawType, registeredInstance, options = {}) {\r\n      if (registeredInstance.argPackAdvance === undefined) {\r\n        throw new TypeError('registerType registeredInstance requires argPackAdvance');\r\n      }\r\n      return sharedRegisterType(rawType, registeredInstance, options);\r\n    }\r\n  \r\n  var integerReadValueFromPointer = (name, width, signed) => {\r\n      // integers are quite common, so generate very specialized functions\r\n      switch (width) {\r\n          case 1: return signed ?\r\n              (pointer) => HEAP8[pointer] :\r\n              (pointer) => HEAPU8[pointer];\r\n          case 2: return signed ?\r\n              (pointer) => HEAP16[((pointer)>>1)] :\r\n              (pointer) => HEAPU16[((pointer)>>1)]\r\n          case 4: return signed ?\r\n              (pointer) => HEAP32[((pointer)>>2)] :\r\n              (pointer) => HEAPU32[((pointer)>>2)]\r\n          case 8: return signed ?\r\n              (pointer) => HEAP64[((pointer)>>3)] :\r\n              (pointer) => HEAPU64[((pointer)>>3)]\r\n          default:\r\n              throw new TypeError(`invalid integer width (${width}): ${name}`);\r\n      }\r\n    };\r\n  /** @suppress {globalThis} */\r\n  var __embind_register_bigint = (primitiveType, name, size, minRange, maxRange) => {\r\n      name = readLatin1String(name);\r\n  \r\n      var isUnsignedType = (name.indexOf('u') != -1);\r\n  \r\n      // maxRange comes through as -1 for uint64_t (see issue 13902). Work around that temporarily\r\n      if (isUnsignedType) {\r\n        maxRange = (1n << 64n) - 1n;\r\n      }\r\n  \r\n      registerType(primitiveType, {\r\n        name,\r\n        'fromWireType': (value) => value,\r\n        'toWireType': function(destructors, value) {\r\n          if (typeof value != \"bigint\" && typeof value != \"number\") {\r\n            throw new TypeError(`Cannot convert \"${embindRepr(value)}\" to ${this.name}`);\r\n          }\r\n          if (typeof value == \"number\") {\r\n            value = BigInt(value);\r\n          }\r\n          if (value < minRange || value > maxRange) {\r\n            throw new TypeError(`Passing a number \"${embindRepr(value)}\" from JS side to C/C++ side to an argument of type \"${name}\", which is outside the valid range [${minRange}, ${maxRange}]!`);\r\n          }\r\n          return value;\r\n        },\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': integerReadValueFromPointer(name, size, !isUnsignedType),\r\n        destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  var GenericWireTypeSize = 8;\r\n  /** @suppress {globalThis} */\r\n  var __embind_register_bool = (rawType, name, trueValue, falseValue) => {\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n          name,\r\n          'fromWireType': function(wt) {\r\n              // ambiguous emscripten ABI: sometimes return values are\r\n              // true or false, and sometimes integers (0 or 1)\r\n              return !!wt;\r\n          },\r\n          'toWireType': function(destructors, o) {\r\n              return o ? trueValue : falseValue;\r\n          },\r\n          argPackAdvance: GenericWireTypeSize,\r\n          'readValueFromPointer': function(pointer) {\r\n              return this['fromWireType'](HEAPU8[pointer]);\r\n          },\r\n          destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  var shallowCopyInternalPointer = (o) => {\r\n      return {\r\n        count: o.count,\r\n        deleteScheduled: o.deleteScheduled,\r\n        preservePointerOnDelete: o.preservePointerOnDelete,\r\n        ptr: o.ptr,\r\n        ptrType: o.ptrType,\r\n        smartPtr: o.smartPtr,\r\n        smartPtrType: o.smartPtrType,\r\n      };\r\n    };\r\n  \r\n  var throwInstanceAlreadyDeleted = (obj) => {\r\n      function getInstanceTypeName(handle) {\r\n        return handle.$$.ptrType.registeredClass.name;\r\n      }\r\n      throwBindingError(getInstanceTypeName(obj) + ' instance already deleted');\r\n    };\r\n  \r\n  var finalizationRegistry = false;\r\n  \r\n  var detachFinalizer = (handle) => {};\r\n  \r\n  var runDestructor = ($$) => {\r\n      if ($$.smartPtr) {\r\n        $$.smartPtrType.rawDestructor($$.smartPtr);\r\n      } else {\r\n        $$.ptrType.registeredClass.rawDestructor($$.ptr);\r\n      }\r\n    };\r\n  var releaseClassHandle = ($$) => {\r\n      $$.count.value -= 1;\r\n      var toDelete = 0 === $$.count.value;\r\n      if (toDelete) {\r\n        runDestructor($$);\r\n      }\r\n    };\r\n  \r\n  var downcastPointer = (ptr, ptrClass, desiredClass) => {\r\n      if (ptrClass === desiredClass) {\r\n        return ptr;\r\n      }\r\n      if (undefined === desiredClass.baseClass) {\r\n        return null; // no conversion\r\n      }\r\n  \r\n      var rv = downcastPointer(ptr, ptrClass, desiredClass.baseClass);\r\n      if (rv === null) {\r\n        return null;\r\n      }\r\n      return desiredClass.downcast(rv);\r\n    };\r\n  \r\n  var registeredPointers = {\r\n  };\r\n  \r\n  var registeredInstances = {\r\n  };\r\n  \r\n  var getBasestPointer = (class_, ptr) => {\r\n      if (ptr === undefined) {\r\n          throwBindingError('ptr should not be undefined');\r\n      }\r\n      while (class_.baseClass) {\r\n          ptr = class_.upcast(ptr);\r\n          class_ = class_.baseClass;\r\n      }\r\n      return ptr;\r\n    };\r\n  var getInheritedInstance = (class_, ptr) => {\r\n      ptr = getBasestPointer(class_, ptr);\r\n      return registeredInstances[ptr];\r\n    };\r\n  \r\n  \r\n  var makeClassHandle = (prototype, record) => {\r\n      if (!record.ptrType || !record.ptr) {\r\n        throwInternalError('makeClassHandle requires ptr and ptrType');\r\n      }\r\n      var hasSmartPtrType = !!record.smartPtrType;\r\n      var hasSmartPtr = !!record.smartPtr;\r\n      if (hasSmartPtrType !== hasSmartPtr) {\r\n        throwInternalError('Both smartPtrType and smartPtr must be specified');\r\n      }\r\n      record.count = { value: 1 };\r\n      return attachFinalizer(Object.create(prototype, {\r\n        $$: {\r\n          value: record,\r\n          writable: true,\r\n        },\r\n      }));\r\n    };\r\n  /** @suppress {globalThis} */\r\n  function RegisteredPointer_fromWireType(ptr) {\r\n      // ptr is a raw pointer (or a raw smartpointer)\r\n  \r\n      // rawPointer is a maybe-null raw pointer\r\n      var rawPointer = this.getPointee(ptr);\r\n      if (!rawPointer) {\r\n        this.destructor(ptr);\r\n        return null;\r\n      }\r\n  \r\n      var registeredInstance = getInheritedInstance(this.registeredClass, rawPointer);\r\n      if (undefined !== registeredInstance) {\r\n        // JS object has been neutered, time to repopulate it\r\n        if (0 === registeredInstance.$$.count.value) {\r\n          registeredInstance.$$.ptr = rawPointer;\r\n          registeredInstance.$$.smartPtr = ptr;\r\n          return registeredInstance['clone']();\r\n        } else {\r\n          // else, just increment reference count on existing object\r\n          // it already has a reference to the smart pointer\r\n          var rv = registeredInstance['clone']();\r\n          this.destructor(ptr);\r\n          return rv;\r\n        }\r\n      }\r\n  \r\n      function makeDefaultHandle() {\r\n        if (this.isSmartPointer) {\r\n          return makeClassHandle(this.registeredClass.instancePrototype, {\r\n            ptrType: this.pointeeType,\r\n            ptr: rawPointer,\r\n            smartPtrType: this,\r\n            smartPtr: ptr,\r\n          });\r\n        } else {\r\n          return makeClassHandle(this.registeredClass.instancePrototype, {\r\n            ptrType: this,\r\n            ptr,\r\n          });\r\n        }\r\n      }\r\n  \r\n      var actualType = this.registeredClass.getActualType(rawPointer);\r\n      var registeredPointerRecord = registeredPointers[actualType];\r\n      if (!registeredPointerRecord) {\r\n        return makeDefaultHandle.call(this);\r\n      }\r\n  \r\n      var toType;\r\n      if (this.isConst) {\r\n        toType = registeredPointerRecord.constPointerType;\r\n      } else {\r\n        toType = registeredPointerRecord.pointerType;\r\n      }\r\n      var dp = downcastPointer(\r\n          rawPointer,\r\n          this.registeredClass,\r\n          toType.registeredClass);\r\n      if (dp === null) {\r\n        return makeDefaultHandle.call(this);\r\n      }\r\n      if (this.isSmartPointer) {\r\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\r\n          ptrType: toType,\r\n          ptr: dp,\r\n          smartPtrType: this,\r\n          smartPtr: ptr,\r\n        });\r\n      } else {\r\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\r\n          ptrType: toType,\r\n          ptr: dp,\r\n        });\r\n      }\r\n    }\r\n  var attachFinalizer = (handle) => {\r\n      if ('undefined' === typeof FinalizationRegistry) {\r\n        attachFinalizer = (handle) => handle;\r\n        return handle;\r\n      }\r\n      // If the running environment has a FinalizationRegistry (see\r\n      // https://github.com/tc39/proposal-weakrefs), then attach finalizers\r\n      // for class handles.  We check for the presence of FinalizationRegistry\r\n      // at run-time, not build-time.\r\n      finalizationRegistry = new FinalizationRegistry((info) => {\r\n        console.warn(info.leakWarning);\r\n        releaseClassHandle(info.$$);\r\n      });\r\n      attachFinalizer = (handle) => {\r\n        var $$ = handle.$$;\r\n        var hasSmartPtr = !!$$.smartPtr;\r\n        if (hasSmartPtr) {\r\n          // We should not call the destructor on raw pointers in case other code expects the pointee to live\r\n          var info = { $$: $$ };\r\n          // Create a warning as an Error instance in advance so that we can store\r\n          // the current stacktrace and point to it when / if a leak is detected.\r\n          // This is more useful than the empty stacktrace of `FinalizationRegistry`\r\n          // callback.\r\n          var cls = $$.ptrType.registeredClass;\r\n          var err = new Error(`Embind found a leaked C++ instance ${cls.name} <${ptrToString($$.ptr)}>.\\n` +\r\n          \"We'll free it automatically in this case, but this functionality is not reliable across various environments.\\n\" +\r\n          \"Make sure to invoke .delete() manually once you're done with the instance instead.\\n\" +\r\n          \"Originally allocated\"); // `.stack` will add \"at ...\" after this sentence\r\n          if ('captureStackTrace' in Error) {\r\n            Error.captureStackTrace(err, RegisteredPointer_fromWireType);\r\n          }\r\n          info.leakWarning = err.stack.replace(/^Error: /, '');\r\n          finalizationRegistry.register(handle, info, handle);\r\n        }\r\n        return handle;\r\n      };\r\n      detachFinalizer = (handle) => finalizationRegistry.unregister(handle);\r\n      return attachFinalizer(handle);\r\n    };\r\n  \r\n  \r\n  \r\n  \r\n  var deletionQueue = [];\r\n  var flushPendingDeletes = () => {\r\n      while (deletionQueue.length) {\r\n        var obj = deletionQueue.pop();\r\n        obj.$$.deleteScheduled = false;\r\n        obj['delete']();\r\n      }\r\n    };\r\n  \r\n  var delayFunction;\r\n  var init_ClassHandle = () => {\r\n      let proto = ClassHandle.prototype;\r\n  \r\n      Object.assign(proto, {\r\n        \"isAliasOf\"(other) {\r\n          if (!(this instanceof ClassHandle)) {\r\n            return false;\r\n          }\r\n          if (!(other instanceof ClassHandle)) {\r\n            return false;\r\n          }\r\n  \r\n          var leftClass = this.$$.ptrType.registeredClass;\r\n          var left = this.$$.ptr;\r\n          other.$$ = /** @type {Object} */ (other.$$);\r\n          var rightClass = other.$$.ptrType.registeredClass;\r\n          var right = other.$$.ptr;\r\n  \r\n          while (leftClass.baseClass) {\r\n            left = leftClass.upcast(left);\r\n            leftClass = leftClass.baseClass;\r\n          }\r\n  \r\n          while (rightClass.baseClass) {\r\n            right = rightClass.upcast(right);\r\n            rightClass = rightClass.baseClass;\r\n          }\r\n  \r\n          return leftClass === rightClass && left === right;\r\n        },\r\n  \r\n        \"clone\"() {\r\n          if (!this.$$.ptr) {\r\n            throwInstanceAlreadyDeleted(this);\r\n          }\r\n  \r\n          if (this.$$.preservePointerOnDelete) {\r\n            this.$$.count.value += 1;\r\n            return this;\r\n          } else {\r\n            var clone = attachFinalizer(Object.create(Object.getPrototypeOf(this), {\r\n              $$: {\r\n                value: shallowCopyInternalPointer(this.$$),\r\n              }\r\n            }));\r\n  \r\n            clone.$$.count.value += 1;\r\n            clone.$$.deleteScheduled = false;\r\n            return clone;\r\n          }\r\n        },\r\n  \r\n        \"delete\"() {\r\n          if (!this.$$.ptr) {\r\n            throwInstanceAlreadyDeleted(this);\r\n          }\r\n  \r\n          if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\r\n            throwBindingError('Object already scheduled for deletion');\r\n          }\r\n  \r\n          detachFinalizer(this);\r\n          releaseClassHandle(this.$$);\r\n  \r\n          if (!this.$$.preservePointerOnDelete) {\r\n            this.$$.smartPtr = undefined;\r\n            this.$$.ptr = undefined;\r\n          }\r\n        },\r\n  \r\n        \"isDeleted\"() {\r\n          return !this.$$.ptr;\r\n        },\r\n  \r\n        \"deleteLater\"() {\r\n          if (!this.$$.ptr) {\r\n            throwInstanceAlreadyDeleted(this);\r\n          }\r\n          if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\r\n            throwBindingError('Object already scheduled for deletion');\r\n          }\r\n          deletionQueue.push(this);\r\n          if (deletionQueue.length === 1 && delayFunction) {\r\n            delayFunction(flushPendingDeletes);\r\n          }\r\n          this.$$.deleteScheduled = true;\r\n          return this;\r\n        },\r\n      });\r\n  \r\n      // Support `using ...` from https://github.com/tc39/proposal-explicit-resource-management.\r\n      const symbolDispose = Symbol.dispose;\r\n      if (symbolDispose) {\r\n        proto[symbolDispose] = proto['delete'];\r\n      }\r\n    };\r\n  /** @constructor */\r\n  function ClassHandle() {\r\n    }\r\n  \r\n  var createNamedFunction = (name, func) => Object.defineProperty(func, 'name', { value: name });\r\n  \r\n  \r\n  var ensureOverloadTable = (proto, methodName, humanName) => {\r\n      if (undefined === proto[methodName].overloadTable) {\r\n        var prevFunc = proto[methodName];\r\n        // Inject an overload resolver function that routes to the appropriate overload based on the number of arguments.\r\n        proto[methodName] = function(...args) {\r\n          // TODO This check can be removed in -O3 level \"unsafe\" optimizations.\r\n          if (!proto[methodName].overloadTable.hasOwnProperty(args.length)) {\r\n            throwBindingError(`Function '${humanName}' called with an invalid number of arguments (${args.length}) - expects one of (${proto[methodName].overloadTable})!`);\r\n          }\r\n          return proto[methodName].overloadTable[args.length].apply(this, args);\r\n        };\r\n        // Move the previous function into the overload table.\r\n        proto[methodName].overloadTable = [];\r\n        proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;\r\n      }\r\n    };\r\n  \r\n  /** @param {number=} numArguments */\r\n  var exposePublicSymbol = (name, value, numArguments) => {\r\n      if (Module.hasOwnProperty(name)) {\r\n        if (undefined === numArguments || (undefined !== Module[name].overloadTable && undefined !== Module[name].overloadTable[numArguments])) {\r\n          throwBindingError(`Cannot register public name '${name}' twice`);\r\n        }\r\n  \r\n        // We are exposing a function with the same name as an existing function. Create an overload table and a function selector\r\n        // that routes between the two.\r\n        ensureOverloadTable(Module, name, name);\r\n        if (Module[name].overloadTable.hasOwnProperty(numArguments)) {\r\n          throwBindingError(`Cannot register multiple overloads of a function with the same number of arguments (${numArguments})!`);\r\n        }\r\n        // Add the new function into the overload table.\r\n        Module[name].overloadTable[numArguments] = value;\r\n      } else {\r\n        Module[name] = value;\r\n        Module[name].argCount = numArguments;\r\n      }\r\n    };\r\n  \r\n  var char_0 = 48;\r\n  \r\n  var char_9 = 57;\r\n  var makeLegalFunctionName = (name) => {\r\n      assert(typeof name === 'string');\r\n      name = name.replace(/[^a-zA-Z0-9_]/g, '$');\r\n      var f = name.charCodeAt(0);\r\n      if (f >= char_0 && f <= char_9) {\r\n        return `_${name}`;\r\n      }\r\n      return name;\r\n    };\r\n  \r\n  \r\n  /** @constructor */\r\n  function RegisteredClass(name,\r\n                               constructor,\r\n                               instancePrototype,\r\n                               rawDestructor,\r\n                               baseClass,\r\n                               getActualType,\r\n                               upcast,\r\n                               downcast) {\r\n      this.name = name;\r\n      this.constructor = constructor;\r\n      this.instancePrototype = instancePrototype;\r\n      this.rawDestructor = rawDestructor;\r\n      this.baseClass = baseClass;\r\n      this.getActualType = getActualType;\r\n      this.upcast = upcast;\r\n      this.downcast = downcast;\r\n      this.pureVirtualFunctions = [];\r\n    }\r\n  \r\n  \r\n  var upcastPointer = (ptr, ptrClass, desiredClass) => {\r\n      while (ptrClass !== desiredClass) {\r\n        if (!ptrClass.upcast) {\r\n          throwBindingError(`Expected null or instance of ${desiredClass.name}, got an instance of ${ptrClass.name}`);\r\n        }\r\n        ptr = ptrClass.upcast(ptr);\r\n        ptrClass = ptrClass.baseClass;\r\n      }\r\n      return ptr;\r\n    };\r\n  /** @suppress {globalThis} */\r\n  function constNoSmartPtrRawPointerToWireType(destructors, handle) {\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError(`null is not a valid ${this.name}`);\r\n        }\r\n        return 0;\r\n      }\r\n  \r\n      if (!handle.$$) {\r\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n      return ptr;\r\n    }\r\n  \r\n  \r\n  /** @suppress {globalThis} */\r\n  function genericPointerToWireType(destructors, handle) {\r\n      var ptr;\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError(`null is not a valid ${this.name}`);\r\n        }\r\n  \r\n        if (this.isSmartPointer) {\r\n          ptr = this.rawConstructor();\r\n          if (destructors !== null) {\r\n            destructors.push(this.rawDestructor, ptr);\r\n          }\r\n          return ptr;\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n  \r\n      if (!handle || !handle.$$) {\r\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\r\n      }\r\n      if (!this.isConst && handle.$$.ptrType.isConst) {\r\n        throwBindingError(`Cannot convert argument of type ${(handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name)} to parameter type ${this.name}`);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n  \r\n      if (this.isSmartPointer) {\r\n        // TODO: this is not strictly true\r\n        // We could support BY_EMVAL conversions from raw pointers to smart pointers\r\n        // because the smart pointer can hold a reference to the handle\r\n        if (undefined === handle.$$.smartPtr) {\r\n          throwBindingError('Passing raw pointer to smart pointer is illegal');\r\n        }\r\n  \r\n        switch (this.sharingPolicy) {\r\n          case 0: // NONE\r\n            // no upcasting\r\n            if (handle.$$.smartPtrType === this) {\r\n              ptr = handle.$$.smartPtr;\r\n            } else {\r\n              throwBindingError(`Cannot convert argument of type ${(handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name)} to parameter type ${this.name}`);\r\n            }\r\n            break;\r\n  \r\n          case 1: // INTRUSIVE\r\n            ptr = handle.$$.smartPtr;\r\n            break;\r\n  \r\n          case 2: // BY_EMVAL\r\n            if (handle.$$.smartPtrType === this) {\r\n              ptr = handle.$$.smartPtr;\r\n            } else {\r\n              var clonedHandle = handle['clone']();\r\n              ptr = this.rawShare(\r\n                ptr,\r\n                Emval.toHandle(() => clonedHandle['delete']())\r\n              );\r\n              if (destructors !== null) {\r\n                destructors.push(this.rawDestructor, ptr);\r\n              }\r\n            }\r\n            break;\r\n  \r\n          default:\r\n            throwBindingError('Unsupporting sharing policy');\r\n        }\r\n      }\r\n      return ptr;\r\n    }\r\n  \r\n  \r\n  /** @suppress {globalThis} */\r\n  function nonConstNoSmartPtrRawPointerToWireType(destructors, handle) {\r\n      if (handle === null) {\r\n        if (this.isReference) {\r\n          throwBindingError(`null is not a valid ${this.name}`);\r\n        }\r\n        return 0;\r\n      }\r\n  \r\n      if (!handle.$$) {\r\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\r\n      }\r\n      if (!handle.$$.ptr) {\r\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\r\n      }\r\n      if (handle.$$.ptrType.isConst) {\r\n          throwBindingError(`Cannot convert argument of type ${handle.$$.ptrType.name} to parameter type ${this.name}`);\r\n      }\r\n      var handleClass = handle.$$.ptrType.registeredClass;\r\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\r\n      return ptr;\r\n    }\r\n  \r\n  \r\n  \r\n  \r\n  var init_RegisteredPointer = () => {\r\n      Object.assign(RegisteredPointer.prototype, {\r\n        getPointee(ptr) {\r\n          if (this.rawGetPointee) {\r\n            ptr = this.rawGetPointee(ptr);\r\n          }\r\n          return ptr;\r\n        },\r\n        destructor(ptr) {\r\n          this.rawDestructor?.(ptr);\r\n        },\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': readPointer,\r\n        'fromWireType': RegisteredPointer_fromWireType,\r\n      });\r\n    };\r\n  /** @constructor\r\n      @param {*=} pointeeType,\r\n      @param {*=} sharingPolicy,\r\n      @param {*=} rawGetPointee,\r\n      @param {*=} rawConstructor,\r\n      @param {*=} rawShare,\r\n      @param {*=} rawDestructor,\r\n       */\r\n  function RegisteredPointer(\r\n      name,\r\n      registeredClass,\r\n      isReference,\r\n      isConst,\r\n  \r\n      // smart pointer properties\r\n      isSmartPointer,\r\n      pointeeType,\r\n      sharingPolicy,\r\n      rawGetPointee,\r\n      rawConstructor,\r\n      rawShare,\r\n      rawDestructor\r\n    ) {\r\n      this.name = name;\r\n      this.registeredClass = registeredClass;\r\n      this.isReference = isReference;\r\n      this.isConst = isConst;\r\n  \r\n      // smart pointer properties\r\n      this.isSmartPointer = isSmartPointer;\r\n      this.pointeeType = pointeeType;\r\n      this.sharingPolicy = sharingPolicy;\r\n      this.rawGetPointee = rawGetPointee;\r\n      this.rawConstructor = rawConstructor;\r\n      this.rawShare = rawShare;\r\n      this.rawDestructor = rawDestructor;\r\n  \r\n      if (!isSmartPointer && registeredClass.baseClass === undefined) {\r\n        if (isConst) {\r\n          this['toWireType'] = constNoSmartPtrRawPointerToWireType;\r\n          this.destructorFunction = null;\r\n        } else {\r\n          this['toWireType'] = nonConstNoSmartPtrRawPointerToWireType;\r\n          this.destructorFunction = null;\r\n        }\r\n      } else {\r\n        this['toWireType'] = genericPointerToWireType;\r\n        // Here we must leave this.destructorFunction undefined, since whether genericPointerToWireType returns\r\n        // a pointer that needs to be freed up is runtime-dependent, and cannot be evaluated at registration time.\r\n        // TODO: Create an alternative mechanism that allows removing the use of var destructors = []; array in\r\n        //       craftInvokerFunction altogether.\r\n      }\r\n    }\r\n  \r\n  /** @param {number=} numArguments */\r\n  var replacePublicSymbol = (name, value, numArguments) => {\r\n      if (!Module.hasOwnProperty(name)) {\r\n        throwInternalError('Replacing nonexistent public symbol');\r\n      }\r\n      // If there's an overload table for this symbol, replace the symbol in the overload table instead.\r\n      if (undefined !== Module[name].overloadTable && undefined !== numArguments) {\r\n        Module[name].overloadTable[numArguments] = value;\r\n      } else {\r\n        Module[name] = value;\r\n        Module[name].argCount = numArguments;\r\n      }\r\n    };\r\n  \r\n  \r\n  \r\n  var wasmTableMirror = [];\r\n  \r\n  /** @type {WebAssembly.Table} */\r\n  var wasmTable;\r\n  var getWasmTableEntry = (funcPtr) => {\r\n      var func = wasmTableMirror[funcPtr];\r\n      if (!func) {\r\n        /** @suppress {checkTypes} */\r\n        wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);\r\n      }\r\n      /** @suppress {checkTypes} */\r\n      assert(wasmTable.get(funcPtr) == func, 'JavaScript-side Wasm function table mirror is out of date!');\r\n      return func;\r\n    };\r\n  var embind__requireFunction = (signature, rawFunction, isAsync = false) => {\r\n      assert(!isAsync, 'Async bindings are only supported with JSPI.');\r\n  \r\n      signature = readLatin1String(signature);\r\n  \r\n      function makeDynCaller() {\r\n        var rtn = getWasmTableEntry(rawFunction);\r\n        return rtn;\r\n      }\r\n  \r\n      var fp = makeDynCaller();\r\n      if (typeof fp != 'function') {\r\n          throwBindingError(`unknown function pointer with signature ${signature}: ${rawFunction}`);\r\n      }\r\n      return fp;\r\n    };\r\n  \r\n  \r\n  \r\n  class UnboundTypeError extends Error {}\r\n  \r\n  \r\n  \r\n  var getTypeName = (type) => {\r\n      var ptr = ___getTypeName(type);\r\n      var rv = readLatin1String(ptr);\r\n      _free(ptr);\r\n      return rv;\r\n    };\r\n  var throwUnboundTypeError = (message, types) => {\r\n      var unboundTypes = [];\r\n      var seen = {};\r\n      function visit(type) {\r\n        if (seen[type]) {\r\n          return;\r\n        }\r\n        if (registeredTypes[type]) {\r\n          return;\r\n        }\r\n        if (typeDependencies[type]) {\r\n          typeDependencies[type].forEach(visit);\r\n          return;\r\n        }\r\n        unboundTypes.push(type);\r\n        seen[type] = true;\r\n      }\r\n      types.forEach(visit);\r\n  \r\n      throw new UnboundTypeError(`${message}: ` + unboundTypes.map(getTypeName).join([', ']));\r\n    };\r\n  \r\n  var __embind_register_class = (rawType,\r\n                             rawPointerType,\r\n                             rawConstPointerType,\r\n                             baseClassRawType,\r\n                             getActualTypeSignature,\r\n                             getActualType,\r\n                             upcastSignature,\r\n                             upcast,\r\n                             downcastSignature,\r\n                             downcast,\r\n                             name,\r\n                             destructorSignature,\r\n                             rawDestructor) => {\r\n      name = readLatin1String(name);\r\n      getActualType = embind__requireFunction(getActualTypeSignature, getActualType);\r\n      upcast &&= embind__requireFunction(upcastSignature, upcast);\r\n      downcast &&= embind__requireFunction(downcastSignature, downcast);\r\n      rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);\r\n      var legalFunctionName = makeLegalFunctionName(name);\r\n  \r\n      exposePublicSymbol(legalFunctionName, function() {\r\n        // this code cannot run if baseClassRawType is zero\r\n        throwUnboundTypeError(`Cannot construct ${name} due to unbound types`, [baseClassRawType]);\r\n      });\r\n  \r\n      whenDependentTypesAreResolved(\r\n        [rawType, rawPointerType, rawConstPointerType],\r\n        baseClassRawType ? [baseClassRawType] : [],\r\n        (base) => {\r\n          base = base[0];\r\n  \r\n          var baseClass;\r\n          var basePrototype;\r\n          if (baseClassRawType) {\r\n            baseClass = base.registeredClass;\r\n            basePrototype = baseClass.instancePrototype;\r\n          } else {\r\n            basePrototype = ClassHandle.prototype;\r\n          }\r\n  \r\n          var constructor = createNamedFunction(name, function(...args) {\r\n            if (Object.getPrototypeOf(this) !== instancePrototype) {\r\n              throw new BindingError(`Use 'new' to construct ${name}`);\r\n            }\r\n            if (undefined === registeredClass.constructor_body) {\r\n              throw new BindingError(`${name} has no accessible constructor`);\r\n            }\r\n            var body = registeredClass.constructor_body[args.length];\r\n            if (undefined === body) {\r\n              throw new BindingError(`Tried to invoke ctor of ${name} with invalid number of parameters (${args.length}) - expected (${Object.keys(registeredClass.constructor_body).toString()}) parameters instead!`);\r\n            }\r\n            return body.apply(this, args);\r\n          });\r\n  \r\n          var instancePrototype = Object.create(basePrototype, {\r\n            constructor: { value: constructor },\r\n          });\r\n  \r\n          constructor.prototype = instancePrototype;\r\n  \r\n          var registeredClass = new RegisteredClass(name,\r\n                                                    constructor,\r\n                                                    instancePrototype,\r\n                                                    rawDestructor,\r\n                                                    baseClass,\r\n                                                    getActualType,\r\n                                                    upcast,\r\n                                                    downcast);\r\n  \r\n          if (registeredClass.baseClass) {\r\n            // Keep track of class hierarchy. Used to allow sub-classes to inherit class functions.\r\n            registeredClass.baseClass.__derivedClasses ??= [];\r\n  \r\n            registeredClass.baseClass.__derivedClasses.push(registeredClass);\r\n          }\r\n  \r\n          var referenceConverter = new RegisteredPointer(name,\r\n                                                         registeredClass,\r\n                                                         true,\r\n                                                         false,\r\n                                                         false);\r\n  \r\n          var pointerConverter = new RegisteredPointer(name + '*',\r\n                                                       registeredClass,\r\n                                                       false,\r\n                                                       false,\r\n                                                       false);\r\n  \r\n          var constPointerConverter = new RegisteredPointer(name + ' const*',\r\n                                                            registeredClass,\r\n                                                            false,\r\n                                                            true,\r\n                                                            false);\r\n  \r\n          registeredPointers[rawType] = {\r\n            pointerType: pointerConverter,\r\n            constPointerType: constPointerConverter\r\n          };\r\n  \r\n          replacePublicSymbol(legalFunctionName, constructor);\r\n  \r\n          return [referenceConverter, pointerConverter, constPointerConverter];\r\n        }\r\n      );\r\n    };\r\n\r\n  var heap32VectorToArray = (count, firstElement) => {\r\n      var array = [];\r\n      for (var i = 0; i < count; i++) {\r\n        // TODO(https://github.com/emscripten-core/emscripten/issues/17310):\r\n        // Find a way to hoist the `>> 2` or `>> 3` out of this loop.\r\n        array.push(HEAPU32[(((firstElement)+(i * 4))>>2)]);\r\n      }\r\n      return array;\r\n    };\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  function usesDestructorStack(argTypes) {\r\n      // Skip return value at index 0 - it's not deleted here.\r\n      for (var i = 1; i < argTypes.length; ++i) {\r\n        // The type does not define a destructor function - must use dynamic stack\r\n        if (argTypes[i] !== null && argTypes[i].destructorFunction === undefined) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  \r\n  \r\n  function checkArgCount(numArgs, minArgs, maxArgs, humanName, throwBindingError) {\r\n      if (numArgs < minArgs || numArgs > maxArgs) {\r\n        var argCountMessage = minArgs == maxArgs ? minArgs : `${minArgs} to ${maxArgs}`;\r\n        throwBindingError(`function ${humanName} called with ${numArgs} arguments, expected ${argCountMessage}`);\r\n      }\r\n    }\r\n  function createJsInvoker(argTypes, isClassMethodFunc, returns, isAsync) {\r\n      var needsDestructorStack = usesDestructorStack(argTypes);\r\n      var argCount = argTypes.length - 2;\r\n      var argsList = [];\r\n      var argsListWired = ['fn'];\r\n      if (isClassMethodFunc) {\r\n        argsListWired.push('thisWired');\r\n      }\r\n      for (var i = 0; i < argCount; ++i) {\r\n        argsList.push(`arg${i}`)\r\n        argsListWired.push(`arg${i}Wired`)\r\n      }\r\n      argsList = argsList.join(',')\r\n      argsListWired = argsListWired.join(',')\r\n  \r\n      var invokerFnBody = `return function (${argsList}) {\\n`;\r\n  \r\n      invokerFnBody += \"checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);\\n\";\r\n  \r\n      if (needsDestructorStack) {\r\n        invokerFnBody += \"var destructors = [];\\n\";\r\n      }\r\n  \r\n      var dtorStack = needsDestructorStack ? \"destructors\" : \"null\";\r\n      var args1 = [\"humanName\", \"throwBindingError\", \"invoker\", \"fn\", \"runDestructors\", \"retType\", \"classParam\"];\r\n  \r\n      if (isClassMethodFunc) {\r\n        invokerFnBody += `var thisWired = classParam['toWireType'](${dtorStack}, this);\\n`;\r\n      }\r\n  \r\n      for (var i = 0; i < argCount; ++i) {\r\n        invokerFnBody += `var arg${i}Wired = argType${i}['toWireType'](${dtorStack}, arg${i});\\n`;\r\n        args1.push(`argType${i}`);\r\n      }\r\n  \r\n      invokerFnBody += (returns || isAsync ? \"var rv = \":\"\") + `invoker(${argsListWired});\\n`;\r\n  \r\n      var returnVal = returns ? \"rv\" : \"\";\r\n  \r\n      if (needsDestructorStack) {\r\n        invokerFnBody += \"runDestructors(destructors);\\n\";\r\n      } else {\r\n        for (var i = isClassMethodFunc?1:2; i < argTypes.length; ++i) { // Skip return value at index 0 - it's not deleted here. Also skip class type if not a method.\r\n          var paramName = (i === 1 ? \"thisWired\" : (\"arg\"+(i - 2)+\"Wired\"));\r\n          if (argTypes[i].destructorFunction !== null) {\r\n            invokerFnBody += `${paramName}_dtor(${paramName});\\n`;\r\n            args1.push(`${paramName}_dtor`);\r\n          }\r\n        }\r\n      }\r\n  \r\n      if (returns) {\r\n        invokerFnBody += \"var ret = retType['fromWireType'](rv);\\n\" +\r\n                         \"return ret;\\n\";\r\n      } else {\r\n      }\r\n  \r\n      invokerFnBody += \"}\\n\";\r\n  \r\n      args1.push('checkArgCount', 'minArgs', 'maxArgs');\r\n      invokerFnBody = `if (arguments.length !== ${args1.length}){ throw new Error(humanName + \"Expected ${args1.length} closure arguments \" + arguments.length + \" given.\"); }\\n${invokerFnBody}`;\r\n      return [args1, invokerFnBody];\r\n    }\r\n  \r\n  function getRequiredArgCount(argTypes) {\r\n      var requiredArgCount = argTypes.length - 2;\r\n      for (var i = argTypes.length - 1; i >= 2; --i) {\r\n        if (!argTypes[i].optional) {\r\n          break;\r\n        }\r\n        requiredArgCount--;\r\n      }\r\n      return requiredArgCount;\r\n    }\r\n  \r\n  function craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc, /** boolean= */ isAsync) {\r\n      // humanName: a human-readable string name for the function to be generated.\r\n      // argTypes: An array that contains the embind type objects for all types in the function signature.\r\n      //    argTypes[0] is the type object for the function return value.\r\n      //    argTypes[1] is the type object for function this object/class type, or null if not crafting an invoker for a class method.\r\n      //    argTypes[2...] are the actual function parameters.\r\n      // classType: The embind type object for the class to be bound, or null if this is not a method of a class.\r\n      // cppInvokerFunc: JS Function object to the C++-side function that interops into C++ code.\r\n      // cppTargetFunc: Function pointer (an integer to FUNCTION_TABLE) to the target C++ function the cppInvokerFunc will end up calling.\r\n      // isAsync: Optional. If true, returns an async function. Async bindings are only supported with JSPI.\r\n      var argCount = argTypes.length;\r\n  \r\n      if (argCount < 2) {\r\n        throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\r\n      }\r\n  \r\n      assert(!isAsync, 'Async bindings are only supported with JSPI.');\r\n      var isClassMethodFunc = (argTypes[1] !== null && classType !== null);\r\n  \r\n      // Free functions with signature \"void function()\" do not need an invoker that marshalls between wire types.\r\n      // TODO: This omits argument count check - enable only at -O3 or similar.\r\n      //    if (ENABLE_UNSAFE_OPTS && argCount == 2 && argTypes[0].name == \"void\" && !isClassMethodFunc) {\r\n      //       return FUNCTION_TABLE[fn];\r\n      //    }\r\n  \r\n      // Determine if we need to use a dynamic stack to store the destructors for the function parameters.\r\n      // TODO: Remove this completely once all function invokers are being dynamically generated.\r\n      var needsDestructorStack = usesDestructorStack(argTypes);\r\n  \r\n      var returns = (argTypes[0].name !== 'void');\r\n  \r\n      var expectedArgCount = argCount - 2;\r\n      var minArgs = getRequiredArgCount(argTypes);\r\n      // Builld the arguments that will be passed into the closure around the invoker\r\n      // function.\r\n      var closureArgs = [humanName, throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];\r\n      for (var i = 0; i < argCount - 2; ++i) {\r\n        closureArgs.push(argTypes[i+2]);\r\n      }\r\n      if (!needsDestructorStack) {\r\n        // Skip return value at index 0 - it's not deleted here. Also skip class type if not a method.\r\n        for (var i = isClassMethodFunc?1:2; i < argTypes.length; ++i) {\r\n          if (argTypes[i].destructorFunction !== null) {\r\n            closureArgs.push(argTypes[i].destructorFunction);\r\n          }\r\n        }\r\n      }\r\n      closureArgs.push(checkArgCount, minArgs, expectedArgCount);\r\n  \r\n      let [args, invokerFnBody] = createJsInvoker(argTypes, isClassMethodFunc, returns, isAsync);\r\n      var invokerFn = new Function(...args, invokerFnBody)(...closureArgs);\r\n      return createNamedFunction(humanName, invokerFn);\r\n    }\r\n  var __embind_register_class_constructor = (\r\n      rawClassType,\r\n      argCount,\r\n      rawArgTypesAddr,\r\n      invokerSignature,\r\n      invoker,\r\n      rawConstructor\r\n    ) => {\r\n      assert(argCount > 0);\r\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n      invoker = embind__requireFunction(invokerSignature, invoker);\r\n      var args = [rawConstructor];\r\n      var destructors = [];\r\n  \r\n      whenDependentTypesAreResolved([], [rawClassType], (classType) => {\r\n        classType = classType[0];\r\n        var humanName = `constructor ${classType.name}`;\r\n  \r\n        if (undefined === classType.registeredClass.constructor_body) {\r\n          classType.registeredClass.constructor_body = [];\r\n        }\r\n        if (undefined !== classType.registeredClass.constructor_body[argCount - 1]) {\r\n          throw new BindingError(`Cannot register multiple constructors with identical number of parameters (${argCount-1}) for class '${classType.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);\r\n        }\r\n        classType.registeredClass.constructor_body[argCount - 1] = () => {\r\n          throwUnboundTypeError(`Cannot construct ${classType.name} due to unbound types`, rawArgTypes);\r\n        };\r\n  \r\n        whenDependentTypesAreResolved([], rawArgTypes, (argTypes) => {\r\n          // Insert empty slot for context type (argTypes[1]).\r\n          argTypes.splice(1, 0, null);\r\n          classType.registeredClass.constructor_body[argCount - 1] = craftInvokerFunction(humanName, argTypes, null, invoker, rawConstructor);\r\n          return [];\r\n        });\r\n        return [];\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  var getFunctionName = (signature) => {\r\n      signature = signature.trim();\r\n      const argsIndex = signature.indexOf(\"(\");\r\n      if (argsIndex === -1) return signature;\r\n      assert(signature.endsWith(\")\"), \"Parentheses for argument names should match.\");\r\n      return signature.slice(0, argsIndex);\r\n    };\r\n  var __embind_register_class_function = (rawClassType,\r\n                                      methodName,\r\n                                      argCount,\r\n                                      rawArgTypesAddr, // [ReturnType, ThisType, Args...]\r\n                                      invokerSignature,\r\n                                      rawInvoker,\r\n                                      context,\r\n                                      isPureVirtual,\r\n                                      isAsync,\r\n                                      isNonnullReturn) => {\r\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n      methodName = readLatin1String(methodName);\r\n      methodName = getFunctionName(methodName);\r\n      rawInvoker = embind__requireFunction(invokerSignature, rawInvoker, isAsync);\r\n  \r\n      whenDependentTypesAreResolved([], [rawClassType], (classType) => {\r\n        classType = classType[0];\r\n        var humanName = `${classType.name}.${methodName}`;\r\n  \r\n        if (methodName.startsWith(\"@@\")) {\r\n          methodName = Symbol[methodName.substring(2)];\r\n        }\r\n  \r\n        if (isPureVirtual) {\r\n          classType.registeredClass.pureVirtualFunctions.push(methodName);\r\n        }\r\n  \r\n        function unboundTypesHandler() {\r\n          throwUnboundTypeError(`Cannot call ${humanName} due to unbound types`, rawArgTypes);\r\n        }\r\n  \r\n        var proto = classType.registeredClass.instancePrototype;\r\n        var method = proto[methodName];\r\n        if (undefined === method || (undefined === method.overloadTable && method.className !== classType.name && method.argCount === argCount - 2)) {\r\n          // This is the first overload to be registered, OR we are replacing a\r\n          // function in the base class with a function in the derived class.\r\n          unboundTypesHandler.argCount = argCount - 2;\r\n          unboundTypesHandler.className = classType.name;\r\n          proto[methodName] = unboundTypesHandler;\r\n        } else {\r\n          // There was an existing function with the same name registered. Set up\r\n          // a function overload routing table.\r\n          ensureOverloadTable(proto, methodName, humanName);\r\n          proto[methodName].overloadTable[argCount - 2] = unboundTypesHandler;\r\n        }\r\n  \r\n        whenDependentTypesAreResolved([], rawArgTypes, (argTypes) => {\r\n          var memberFunction = craftInvokerFunction(humanName, argTypes, classType, rawInvoker, context, isAsync);\r\n  \r\n          // Replace the initial unbound-handler-stub function with the\r\n          // appropriate member function, now that all types are resolved. If\r\n          // multiple overloads are registered for this function, the function\r\n          // goes into an overload table.\r\n          if (undefined === proto[methodName].overloadTable) {\r\n            // Set argCount in case an overload is registered later\r\n            memberFunction.argCount = argCount - 2;\r\n            proto[methodName] = memberFunction;\r\n          } else {\r\n            proto[methodName].overloadTable[argCount - 2] = memberFunction;\r\n          }\r\n  \r\n          return [];\r\n        });\r\n        return [];\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  var validateThis = (this_, classType, humanName) => {\r\n      if (!(this_ instanceof Object)) {\r\n        throwBindingError(`${humanName} with invalid \"this\": ${this_}`);\r\n      }\r\n      if (!(this_ instanceof classType.registeredClass.constructor)) {\r\n        throwBindingError(`${humanName} incompatible with \"this\" of type ${this_.constructor.name}`);\r\n      }\r\n      if (!this_.$$.ptr) {\r\n        throwBindingError(`cannot call emscripten binding method ${humanName} on deleted object`);\r\n      }\r\n  \r\n      // todo: kill this\r\n      return upcastPointer(this_.$$.ptr,\r\n                           this_.$$.ptrType.registeredClass,\r\n                           classType.registeredClass);\r\n    };\r\n  var __embind_register_class_property = (classType,\r\n                                      fieldName,\r\n                                      getterReturnType,\r\n                                      getterSignature,\r\n                                      getter,\r\n                                      getterContext,\r\n                                      setterArgumentType,\r\n                                      setterSignature,\r\n                                      setter,\r\n                                      setterContext) => {\r\n      fieldName = readLatin1String(fieldName);\r\n      getter = embind__requireFunction(getterSignature, getter);\r\n  \r\n      whenDependentTypesAreResolved([], [classType], (classType) => {\r\n        classType = classType[0];\r\n        var humanName = `${classType.name}.${fieldName}`;\r\n        var desc = {\r\n          get() {\r\n            throwUnboundTypeError(`Cannot access ${humanName} due to unbound types`, [getterReturnType, setterArgumentType]);\r\n          },\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n        if (setter) {\r\n          desc.set = () => throwUnboundTypeError(`Cannot access ${humanName} due to unbound types`, [getterReturnType, setterArgumentType]);\r\n        } else {\r\n          desc.set = (v) => throwBindingError(humanName + ' is a read-only property');\r\n        }\r\n  \r\n        Object.defineProperty(classType.registeredClass.instancePrototype, fieldName, desc);\r\n  \r\n        whenDependentTypesAreResolved(\r\n          [],\r\n          (setter ? [getterReturnType, setterArgumentType] : [getterReturnType]),\r\n        (types) => {\r\n          var getterReturnType = types[0];\r\n          var desc = {\r\n            get() {\r\n              var ptr = validateThis(this, classType, humanName + ' getter');\r\n              return getterReturnType['fromWireType'](getter(getterContext, ptr));\r\n            },\r\n            enumerable: true\r\n          };\r\n  \r\n          if (setter) {\r\n            setter = embind__requireFunction(setterSignature, setter);\r\n            var setterArgumentType = types[1];\r\n            desc.set = function(v) {\r\n              var ptr = validateThis(this, classType, humanName + ' setter');\r\n              var destructors = [];\r\n              setter(setterContext, ptr, setterArgumentType['toWireType'](destructors, v));\r\n              runDestructors(destructors);\r\n            };\r\n          }\r\n  \r\n          Object.defineProperty(classType.registeredClass.instancePrototype, fieldName, desc);\r\n          return [];\r\n        });\r\n  \r\n        return [];\r\n      });\r\n    };\r\n\r\n  \r\n  var emval_freelist = [];\r\n  \r\n  var emval_handles = [];\r\n  var __emval_decref = (handle) => {\r\n      if (handle > 9 && 0 === --emval_handles[handle + 1]) {\r\n        assert(emval_handles[handle] !== undefined, `Decref for unallocated handle.`);\r\n        emval_handles[handle] = undefined;\r\n        emval_freelist.push(handle);\r\n      }\r\n    };\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  var count_emval_handles = () => {\r\n      return emval_handles.length / 2 - 5 - emval_freelist.length;\r\n    };\r\n  \r\n  var init_emval = () => {\r\n      // reserve 0 and some special values. These never get de-allocated.\r\n      emval_handles.push(\r\n        0, 1,\r\n        undefined, 1,\r\n        null, 1,\r\n        true, 1,\r\n        false, 1,\r\n      );\r\n      assert(emval_handles.length === 5 * 2);\r\n      Module['count_emval_handles'] = count_emval_handles;\r\n    };\r\n  var Emval = {\r\n  toValue:(handle) => {\r\n        if (!handle) {\r\n            throwBindingError(`Cannot use deleted val. handle = ${handle}`);\r\n        }\r\n        // handle 2 is supposed to be `undefined`.\r\n        assert(handle === 2 || emval_handles[handle] !== undefined && handle % 2 === 0, `invalid handle: ${handle}`);\r\n        return emval_handles[handle];\r\n      },\r\n  toHandle:(value) => {\r\n        switch (value) {\r\n          case undefined: return 2;\r\n          case null: return 4;\r\n          case true: return 6;\r\n          case false: return 8;\r\n          default:{\r\n            const handle = emval_freelist.pop() || emval_handles.length;\r\n            emval_handles[handle] = value;\r\n            emval_handles[handle + 1] = 1;\r\n            return handle;\r\n          }\r\n        }\r\n      },\r\n  };\r\n  \r\n  \r\n  var EmValType = {\r\n      name: 'emscripten::val',\r\n      'fromWireType': (handle) => {\r\n        var rv = Emval.toValue(handle);\r\n        __emval_decref(handle);\r\n        return rv;\r\n      },\r\n      'toWireType': (destructors, value) => Emval.toHandle(value),\r\n      argPackAdvance: GenericWireTypeSize,\r\n      'readValueFromPointer': readPointer,\r\n      destructorFunction: null, // This type does not need a destructor\r\n  \r\n      // TODO: do we need a deleteObject here?  write a test where\r\n      // emval is passed into JS via an interface\r\n    };\r\n  var __embind_register_emval = (rawType) => registerType(rawType, EmValType);\r\n\r\n  var floatReadValueFromPointer = (name, width) => {\r\n      switch (width) {\r\n          case 4: return function(pointer) {\r\n              return this['fromWireType'](HEAPF32[((pointer)>>2)]);\r\n          };\r\n          case 8: return function(pointer) {\r\n              return this['fromWireType'](HEAPF64[((pointer)>>3)]);\r\n          };\r\n          default:\r\n              throw new TypeError(`invalid float width (${width}): ${name}`);\r\n      }\r\n    };\r\n  \r\n  \r\n  \r\n  var __embind_register_float = (rawType, name, size) => {\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n        name,\r\n        'fromWireType': (value) => value,\r\n        'toWireType': (destructors, value) => {\r\n          if (typeof value != \"number\" && typeof value != \"boolean\") {\r\n            throw new TypeError(`Cannot convert ${embindRepr(value)} to ${this.name}`);\r\n          }\r\n          // The VM will perform JS to Wasm value conversion, according to the spec:\r\n          // https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n          return value;\r\n        },\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': floatReadValueFromPointer(name, size),\r\n        destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  var __embind_register_function = (name, argCount, rawArgTypesAddr, signature, rawInvoker, fn, isAsync, isNonnullReturn) => {\r\n      var argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\r\n      name = readLatin1String(name);\r\n      name = getFunctionName(name);\r\n  \r\n      rawInvoker = embind__requireFunction(signature, rawInvoker, isAsync);\r\n  \r\n      exposePublicSymbol(name, function() {\r\n        throwUnboundTypeError(`Cannot call ${name} due to unbound types`, argTypes);\r\n      }, argCount - 1);\r\n  \r\n      whenDependentTypesAreResolved([], argTypes, (argTypes) => {\r\n        var invokerArgsArray = [argTypes[0] /* return value */, null /* no class 'this'*/].concat(argTypes.slice(1) /* actual params */);\r\n        replacePublicSymbol(name, craftInvokerFunction(name, invokerArgsArray, null /* no class 'this'*/, rawInvoker, fn, isAsync), argCount - 1);\r\n        return [];\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  /** @suppress {globalThis} */\r\n  var __embind_register_integer = (primitiveType, name, size, minRange, maxRange) => {\r\n      name = readLatin1String(name);\r\n      // LLVM doesn't have signed and unsigned 32-bit types, so u32 literals come\r\n      // out as 'i32 -1'. Always treat those as max u32.\r\n      if (maxRange === -1) {\r\n        maxRange = 4294967295;\r\n      }\r\n  \r\n      var fromWireType = (value) => value;\r\n  \r\n      if (minRange === 0) {\r\n        var bitshift = 32 - 8*size;\r\n        fromWireType = (value) => (value << bitshift) >>> bitshift;\r\n      }\r\n  \r\n      var isUnsignedType = (name.includes('unsigned'));\r\n      var checkAssertions = (value, toTypeName) => {\r\n        if (typeof value != \"number\" && typeof value != \"boolean\") {\r\n          throw new TypeError(`Cannot convert \"${embindRepr(value)}\" to ${toTypeName}`);\r\n        }\r\n        if (value < minRange || value > maxRange) {\r\n          throw new TypeError(`Passing a number \"${embindRepr(value)}\" from JS side to C/C++ side to an argument of type \"${name}\", which is outside the valid range [${minRange}, ${maxRange}]!`);\r\n        }\r\n      }\r\n      var toWireType;\r\n      if (isUnsignedType) {\r\n        toWireType = function(destructors, value) {\r\n          checkAssertions(value, this.name);\r\n          return value >>> 0;\r\n        }\r\n      } else {\r\n        toWireType = function(destructors, value) {\r\n          checkAssertions(value, this.name);\r\n          // The VM will perform JS to Wasm value conversion, according to the spec:\r\n          // https://www.w3.org/TR/wasm-js-api-1/#towebassemblyvalue\r\n          return value;\r\n        }\r\n      }\r\n      registerType(primitiveType, {\r\n        name,\r\n        'fromWireType': fromWireType,\r\n        'toWireType': toWireType,\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': integerReadValueFromPointer(name, size, minRange !== 0),\r\n        destructorFunction: null, // This type does not need a destructor\r\n      });\r\n    };\r\n\r\n  \r\n  var __embind_register_memory_view = (rawType, dataTypeIndex, name) => {\r\n      var typeMapping = [\r\n        Int8Array,\r\n        Uint8Array,\r\n        Int16Array,\r\n        Uint16Array,\r\n        Int32Array,\r\n        Uint32Array,\r\n        Float32Array,\r\n        Float64Array,\r\n        BigInt64Array,\r\n        BigUint64Array,\r\n      ];\r\n  \r\n      var TA = typeMapping[dataTypeIndex];\r\n  \r\n      function decodeMemoryView(handle) {\r\n        var size = HEAPU32[((handle)>>2)];\r\n        var data = HEAPU32[(((handle)+(4))>>2)];\r\n        return new TA(HEAP8.buffer, data, size);\r\n      }\r\n  \r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n        name,\r\n        'fromWireType': decodeMemoryView,\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': decodeMemoryView,\r\n      }, {\r\n        ignoreDuplicateRegistrations: true,\r\n      });\r\n    };\r\n\r\n  \r\n  var EmValOptionalType = Object.assign({optional: true}, EmValType);;\r\n  var __embind_register_optional = (rawOptionalType, rawType) => {\r\n      registerType(rawOptionalType, EmValOptionalType);\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  \r\n  var stringToUTF8Array = (str, heap, outIdx, maxBytesToWrite) => {\r\n      assert(typeof str === 'string', `stringToUTF8Array expects a string (got ${typeof str})`);\r\n      // Parameter maxBytesToWrite is not optional. Negative values, 0, null,\r\n      // undefined and false each don't write out any bytes.\r\n      if (!(maxBytesToWrite > 0))\r\n        return 0;\r\n  \r\n      var startIdx = outIdx;\r\n      var endIdx = outIdx + maxBytesToWrite - 1; // -1 for string null terminator.\r\n      for (var i = 0; i < str.length; ++i) {\r\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\r\n        // unit, not a Unicode code point of the character! So decode\r\n        // UTF16->UTF32->UTF8.\r\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n        // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description\r\n        // and https://www.ietf.org/rfc/rfc2279.txt\r\n        // and https://tools.ietf.org/html/rfc3629\r\n        var u = str.charCodeAt(i); // possibly a lead surrogate\r\n        if (u >= 0xD800 && u <= 0xDFFF) {\r\n          var u1 = str.charCodeAt(++i);\r\n          u = 0x10000 + ((u & 0x3FF) << 10) | (u1 & 0x3FF);\r\n        }\r\n        if (u <= 0x7F) {\r\n          if (outIdx >= endIdx) break;\r\n          heap[outIdx++] = u;\r\n        } else if (u <= 0x7FF) {\r\n          if (outIdx + 1 >= endIdx) break;\r\n          heap[outIdx++] = 0xC0 | (u >> 6);\r\n          heap[outIdx++] = 0x80 | (u & 63);\r\n        } else if (u <= 0xFFFF) {\r\n          if (outIdx + 2 >= endIdx) break;\r\n          heap[outIdx++] = 0xE0 | (u >> 12);\r\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n          heap[outIdx++] = 0x80 | (u & 63);\r\n        } else {\r\n          if (outIdx + 3 >= endIdx) break;\r\n          if (u > 0x10FFFF) warnOnce('Invalid Unicode code point ' + ptrToString(u) + ' encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).');\r\n          heap[outIdx++] = 0xF0 | (u >> 18);\r\n          heap[outIdx++] = 0x80 | ((u >> 12) & 63);\r\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\r\n          heap[outIdx++] = 0x80 | (u & 63);\r\n        }\r\n      }\r\n      // Null-terminate the pointer to the buffer.\r\n      heap[outIdx] = 0;\r\n      return outIdx - startIdx;\r\n    };\r\n  var stringToUTF8 = (str, outPtr, maxBytesToWrite) => {\r\n      assert(typeof maxBytesToWrite == 'number', 'stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n      return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\r\n    };\r\n  \r\n  var lengthBytesUTF8 = (str) => {\r\n      var len = 0;\r\n      for (var i = 0; i < str.length; ++i) {\r\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\r\n        // unit, not a Unicode code point of the character! So decode\r\n        // UTF16->UTF32->UTF8.\r\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n        var c = str.charCodeAt(i); // possibly a lead surrogate\r\n        if (c <= 0x7F) {\r\n          len++;\r\n        } else if (c <= 0x7FF) {\r\n          len += 2;\r\n        } else if (c >= 0xD800 && c <= 0xDFFF) {\r\n          len += 4; ++i;\r\n        } else {\r\n          len += 3;\r\n        }\r\n      }\r\n      return len;\r\n    };\r\n  \r\n  \r\n  \r\n  var __embind_register_std_string = (rawType, name) => {\r\n      name = readLatin1String(name);\r\n      var stdStringIsUTF8\r\n      = true;\r\n  \r\n      registerType(rawType, {\r\n        name,\r\n        // For some method names we use string keys here since they are part of\r\n        // the public/external API and/or used by the runtime-generated code.\r\n        'fromWireType'(value) {\r\n          var length = HEAPU32[((value)>>2)];\r\n          var payload = value + 4;\r\n  \r\n          var str;\r\n          if (stdStringIsUTF8) {\r\n            var decodeStartPtr = payload;\r\n            // Looping here to support possible embedded '0' bytes\r\n            for (var i = 0; i <= length; ++i) {\r\n              var currentBytePtr = payload + i;\r\n              if (i == length || HEAPU8[currentBytePtr] == 0) {\r\n                var maxRead = currentBytePtr - decodeStartPtr;\r\n                var stringSegment = UTF8ToString(decodeStartPtr, maxRead);\r\n                if (str === undefined) {\r\n                  str = stringSegment;\r\n                } else {\r\n                  str += String.fromCharCode(0);\r\n                  str += stringSegment;\r\n                }\r\n                decodeStartPtr = currentBytePtr + 1;\r\n              }\r\n            }\r\n          } else {\r\n            var a = new Array(length);\r\n            for (var i = 0; i < length; ++i) {\r\n              a[i] = String.fromCharCode(HEAPU8[payload + i]);\r\n            }\r\n            str = a.join('');\r\n          }\r\n  \r\n          _free(value);\r\n  \r\n          return str;\r\n        },\r\n        'toWireType'(destructors, value) {\r\n          if (value instanceof ArrayBuffer) {\r\n            value = new Uint8Array(value);\r\n          }\r\n  \r\n          var length;\r\n          var valueIsOfTypeString = (typeof value == 'string');\r\n  \r\n          // We accept `string` or array views with single byte elements\r\n          if (!(valueIsOfTypeString || (ArrayBuffer.isView(value) && value.BYTES_PER_ELEMENT == 1))) {\r\n            throwBindingError('Cannot pass non-string to std::string');\r\n          }\r\n          if (stdStringIsUTF8 && valueIsOfTypeString) {\r\n            length = lengthBytesUTF8(value);\r\n          } else {\r\n            length = value.length;\r\n          }\r\n  \r\n          // assumes POINTER_SIZE alignment\r\n          var base = _malloc(4 + length + 1);\r\n          var ptr = base + 4;\r\n          HEAPU32[((base)>>2)] = length;\r\n          if (valueIsOfTypeString) {\r\n            if (stdStringIsUTF8) {\r\n              stringToUTF8(value, ptr, length + 1);\r\n            } else {\r\n              for (var i = 0; i < length; ++i) {\r\n                var charCode = value.charCodeAt(i);\r\n                if (charCode > 255) {\r\n                  _free(base);\r\n                  throwBindingError('String has UTF-16 code units that do not fit in 8 bits');\r\n                }\r\n                HEAPU8[ptr + i] = charCode;\r\n              }\r\n            }\r\n          } else {\r\n            HEAPU8.set(value, ptr);\r\n          }\r\n  \r\n          if (destructors !== null) {\r\n            destructors.push(_free, base);\r\n          }\r\n          return base;\r\n        },\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': readPointer,\r\n        destructorFunction(ptr) {\r\n          _free(ptr);\r\n        },\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  var UTF16Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf-16le') : undefined;;\r\n  var UTF16ToString = (ptr, maxBytesToRead) => {\r\n      assert(ptr % 2 == 0, 'Pointer passed to UTF16ToString must be aligned to two bytes!');\r\n      var endPtr = ptr;\r\n      // TextDecoder needs to know the byte length in advance, it doesn't stop on\r\n      // null terminator by itself.\r\n      // Also, use the length info to avoid running tiny strings through\r\n      // TextDecoder, since .subarray() allocates garbage.\r\n      var idx = endPtr >> 1;\r\n      var maxIdx = idx + maxBytesToRead / 2;\r\n      // If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n      // will always evaluate to true. This saves on code size.\r\n      while (!(idx >= maxIdx) && HEAPU16[idx]) ++idx;\r\n      endPtr = idx << 1;\r\n  \r\n      if (endPtr - ptr > 32 && UTF16Decoder)\r\n        return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));\r\n  \r\n      // Fallback: decode without UTF16Decoder\r\n      var str = '';\r\n  \r\n      // If maxBytesToRead is not passed explicitly, it will be undefined, and the\r\n      // for-loop's condition will always evaluate to true. The loop is then\r\n      // terminated on the first null char.\r\n      for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {\r\n        var codeUnit = HEAP16[(((ptr)+(i*2))>>1)];\r\n        if (codeUnit == 0) break;\r\n        // fromCharCode constructs a character from a UTF-16 code unit, so we can\r\n        // pass the UTF16 string right through.\r\n        str += String.fromCharCode(codeUnit);\r\n      }\r\n  \r\n      return str;\r\n    };\r\n  \r\n  var stringToUTF16 = (str, outPtr, maxBytesToWrite) => {\r\n      assert(outPtr % 2 == 0, 'Pointer passed to stringToUTF16 must be aligned to two bytes!');\r\n      assert(typeof maxBytesToWrite == 'number', 'stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n      // Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n      maxBytesToWrite ??= 0x7FFFFFFF;\r\n      if (maxBytesToWrite < 2) return 0;\r\n      maxBytesToWrite -= 2; // Null terminator.\r\n      var startPtr = outPtr;\r\n      var numCharsToWrite = (maxBytesToWrite < str.length*2) ? (maxBytesToWrite / 2) : str.length;\r\n      for (var i = 0; i < numCharsToWrite; ++i) {\r\n        // charCodeAt returns a UTF-16 encoded code unit, so it can be directly written to the HEAP.\r\n        var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n        HEAP16[((outPtr)>>1)] = codeUnit;\r\n        outPtr += 2;\r\n      }\r\n      // Null-terminate the pointer to the HEAP.\r\n      HEAP16[((outPtr)>>1)] = 0;\r\n      return outPtr - startPtr;\r\n    };\r\n  \r\n  var lengthBytesUTF16 = (str) => str.length*2;\r\n  \r\n  var UTF32ToString = (ptr, maxBytesToRead) => {\r\n      assert(ptr % 4 == 0, 'Pointer passed to UTF32ToString must be aligned to four bytes!');\r\n      var i = 0;\r\n  \r\n      var str = '';\r\n      // If maxBytesToRead is not passed explicitly, it will be undefined, and this\r\n      // will always evaluate to true. This saves on code size.\r\n      while (!(i >= maxBytesToRead / 4)) {\r\n        var utf32 = HEAP32[(((ptr)+(i*4))>>2)];\r\n        if (utf32 == 0) break;\r\n        ++i;\r\n        // Gotcha: fromCharCode constructs a character from a UTF-16 encoded code (pair), not from a Unicode code point! So encode the code point to UTF-16 for constructing.\r\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n        if (utf32 >= 0x10000) {\r\n          var ch = utf32 - 0x10000;\r\n          str += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\r\n        } else {\r\n          str += String.fromCharCode(utf32);\r\n        }\r\n      }\r\n      return str;\r\n    };\r\n  \r\n  var stringToUTF32 = (str, outPtr, maxBytesToWrite) => {\r\n      assert(outPtr % 4 == 0, 'Pointer passed to stringToUTF32 must be aligned to four bytes!');\r\n      assert(typeof maxBytesToWrite == 'number', 'stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\r\n      // Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\r\n      maxBytesToWrite ??= 0x7FFFFFFF;\r\n      if (maxBytesToWrite < 4) return 0;\r\n      var startPtr = outPtr;\r\n      var endPtr = startPtr + maxBytesToWrite - 4;\r\n      for (var i = 0; i < str.length; ++i) {\r\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n        var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\r\n        if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) {\r\n          var trailSurrogate = str.charCodeAt(++i);\r\n          codeUnit = 0x10000 + ((codeUnit & 0x3FF) << 10) | (trailSurrogate & 0x3FF);\r\n        }\r\n        HEAP32[((outPtr)>>2)] = codeUnit;\r\n        outPtr += 4;\r\n        if (outPtr + 4 > endPtr) break;\r\n      }\r\n      // Null-terminate the pointer to the HEAP.\r\n      HEAP32[((outPtr)>>2)] = 0;\r\n      return outPtr - startPtr;\r\n    };\r\n  \r\n  var lengthBytesUTF32 = (str) => {\r\n      var len = 0;\r\n      for (var i = 0; i < str.length; ++i) {\r\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code unit, not a Unicode code point of the character! We must decode the string to UTF-32 to the heap.\r\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\r\n        var codeUnit = str.charCodeAt(i);\r\n        if (codeUnit >= 0xD800 && codeUnit <= 0xDFFF) ++i; // possibly a lead surrogate, so skip over the tail surrogate.\r\n        len += 4;\r\n      }\r\n  \r\n      return len;\r\n    };\r\n  var __embind_register_std_wstring = (rawType, charSize, name) => {\r\n      name = readLatin1String(name);\r\n      var decodeString, encodeString, readCharAt, lengthBytesUTF;\r\n      if (charSize === 2) {\r\n        decodeString = UTF16ToString;\r\n        encodeString = stringToUTF16;\r\n        lengthBytesUTF = lengthBytesUTF16;\r\n        readCharAt = (pointer) => HEAPU16[((pointer)>>1)];\r\n      } else if (charSize === 4) {\r\n        decodeString = UTF32ToString;\r\n        encodeString = stringToUTF32;\r\n        lengthBytesUTF = lengthBytesUTF32;\r\n        readCharAt = (pointer) => HEAPU32[((pointer)>>2)];\r\n      }\r\n      registerType(rawType, {\r\n        name,\r\n        'fromWireType': (value) => {\r\n          // Code mostly taken from _embind_register_std_string fromWireType\r\n          var length = HEAPU32[((value)>>2)];\r\n          var str;\r\n  \r\n          var decodeStartPtr = value + 4;\r\n          // Looping here to support possible embedded '0' bytes\r\n          for (var i = 0; i <= length; ++i) {\r\n            var currentBytePtr = value + 4 + i * charSize;\r\n            if (i == length || readCharAt(currentBytePtr) == 0) {\r\n              var maxReadBytes = currentBytePtr - decodeStartPtr;\r\n              var stringSegment = decodeString(decodeStartPtr, maxReadBytes);\r\n              if (str === undefined) {\r\n                str = stringSegment;\r\n              } else {\r\n                str += String.fromCharCode(0);\r\n                str += stringSegment;\r\n              }\r\n              decodeStartPtr = currentBytePtr + charSize;\r\n            }\r\n          }\r\n  \r\n          _free(value);\r\n  \r\n          return str;\r\n        },\r\n        'toWireType': (destructors, value) => {\r\n          if (!(typeof value == 'string')) {\r\n            throwBindingError(`Cannot pass non-string to C++ string type ${name}`);\r\n          }\r\n  \r\n          // assumes POINTER_SIZE alignment\r\n          var length = lengthBytesUTF(value);\r\n          var ptr = _malloc(4 + length + charSize);\r\n          HEAPU32[((ptr)>>2)] = length / charSize;\r\n  \r\n          encodeString(value, ptr + 4, length + charSize);\r\n  \r\n          if (destructors !== null) {\r\n            destructors.push(_free, ptr);\r\n          }\r\n          return ptr;\r\n        },\r\n        argPackAdvance: GenericWireTypeSize,\r\n        'readValueFromPointer': readPointer,\r\n        destructorFunction(ptr) {\r\n          _free(ptr);\r\n        }\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  var __embind_register_value_object = (\r\n      rawType,\r\n      name,\r\n      constructorSignature,\r\n      rawConstructor,\r\n      destructorSignature,\r\n      rawDestructor\r\n    ) => {\r\n      structRegistrations[rawType] = {\r\n        name: readLatin1String(name),\r\n        rawConstructor: embind__requireFunction(constructorSignature, rawConstructor),\r\n        rawDestructor: embind__requireFunction(destructorSignature, rawDestructor),\r\n        fields: [],\r\n      };\r\n    };\r\n\r\n  \r\n  \r\n  var __embind_register_value_object_field = (\r\n      structType,\r\n      fieldName,\r\n      getterReturnType,\r\n      getterSignature,\r\n      getter,\r\n      getterContext,\r\n      setterArgumentType,\r\n      setterSignature,\r\n      setter,\r\n      setterContext\r\n    ) => {\r\n      structRegistrations[structType].fields.push({\r\n        fieldName: readLatin1String(fieldName),\r\n        getterReturnType,\r\n        getter: embind__requireFunction(getterSignature, getter),\r\n        getterContext,\r\n        setterArgumentType,\r\n        setter: embind__requireFunction(setterSignature, setter),\r\n        setterContext,\r\n      });\r\n    };\r\n\r\n  \r\n  var __embind_register_void = (rawType, name) => {\r\n      name = readLatin1String(name);\r\n      registerType(rawType, {\r\n        isVoid: true, // void return values can be optimized out sometimes\r\n        name,\r\n        argPackAdvance: 0,\r\n        'fromWireType': () => undefined,\r\n        // TODO: assert if anything else is given?\r\n        'toWireType': (destructors, o) => undefined,\r\n      });\r\n    };\r\n\r\n  \r\n  \r\n  \r\n  var requireRegisteredType = (rawType, humanName) => {\r\n      var impl = registeredTypes[rawType];\r\n      if (undefined === impl) {\r\n        throwBindingError(`${humanName} has unknown type ${getTypeName(rawType)}`);\r\n      }\r\n      return impl;\r\n    };\r\n  \r\n  var emval_returnValue = (returnType, destructorsRef, handle) => {\r\n      var destructors = [];\r\n      var result = returnType['toWireType'](destructors, handle);\r\n      if (destructors.length) {\r\n        // void, primitives and any other types w/o destructors don't need to allocate a handle\r\n        HEAPU32[((destructorsRef)>>2)] = Emval.toHandle(destructors);\r\n      }\r\n      return result;\r\n    };\r\n  var __emval_as = (handle, returnType, destructorsRef) => {\r\n      handle = Emval.toValue(handle);\r\n      returnType = requireRegisteredType(returnType, 'emval::as');\r\n      return emval_returnValue(returnType, destructorsRef, handle);\r\n    };\r\n\r\n\r\n  var __emval_get_property = (handle, key) => {\r\n      handle = Emval.toValue(handle);\r\n      key = Emval.toValue(key);\r\n      return Emval.toHandle(handle[key]);\r\n    };\r\n\r\n  var emval_symbols = {\r\n  };\r\n  \r\n  var getStringOrSymbol = (address) => {\r\n      var symbol = emval_symbols[address];\r\n      if (symbol === undefined) {\r\n        return readLatin1String(address);\r\n      }\r\n      return symbol;\r\n    };\r\n  \r\n  var __emval_new_cstring = (v) => Emval.toHandle(getStringOrSymbol(v));\r\n\r\n  \r\n  \r\n  var __emval_run_destructors = (handle) => {\r\n      var destructors = Emval.toValue(handle);\r\n      runDestructors(destructors);\r\n      __emval_decref(handle);\r\n    };\r\n\r\n  \r\n  var __emval_take_value = (type, arg) => {\r\n      type = requireRegisteredType(type, '_emval_take_value');\r\n      var v = type['readValueFromPointer'](arg);\r\n      return Emval.toHandle(v);\r\n    };\r\n\r\n  \r\n  var __tzset_js = (timezone, daylight, std_name, dst_name) => {\r\n      // TODO: Use (malleable) environment variables instead of system settings.\r\n      var currentYear = new Date().getFullYear();\r\n      var winter = new Date(currentYear, 0, 1);\r\n      var summer = new Date(currentYear, 6, 1);\r\n      var winterOffset = winter.getTimezoneOffset();\r\n      var summerOffset = summer.getTimezoneOffset();\r\n  \r\n      // Local standard timezone offset. Local standard time is not adjusted for\r\n      // daylight savings.  This code uses the fact that getTimezoneOffset returns\r\n      // a greater value during Standard Time versus Daylight Saving Time (DST).\r\n      // Thus it determines the expected output during Standard Time, and it\r\n      // compares whether the output of the given date the same (Standard) or less\r\n      // (DST).\r\n      var stdTimezoneOffset = Math.max(winterOffset, summerOffset);\r\n  \r\n      // timezone is specified as seconds west of UTC (\"The external variable\r\n      // `timezone` shall be set to the difference, in seconds, between\r\n      // Coordinated Universal Time (UTC) and local standard time.\"), the same\r\n      // as returned by stdTimezoneOffset.\r\n      // See http://pubs.opengroup.org/onlinepubs/009695399/functions/tzset.html\r\n      HEAPU32[((timezone)>>2)] = stdTimezoneOffset * 60;\r\n  \r\n      HEAP32[((daylight)>>2)] = Number(winterOffset != summerOffset);\r\n  \r\n      var extractZone = (timezoneOffset) => {\r\n        // Why inverse sign?\r\n        // Read here https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\r\n        var sign = timezoneOffset >= 0 ? \"-\" : \"+\";\r\n  \r\n        var absOffset = Math.abs(timezoneOffset)\r\n        var hours = String(Math.floor(absOffset / 60)).padStart(2, \"0\");\r\n        var minutes = String(absOffset % 60).padStart(2, \"0\");\r\n  \r\n        return `UTC${sign}${hours}${minutes}`;\r\n      }\r\n  \r\n      var winterName = extractZone(winterOffset);\r\n      var summerName = extractZone(summerOffset);\r\n      assert(winterName);\r\n      assert(summerName);\r\n      assert(lengthBytesUTF8(winterName) <= 16, `timezone name truncated to fit in TZNAME_MAX (${winterName})`);\r\n      assert(lengthBytesUTF8(summerName) <= 16, `timezone name truncated to fit in TZNAME_MAX (${summerName})`);\r\n      if (summerOffset < winterOffset) {\r\n        // Northern hemisphere\r\n        stringToUTF8(winterName, std_name, 17);\r\n        stringToUTF8(summerName, dst_name, 17);\r\n      } else {\r\n        stringToUTF8(winterName, dst_name, 17);\r\n        stringToUTF8(summerName, std_name, 17);\r\n      }\r\n    };\r\n\r\n  var abortOnCannotGrowMemory = (requestedSize) => {\r\n      abort(`Cannot enlarge memory arrays to size ${requestedSize} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${HEAP8.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`);\r\n    };\r\n  var _emscripten_resize_heap = (requestedSize) => {\r\n      var oldSize = HEAPU8.length;\r\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\r\n      requestedSize >>>= 0;\r\n      abortOnCannotGrowMemory(requestedSize);\r\n    };\r\n\r\n  var ENV = {\r\n  };\r\n  \r\n  var getExecutableName = () => thisProgram || './this.program';\r\n  var getEnvStrings = () => {\r\n      if (!getEnvStrings.strings) {\r\n        // Default values.\r\n        // Browser language detection #8751\r\n        var lang = ((typeof navigator == 'object' && navigator.languages && navigator.languages[0]) || 'C').replace('-', '_') + '.UTF-8';\r\n        var env = {\r\n          'USER': 'web_user',\r\n          'LOGNAME': 'web_user',\r\n          'PATH': '/',\r\n          'PWD': '/',\r\n          'HOME': '/home/web_user',\r\n          'LANG': lang,\r\n          '_': getExecutableName()\r\n        };\r\n        // Apply the user-provided values, if any.\r\n        for (var x in ENV) {\r\n          // x is a key in ENV; if ENV[x] is undefined, that means it was\r\n          // explicitly set to be so. We allow user code to do that to\r\n          // force variables with default values to remain unset.\r\n          if (ENV[x] === undefined) delete env[x];\r\n          else env[x] = ENV[x];\r\n        }\r\n        var strings = [];\r\n        for (var x in env) {\r\n          strings.push(`${x}=${env[x]}`);\r\n        }\r\n        getEnvStrings.strings = strings;\r\n      }\r\n      return getEnvStrings.strings;\r\n    };\r\n  \r\n  var _environ_get = (__environ, environ_buf) => {\r\n      var bufSize = 0;\r\n      var envp = 0;\r\n      for (var string of getEnvStrings()) {\r\n        var ptr = environ_buf + bufSize;\r\n        HEAPU32[(((__environ)+(envp))>>2)] = ptr;\r\n        bufSize += stringToUTF8(string, ptr, Infinity) + 1;\r\n        envp += 4;\r\n      }\r\n      return 0;\r\n    };\r\n\r\n  \r\n  var _environ_sizes_get = (penviron_count, penviron_buf_size) => {\r\n      var strings = getEnvStrings();\r\n      HEAPU32[((penviron_count)>>2)] = strings.length;\r\n      var bufSize = 0;\r\n      for (var string of strings) {\r\n        bufSize += lengthBytesUTF8(string) + 1;\r\n      }\r\n      HEAPU32[((penviron_buf_size)>>2)] = bufSize;\r\n      return 0;\r\n    };\r\n\r\n  var PATH = {\r\n  isAbs:(path) => path.charAt(0) === '/',\r\n  splitPath:(filename) => {\r\n        var splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\r\n        return splitPathRe.exec(filename).slice(1);\r\n      },\r\n  normalizeArray:(parts, allowAboveRoot) => {\r\n        // if the path tries to go above the root, `up` ends up > 0\r\n        var up = 0;\r\n        for (var i = parts.length - 1; i >= 0; i--) {\r\n          var last = parts[i];\r\n          if (last === '.') {\r\n            parts.splice(i, 1);\r\n          } else if (last === '..') {\r\n            parts.splice(i, 1);\r\n            up++;\r\n          } else if (up) {\r\n            parts.splice(i, 1);\r\n            up--;\r\n          }\r\n        }\r\n        // if the path is allowed to go above the root, restore leading ..s\r\n        if (allowAboveRoot) {\r\n          for (; up; up--) {\r\n            parts.unshift('..');\r\n          }\r\n        }\r\n        return parts;\r\n      },\r\n  normalize:(path) => {\r\n        var isAbsolute = PATH.isAbs(path),\r\n            trailingSlash = path.slice(-1) === '/';\r\n        // Normalize the path\r\n        path = PATH.normalizeArray(path.split('/').filter((p) => !!p), !isAbsolute).join('/');\r\n        if (!path && !isAbsolute) {\r\n          path = '.';\r\n        }\r\n        if (path && trailingSlash) {\r\n          path += '/';\r\n        }\r\n        return (isAbsolute ? '/' : '') + path;\r\n      },\r\n  dirname:(path) => {\r\n        var result = PATH.splitPath(path),\r\n            root = result[0],\r\n            dir = result[1];\r\n        if (!root && !dir) {\r\n          // No dirname whatsoever\r\n          return '.';\r\n        }\r\n        if (dir) {\r\n          // It has a dirname, strip trailing slash\r\n          dir = dir.slice(0, -1);\r\n        }\r\n        return root + dir;\r\n      },\r\n  basename:(path) => path && path.match(/([^\\/]+|\\/)\\/*$/)[1],\r\n  join:(...paths) => PATH.normalize(paths.join('/')),\r\n  join2:(l, r) => PATH.normalize(l + '/' + r),\r\n  };\r\n  \r\n  var initRandomFill = () => {\r\n      // This block is not needed on v19+ since crypto.getRandomValues is builtin\r\n      if (ENVIRONMENT_IS_NODE) {\r\n        var nodeCrypto = require('crypto');\r\n        return (view) => nodeCrypto.randomFillSync(view);\r\n      }\r\n  \r\n      return (view) => crypto.getRandomValues(view);\r\n    };\r\n  var randomFill = (view) => {\r\n      // Lazily init on the first invocation.\r\n      (randomFill = initRandomFill())(view);\r\n    };\r\n  \r\n  \r\n  \r\n  var PATH_FS = {\r\n  resolve:(...args) => {\r\n        var resolvedPath = '',\r\n          resolvedAbsolute = false;\r\n        for (var i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {\r\n          var path = (i >= 0) ? args[i] : FS.cwd();\r\n          // Skip empty and invalid entries\r\n          if (typeof path != 'string') {\r\n            throw new TypeError('Arguments to path.resolve must be strings');\r\n          } else if (!path) {\r\n            return ''; // an invalid portion invalidates the whole thing\r\n          }\r\n          resolvedPath = path + '/' + resolvedPath;\r\n          resolvedAbsolute = PATH.isAbs(path);\r\n        }\r\n        // At this point the path should be resolved to a full absolute path, but\r\n        // handle relative paths to be safe (might happen when process.cwd() fails)\r\n        resolvedPath = PATH.normalizeArray(resolvedPath.split('/').filter((p) => !!p), !resolvedAbsolute).join('/');\r\n        return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\r\n      },\r\n  relative:(from, to) => {\r\n        from = PATH_FS.resolve(from).slice(1);\r\n        to = PATH_FS.resolve(to).slice(1);\r\n        function trim(arr) {\r\n          var start = 0;\r\n          for (; start < arr.length; start++) {\r\n            if (arr[start] !== '') break;\r\n          }\r\n          var end = arr.length - 1;\r\n          for (; end >= 0; end--) {\r\n            if (arr[end] !== '') break;\r\n          }\r\n          if (start > end) return [];\r\n          return arr.slice(start, end - start + 1);\r\n        }\r\n        var fromParts = trim(from.split('/'));\r\n        var toParts = trim(to.split('/'));\r\n        var length = Math.min(fromParts.length, toParts.length);\r\n        var samePartsLength = length;\r\n        for (var i = 0; i < length; i++) {\r\n          if (fromParts[i] !== toParts[i]) {\r\n            samePartsLength = i;\r\n            break;\r\n          }\r\n        }\r\n        var outputParts = [];\r\n        for (var i = samePartsLength; i < fromParts.length; i++) {\r\n          outputParts.push('..');\r\n        }\r\n        outputParts = outputParts.concat(toParts.slice(samePartsLength));\r\n        return outputParts.join('/');\r\n      },\r\n  };\r\n  \r\n  \r\n  \r\n  var FS_stdin_getChar_buffer = [];\r\n  \r\n  \r\n  /** @type {function(string, boolean=, number=)} */\r\n  var intArrayFromString = (stringy, dontAddNull, length) => {\r\n      var len = length > 0 ? length : lengthBytesUTF8(stringy)+1;\r\n      var u8array = new Array(len);\r\n      var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\r\n      if (dontAddNull) u8array.length = numBytesWritten;\r\n      return u8array;\r\n    };\r\n  var FS_stdin_getChar = () => {\r\n      if (!FS_stdin_getChar_buffer.length) {\r\n        var result = null;\r\n        if (ENVIRONMENT_IS_NODE) {\r\n          // we will read data by chunks of BUFSIZE\r\n          var BUFSIZE = 256;\r\n          var buf = Buffer.alloc(BUFSIZE);\r\n          var bytesRead = 0;\r\n  \r\n          // For some reason we must suppress a closure warning here, even though\r\n          // fd definitely exists on process.stdin, and is even the proper way to\r\n          // get the fd of stdin,\r\n          // https://github.com/nodejs/help/issues/2136#issuecomment-523649904\r\n          // This started to happen after moving this logic out of library_tty.js,\r\n          // so it is related to the surrounding code in some unclear manner.\r\n          /** @suppress {missingProperties} */\r\n          var fd = process.stdin.fd;\r\n  \r\n          try {\r\n            bytesRead = fs.readSync(fd, buf, 0, BUFSIZE);\r\n          } catch(e) {\r\n            // Cross-platform differences: on Windows, reading EOF throws an\r\n            // exception, but on other OSes, reading EOF returns 0. Uniformize\r\n            // behavior by treating the EOF exception to return 0.\r\n            if (e.toString().includes('EOF')) bytesRead = 0;\r\n            else throw e;\r\n          }\r\n  \r\n          if (bytesRead > 0) {\r\n            result = buf.slice(0, bytesRead).toString('utf-8');\r\n          }\r\n        } else\r\n        if (typeof window != 'undefined' &&\r\n          typeof window.prompt == 'function') {\r\n          // Browser.\r\n          result = window.prompt('Input: ');  // returns null on cancel\r\n          if (result !== null) {\r\n            result += '\\n';\r\n          }\r\n        } else\r\n        {}\r\n        if (!result) {\r\n          return null;\r\n        }\r\n        FS_stdin_getChar_buffer = intArrayFromString(result, true);\r\n      }\r\n      return FS_stdin_getChar_buffer.shift();\r\n    };\r\n  var TTY = {\r\n  ttys:[],\r\n  init() {\r\n        // https://github.com/emscripten-core/emscripten/pull/1555\r\n        // if (ENVIRONMENT_IS_NODE) {\r\n        //   // currently, FS.init does not distinguish if process.stdin is a file or TTY\r\n        //   // device, it always assumes it's a TTY device. because of this, we're forcing\r\n        //   // process.stdin to UTF8 encoding to at least make stdin reading compatible\r\n        //   // with text files until FS.init can be refactored.\r\n        //   process.stdin.setEncoding('utf8');\r\n        // }\r\n      },\r\n  shutdown() {\r\n        // https://github.com/emscripten-core/emscripten/pull/1555\r\n        // if (ENVIRONMENT_IS_NODE) {\r\n        //   // inolen: any idea as to why node -e 'process.stdin.read()' wouldn't exit immediately (with process.stdin being a tty)?\r\n        //   // isaacs: because now it's reading from the stream, you've expressed interest in it, so that read() kicks off a _read() which creates a ReadReq operation\r\n        //   // inolen: I thought read() in that case was a synchronous operation that just grabbed some amount of buffered data if it exists?\r\n        //   // isaacs: it is. but it also triggers a _read() call, which calls readStart() on the handle\r\n        //   // isaacs: do process.stdin.pause() and i'd think it'd probably close the pending call\r\n        //   process.stdin.pause();\r\n        // }\r\n      },\r\n  register(dev, ops) {\r\n        TTY.ttys[dev] = { input: [], output: [], ops: ops };\r\n        FS.registerDevice(dev, TTY.stream_ops);\r\n      },\r\n  stream_ops:{\r\n  open(stream) {\r\n          var tty = TTY.ttys[stream.node.rdev];\r\n          if (!tty) {\r\n            throw new FS.ErrnoError(43);\r\n          }\r\n          stream.tty = tty;\r\n          stream.seekable = false;\r\n        },\r\n  close(stream) {\r\n          // flush any pending line data\r\n          stream.tty.ops.fsync(stream.tty);\r\n        },\r\n  fsync(stream) {\r\n          stream.tty.ops.fsync(stream.tty);\r\n        },\r\n  read(stream, buffer, offset, length, pos /* ignored */) {\r\n          if (!stream.tty || !stream.tty.ops.get_char) {\r\n            throw new FS.ErrnoError(60);\r\n          }\r\n          var bytesRead = 0;\r\n          for (var i = 0; i < length; i++) {\r\n            var result;\r\n            try {\r\n              result = stream.tty.ops.get_char(stream.tty);\r\n            } catch (e) {\r\n              throw new FS.ErrnoError(29);\r\n            }\r\n            if (result === undefined && bytesRead === 0) {\r\n              throw new FS.ErrnoError(6);\r\n            }\r\n            if (result === null || result === undefined) break;\r\n            bytesRead++;\r\n            buffer[offset+i] = result;\r\n          }\r\n          if (bytesRead) {\r\n            stream.node.atime = Date.now();\r\n          }\r\n          return bytesRead;\r\n        },\r\n  write(stream, buffer, offset, length, pos) {\r\n          if (!stream.tty || !stream.tty.ops.put_char) {\r\n            throw new FS.ErrnoError(60);\r\n          }\r\n          try {\r\n            for (var i = 0; i < length; i++) {\r\n              stream.tty.ops.put_char(stream.tty, buffer[offset+i]);\r\n            }\r\n          } catch (e) {\r\n            throw new FS.ErrnoError(29);\r\n          }\r\n          if (length) {\r\n            stream.node.mtime = stream.node.ctime = Date.now();\r\n          }\r\n          return i;\r\n        },\r\n  },\r\n  default_tty_ops:{\r\n  get_char(tty) {\r\n          return FS_stdin_getChar();\r\n        },\r\n  put_char(tty, val) {\r\n          if (val === null || val === 10) {\r\n            out(UTF8ArrayToString(tty.output));\r\n            tty.output = [];\r\n          } else {\r\n            if (val != 0) tty.output.push(val); // val == 0 would cut text output off in the middle.\r\n          }\r\n        },\r\n  fsync(tty) {\r\n          if (tty.output?.length > 0) {\r\n            out(UTF8ArrayToString(tty.output));\r\n            tty.output = [];\r\n          }\r\n        },\r\n  ioctl_tcgets(tty) {\r\n          // typical setting\r\n          return {\r\n            c_iflag: 25856,\r\n            c_oflag: 5,\r\n            c_cflag: 191,\r\n            c_lflag: 35387,\r\n            c_cc: [\r\n              0x03, 0x1c, 0x7f, 0x15, 0x04, 0x00, 0x01, 0x00, 0x11, 0x13, 0x1a, 0x00,\r\n              0x12, 0x0f, 0x17, 0x16, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n              0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n            ]\r\n          };\r\n        },\r\n  ioctl_tcsets(tty, optional_actions, data) {\r\n          // currently just ignore\r\n          return 0;\r\n        },\r\n  ioctl_tiocgwinsz(tty) {\r\n          return [24, 80];\r\n        },\r\n  },\r\n  default_tty1_ops:{\r\n  put_char(tty, val) {\r\n          if (val === null || val === 10) {\r\n            err(UTF8ArrayToString(tty.output));\r\n            tty.output = [];\r\n          } else {\r\n            if (val != 0) tty.output.push(val);\r\n          }\r\n        },\r\n  fsync(tty) {\r\n          if (tty.output?.length > 0) {\r\n            err(UTF8ArrayToString(tty.output));\r\n            tty.output = [];\r\n          }\r\n        },\r\n  },\r\n  };\r\n  \r\n  \r\n  var mmapAlloc = (size) => {\r\n      abort('internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported');\r\n    };\r\n  var MEMFS = {\r\n  ops_table:null,\r\n  mount(mount) {\r\n        return MEMFS.createNode(null, '/', 16895, 0);\r\n      },\r\n  createNode(parent, name, mode, dev) {\r\n        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\r\n          // no supported\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        MEMFS.ops_table ||= {\r\n          dir: {\r\n            node: {\r\n              getattr: MEMFS.node_ops.getattr,\r\n              setattr: MEMFS.node_ops.setattr,\r\n              lookup: MEMFS.node_ops.lookup,\r\n              mknod: MEMFS.node_ops.mknod,\r\n              rename: MEMFS.node_ops.rename,\r\n              unlink: MEMFS.node_ops.unlink,\r\n              rmdir: MEMFS.node_ops.rmdir,\r\n              readdir: MEMFS.node_ops.readdir,\r\n              symlink: MEMFS.node_ops.symlink\r\n            },\r\n            stream: {\r\n              llseek: MEMFS.stream_ops.llseek\r\n            }\r\n          },\r\n          file: {\r\n            node: {\r\n              getattr: MEMFS.node_ops.getattr,\r\n              setattr: MEMFS.node_ops.setattr\r\n            },\r\n            stream: {\r\n              llseek: MEMFS.stream_ops.llseek,\r\n              read: MEMFS.stream_ops.read,\r\n              write: MEMFS.stream_ops.write,\r\n              mmap: MEMFS.stream_ops.mmap,\r\n              msync: MEMFS.stream_ops.msync\r\n            }\r\n          },\r\n          link: {\r\n            node: {\r\n              getattr: MEMFS.node_ops.getattr,\r\n              setattr: MEMFS.node_ops.setattr,\r\n              readlink: MEMFS.node_ops.readlink\r\n            },\r\n            stream: {}\r\n          },\r\n          chrdev: {\r\n            node: {\r\n              getattr: MEMFS.node_ops.getattr,\r\n              setattr: MEMFS.node_ops.setattr\r\n            },\r\n            stream: FS.chrdev_stream_ops\r\n          }\r\n        };\r\n        var node = FS.createNode(parent, name, mode, dev);\r\n        if (FS.isDir(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.dir.node;\r\n          node.stream_ops = MEMFS.ops_table.dir.stream;\r\n          node.contents = {};\r\n        } else if (FS.isFile(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.file.node;\r\n          node.stream_ops = MEMFS.ops_table.file.stream;\r\n          node.usedBytes = 0; // The actual number of bytes used in the typed array, as opposed to contents.length which gives the whole capacity.\r\n          // When the byte data of the file is populated, this will point to either a typed array, or a normal JS array. Typed arrays are preferred\r\n          // for performance, and used by default. However, typed arrays are not resizable like normal JS arrays are, so there is a small disk size\r\n          // penalty involved for appending file writes that continuously grow a file similar to std::vector capacity vs used -scheme.\r\n          node.contents = null; \r\n        } else if (FS.isLink(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.link.node;\r\n          node.stream_ops = MEMFS.ops_table.link.stream;\r\n        } else if (FS.isChrdev(node.mode)) {\r\n          node.node_ops = MEMFS.ops_table.chrdev.node;\r\n          node.stream_ops = MEMFS.ops_table.chrdev.stream;\r\n        }\r\n        node.atime = node.mtime = node.ctime = Date.now();\r\n        // add the new node to the parent\r\n        if (parent) {\r\n          parent.contents[name] = node;\r\n          parent.atime = parent.mtime = parent.ctime = node.atime;\r\n        }\r\n        return node;\r\n      },\r\n  getFileDataAsTypedArray(node) {\r\n        if (!node.contents) return new Uint8Array(0);\r\n        if (node.contents.subarray) return node.contents.subarray(0, node.usedBytes); // Make sure to not return excess unused bytes.\r\n        return new Uint8Array(node.contents);\r\n      },\r\n  expandFileStorage(node, newCapacity) {\r\n        var prevCapacity = node.contents ? node.contents.length : 0;\r\n        if (prevCapacity >= newCapacity) return; // No need to expand, the storage was already large enough.\r\n        // Don't expand strictly to the given requested limit if it's only a very small increase, but instead geometrically grow capacity.\r\n        // For small filesizes (<1MB), perform size*2 geometric increase, but for large sizes, do a much more conservative size*1.125 increase to\r\n        // avoid overshooting the allocation cap by a very large margin.\r\n        var CAPACITY_DOUBLING_MAX = 1024 * 1024;\r\n        newCapacity = Math.max(newCapacity, (prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>> 0);\r\n        if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256); // At minimum allocate 256b for each file when expanding.\r\n        var oldContents = node.contents;\r\n        node.contents = new Uint8Array(newCapacity); // Allocate new storage.\r\n        if (node.usedBytes > 0) node.contents.set(oldContents.subarray(0, node.usedBytes), 0); // Copy old data over to the new storage.\r\n      },\r\n  resizeFileStorage(node, newSize) {\r\n        if (node.usedBytes == newSize) return;\r\n        if (newSize == 0) {\r\n          node.contents = null; // Fully decommit when requesting a resize to zero.\r\n          node.usedBytes = 0;\r\n        } else {\r\n          var oldContents = node.contents;\r\n          node.contents = new Uint8Array(newSize); // Allocate new storage.\r\n          if (oldContents) {\r\n            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes))); // Copy old data over to the new storage.\r\n          }\r\n          node.usedBytes = newSize;\r\n        }\r\n      },\r\n  node_ops:{\r\n  getattr(node) {\r\n          var attr = {};\r\n          // device numbers reuse inode numbers.\r\n          attr.dev = FS.isChrdev(node.mode) ? node.id : 1;\r\n          attr.ino = node.id;\r\n          attr.mode = node.mode;\r\n          attr.nlink = 1;\r\n          attr.uid = 0;\r\n          attr.gid = 0;\r\n          attr.rdev = node.rdev;\r\n          if (FS.isDir(node.mode)) {\r\n            attr.size = 4096;\r\n          } else if (FS.isFile(node.mode)) {\r\n            attr.size = node.usedBytes;\r\n          } else if (FS.isLink(node.mode)) {\r\n            attr.size = node.link.length;\r\n          } else {\r\n            attr.size = 0;\r\n          }\r\n          attr.atime = new Date(node.atime);\r\n          attr.mtime = new Date(node.mtime);\r\n          attr.ctime = new Date(node.ctime);\r\n          // NOTE: In our implementation, st_blocks = Math.ceil(st_size/st_blksize),\r\n          //       but this is not required by the standard.\r\n          attr.blksize = 4096;\r\n          attr.blocks = Math.ceil(attr.size / attr.blksize);\r\n          return attr;\r\n        },\r\n  setattr(node, attr) {\r\n          for (const key of [\"mode\", \"atime\", \"mtime\", \"ctime\"]) {\r\n            if (attr[key] != null) {\r\n              node[key] = attr[key];\r\n            }\r\n          }\r\n          if (attr.size !== undefined) {\r\n            MEMFS.resizeFileStorage(node, attr.size);\r\n          }\r\n        },\r\n  lookup(parent, name) {\r\n          throw new FS.ErrnoError(44);\r\n        },\r\n  mknod(parent, name, mode, dev) {\r\n          return MEMFS.createNode(parent, name, mode, dev);\r\n        },\r\n  rename(old_node, new_dir, new_name) {\r\n          var new_node;\r\n          try {\r\n            new_node = FS.lookupNode(new_dir, new_name);\r\n          } catch (e) {}\r\n          if (new_node) {\r\n            if (FS.isDir(old_node.mode)) {\r\n              // if we're overwriting a directory at new_name, make sure it's empty.\r\n              for (var i in new_node.contents) {\r\n                throw new FS.ErrnoError(55);\r\n              }\r\n            }\r\n            FS.hashRemoveNode(new_node);\r\n          }\r\n          // do the internal rewiring\r\n          delete old_node.parent.contents[old_node.name];\r\n          new_dir.contents[new_name] = old_node;\r\n          old_node.name = new_name;\r\n          new_dir.ctime = new_dir.mtime = old_node.parent.ctime = old_node.parent.mtime = Date.now();\r\n        },\r\n  unlink(parent, name) {\r\n          delete parent.contents[name];\r\n          parent.ctime = parent.mtime = Date.now();\r\n        },\r\n  rmdir(parent, name) {\r\n          var node = FS.lookupNode(parent, name);\r\n          for (var i in node.contents) {\r\n            throw new FS.ErrnoError(55);\r\n          }\r\n          delete parent.contents[name];\r\n          parent.ctime = parent.mtime = Date.now();\r\n        },\r\n  readdir(node) {\r\n          return ['.', '..', ...Object.keys(node.contents)];\r\n        },\r\n  symlink(parent, newname, oldpath) {\r\n          var node = MEMFS.createNode(parent, newname, 0o777 | 40960, 0);\r\n          node.link = oldpath;\r\n          return node;\r\n        },\r\n  readlink(node) {\r\n          if (!FS.isLink(node.mode)) {\r\n            throw new FS.ErrnoError(28);\r\n          }\r\n          return node.link;\r\n        },\r\n  },\r\n  stream_ops:{\r\n  read(stream, buffer, offset, length, position) {\r\n          var contents = stream.node.contents;\r\n          if (position >= stream.node.usedBytes) return 0;\r\n          var size = Math.min(stream.node.usedBytes - position, length);\r\n          assert(size >= 0);\r\n          if (size > 8 && contents.subarray) { // non-trivial, and typed array\r\n            buffer.set(contents.subarray(position, position + size), offset);\r\n          } else {\r\n            for (var i = 0; i < size; i++) buffer[offset + i] = contents[position + i];\r\n          }\r\n          return size;\r\n        },\r\n  write(stream, buffer, offset, length, position, canOwn) {\r\n          // The data buffer should be a typed array view\r\n          assert(!(buffer instanceof ArrayBuffer));\r\n  \r\n          if (!length) return 0;\r\n          var node = stream.node;\r\n          node.mtime = node.ctime = Date.now();\r\n  \r\n          if (buffer.subarray && (!node.contents || node.contents.subarray)) { // This write is from a typed array to a typed array?\r\n            if (canOwn) {\r\n              assert(position === 0, 'canOwn must imply no weird position inside the file');\r\n              node.contents = buffer.subarray(offset, offset + length);\r\n              node.usedBytes = length;\r\n              return length;\r\n            } else if (node.usedBytes === 0 && position === 0) { // If this is a simple first write to an empty file, do a fast set since we don't need to care about old data.\r\n              node.contents = buffer.slice(offset, offset + length);\r\n              node.usedBytes = length;\r\n              return length;\r\n            } else if (position + length <= node.usedBytes) { // Writing to an already allocated and used subrange of the file?\r\n              node.contents.set(buffer.subarray(offset, offset + length), position);\r\n              return length;\r\n            }\r\n          }\r\n  \r\n          // Appending to an existing file and we need to reallocate, or source data did not come as a typed array.\r\n          MEMFS.expandFileStorage(node, position+length);\r\n          if (node.contents.subarray && buffer.subarray) {\r\n            // Use typed array write which is available.\r\n            node.contents.set(buffer.subarray(offset, offset + length), position);\r\n          } else {\r\n            for (var i = 0; i < length; i++) {\r\n             node.contents[position + i] = buffer[offset + i]; // Or fall back to manual write if not.\r\n            }\r\n          }\r\n          node.usedBytes = Math.max(node.usedBytes, position + length);\r\n          return length;\r\n        },\r\n  llseek(stream, offset, whence) {\r\n          var position = offset;\r\n          if (whence === 1) {\r\n            position += stream.position;\r\n          } else if (whence === 2) {\r\n            if (FS.isFile(stream.node.mode)) {\r\n              position += stream.node.usedBytes;\r\n            }\r\n          }\r\n          if (position < 0) {\r\n            throw new FS.ErrnoError(28);\r\n          }\r\n          return position;\r\n        },\r\n  mmap(stream, length, position, prot, flags) {\r\n          if (!FS.isFile(stream.node.mode)) {\r\n            throw new FS.ErrnoError(43);\r\n          }\r\n          var ptr;\r\n          var allocated;\r\n          var contents = stream.node.contents;\r\n          // Only make a new copy when MAP_PRIVATE is specified.\r\n          if (!(flags & 2) && contents && contents.buffer === HEAP8.buffer) {\r\n            // We can't emulate MAP_SHARED when the file is not backed by the\r\n            // buffer we're mapping to (e.g. the HEAP buffer).\r\n            allocated = false;\r\n            ptr = contents.byteOffset;\r\n          } else {\r\n            allocated = true;\r\n            ptr = mmapAlloc(length);\r\n            if (!ptr) {\r\n              throw new FS.ErrnoError(48);\r\n            }\r\n            if (contents) {\r\n              // Try to avoid unnecessary slices.\r\n              if (position > 0 || position + length < contents.length) {\r\n                if (contents.subarray) {\r\n                  contents = contents.subarray(position, position + length);\r\n                } else {\r\n                  contents = Array.prototype.slice.call(contents, position, position + length);\r\n                }\r\n              }\r\n              HEAP8.set(contents, ptr);\r\n            }\r\n          }\r\n          return { ptr, allocated };\r\n        },\r\n  msync(stream, buffer, offset, length, mmapFlags) {\r\n          MEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\r\n          // should we check if bytesWritten and length are the same?\r\n          return 0;\r\n        },\r\n  },\r\n  };\r\n  \r\n  var asyncLoad = async (url) => {\r\n      var arrayBuffer = await readAsync(url);\r\n      assert(arrayBuffer, `Loading data file \"${url}\" failed (no arrayBuffer).`);\r\n      return new Uint8Array(arrayBuffer);\r\n    };\r\n  \r\n  \r\n  var FS_createDataFile = (...args) => FS.createDataFile(...args);\r\n  \r\n  var preloadPlugins = [];\r\n  var FS_handledByPreloadPlugin = (byteArray, fullname, finish, onerror) => {\r\n      // Ensure plugins are ready.\r\n      if (typeof Browser != 'undefined') Browser.init();\r\n  \r\n      var handled = false;\r\n      preloadPlugins.forEach((plugin) => {\r\n        if (handled) return;\r\n        if (plugin['canHandle'](fullname)) {\r\n          plugin['handle'](byteArray, fullname, finish, onerror);\r\n          handled = true;\r\n        }\r\n      });\r\n      return handled;\r\n    };\r\n  var FS_createPreloadedFile = (parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) => {\r\n      // TODO we should allow people to just pass in a complete filename instead\r\n      // of parent and name being that we just join them anyways\r\n      var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;\r\n      var dep = getUniqueRunDependency(`cp ${fullname}`); // might have several active requests for the same fullname\r\n      function processData(byteArray) {\r\n        function finish(byteArray) {\r\n          preFinish?.();\r\n          if (!dontCreateFile) {\r\n            FS_createDataFile(parent, name, byteArray, canRead, canWrite, canOwn);\r\n          }\r\n          onload?.();\r\n          removeRunDependency(dep);\r\n        }\r\n        if (FS_handledByPreloadPlugin(byteArray, fullname, finish, () => {\r\n          onerror?.();\r\n          removeRunDependency(dep);\r\n        })) {\r\n          return;\r\n        }\r\n        finish(byteArray);\r\n      }\r\n      addRunDependency(dep);\r\n      if (typeof url == 'string') {\r\n        asyncLoad(url).then(processData, onerror);\r\n      } else {\r\n        processData(url);\r\n      }\r\n    };\r\n  \r\n  var FS_modeStringToFlags = (str) => {\r\n      var flagModes = {\r\n        'r': 0,\r\n        'r+': 2,\r\n        'w': 512 | 64 | 1,\r\n        'w+': 512 | 64 | 2,\r\n        'a': 1024 | 64 | 1,\r\n        'a+': 1024 | 64 | 2,\r\n      };\r\n      var flags = flagModes[str];\r\n      if (typeof flags == 'undefined') {\r\n        throw new Error(`Unknown file open mode: ${str}`);\r\n      }\r\n      return flags;\r\n    };\r\n  \r\n  var FS_getMode = (canRead, canWrite) => {\r\n      var mode = 0;\r\n      if (canRead) mode |= 292 | 73;\r\n      if (canWrite) mode |= 146;\r\n      return mode;\r\n    };\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  var strError = (errno) => UTF8ToString(_strerror(errno));\r\n  \r\n  var ERRNO_CODES = {\r\n      'EPERM': 63,\r\n      'ENOENT': 44,\r\n      'ESRCH': 71,\r\n      'EINTR': 27,\r\n      'EIO': 29,\r\n      'ENXIO': 60,\r\n      'E2BIG': 1,\r\n      'ENOEXEC': 45,\r\n      'EBADF': 8,\r\n      'ECHILD': 12,\r\n      'EAGAIN': 6,\r\n      'EWOULDBLOCK': 6,\r\n      'ENOMEM': 48,\r\n      'EACCES': 2,\r\n      'EFAULT': 21,\r\n      'ENOTBLK': 105,\r\n      'EBUSY': 10,\r\n      'EEXIST': 20,\r\n      'EXDEV': 75,\r\n      'ENODEV': 43,\r\n      'ENOTDIR': 54,\r\n      'EISDIR': 31,\r\n      'EINVAL': 28,\r\n      'ENFILE': 41,\r\n      'EMFILE': 33,\r\n      'ENOTTY': 59,\r\n      'ETXTBSY': 74,\r\n      'EFBIG': 22,\r\n      'ENOSPC': 51,\r\n      'ESPIPE': 70,\r\n      'EROFS': 69,\r\n      'EMLINK': 34,\r\n      'EPIPE': 64,\r\n      'EDOM': 18,\r\n      'ERANGE': 68,\r\n      'ENOMSG': 49,\r\n      'EIDRM': 24,\r\n      'ECHRNG': 106,\r\n      'EL2NSYNC': 156,\r\n      'EL3HLT': 107,\r\n      'EL3RST': 108,\r\n      'ELNRNG': 109,\r\n      'EUNATCH': 110,\r\n      'ENOCSI': 111,\r\n      'EL2HLT': 112,\r\n      'EDEADLK': 16,\r\n      'ENOLCK': 46,\r\n      'EBADE': 113,\r\n      'EBADR': 114,\r\n      'EXFULL': 115,\r\n      'ENOANO': 104,\r\n      'EBADRQC': 103,\r\n      'EBADSLT': 102,\r\n      'EDEADLOCK': 16,\r\n      'EBFONT': 101,\r\n      'ENOSTR': 100,\r\n      'ENODATA': 116,\r\n      'ETIME': 117,\r\n      'ENOSR': 118,\r\n      'ENONET': 119,\r\n      'ENOPKG': 120,\r\n      'EREMOTE': 121,\r\n      'ENOLINK': 47,\r\n      'EADV': 122,\r\n      'ESRMNT': 123,\r\n      'ECOMM': 124,\r\n      'EPROTO': 65,\r\n      'EMULTIHOP': 36,\r\n      'EDOTDOT': 125,\r\n      'EBADMSG': 9,\r\n      'ENOTUNIQ': 126,\r\n      'EBADFD': 127,\r\n      'EREMCHG': 128,\r\n      'ELIBACC': 129,\r\n      'ELIBBAD': 130,\r\n      'ELIBSCN': 131,\r\n      'ELIBMAX': 132,\r\n      'ELIBEXEC': 133,\r\n      'ENOSYS': 52,\r\n      'ENOTEMPTY': 55,\r\n      'ENAMETOOLONG': 37,\r\n      'ELOOP': 32,\r\n      'EOPNOTSUPP': 138,\r\n      'EPFNOSUPPORT': 139,\r\n      'ECONNRESET': 15,\r\n      'ENOBUFS': 42,\r\n      'EAFNOSUPPORT': 5,\r\n      'EPROTOTYPE': 67,\r\n      'ENOTSOCK': 57,\r\n      'ENOPROTOOPT': 50,\r\n      'ESHUTDOWN': 140,\r\n      'ECONNREFUSED': 14,\r\n      'EADDRINUSE': 3,\r\n      'ECONNABORTED': 13,\r\n      'ENETUNREACH': 40,\r\n      'ENETDOWN': 38,\r\n      'ETIMEDOUT': 73,\r\n      'EHOSTDOWN': 142,\r\n      'EHOSTUNREACH': 23,\r\n      'EINPROGRESS': 26,\r\n      'EALREADY': 7,\r\n      'EDESTADDRREQ': 17,\r\n      'EMSGSIZE': 35,\r\n      'EPROTONOSUPPORT': 66,\r\n      'ESOCKTNOSUPPORT': 137,\r\n      'EADDRNOTAVAIL': 4,\r\n      'ENETRESET': 39,\r\n      'EISCONN': 30,\r\n      'ENOTCONN': 53,\r\n      'ETOOMANYREFS': 141,\r\n      'EUSERS': 136,\r\n      'EDQUOT': 19,\r\n      'ESTALE': 72,\r\n      'ENOTSUP': 138,\r\n      'ENOMEDIUM': 148,\r\n      'EILSEQ': 25,\r\n      'EOVERFLOW': 61,\r\n      'ECANCELED': 11,\r\n      'ENOTRECOVERABLE': 56,\r\n      'EOWNERDEAD': 62,\r\n      'ESTRPIPE': 135,\r\n    };\r\n  var FS = {\r\n  root:null,\r\n  mounts:[],\r\n  devices:{\r\n  },\r\n  streams:[],\r\n  nextInode:1,\r\n  nameTable:null,\r\n  currentPath:\"/\",\r\n  initialized:false,\r\n  ignorePermissions:true,\r\n  filesystems:null,\r\n  syncFSRequests:0,\r\n  readFiles:{\r\n  },\r\n  ErrnoError:class extends Error {\r\n        name = 'ErrnoError';\r\n        // We set the `name` property to be able to identify `FS.ErrnoError`\r\n        // - the `name` is a standard ECMA-262 property of error objects. Kind of good to have it anyway.\r\n        // - when using PROXYFS, an error can come from an underlying FS\r\n        // as different FS objects have their own FS.ErrnoError each,\r\n        // the test `err instanceof FS.ErrnoError` won't detect an error coming from another filesystem, causing bugs.\r\n        // we'll use the reliable test `err.name == \"ErrnoError\"` instead\r\n        constructor(errno) {\r\n          super(runtimeInitialized ? strError(errno) : '');\r\n          this.errno = errno;\r\n          for (var key in ERRNO_CODES) {\r\n            if (ERRNO_CODES[key] === errno) {\r\n              this.code = key;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      },\r\n  FSStream:class {\r\n        shared = {};\r\n        get object() {\r\n          return this.node;\r\n        }\r\n        set object(val) {\r\n          this.node = val;\r\n        }\r\n        get isRead() {\r\n          return (this.flags & 2097155) !== 1;\r\n        }\r\n        get isWrite() {\r\n          return (this.flags & 2097155) !== 0;\r\n        }\r\n        get isAppend() {\r\n          return (this.flags & 1024);\r\n        }\r\n        get flags() {\r\n          return this.shared.flags;\r\n        }\r\n        set flags(val) {\r\n          this.shared.flags = val;\r\n        }\r\n        get position() {\r\n          return this.shared.position;\r\n        }\r\n        set position(val) {\r\n          this.shared.position = val;\r\n        }\r\n      },\r\n  FSNode:class {\r\n        node_ops = {};\r\n        stream_ops = {};\r\n        readMode = 292 | 73;\r\n        writeMode = 146;\r\n        mounted = null;\r\n        constructor(parent, name, mode, rdev) {\r\n          if (!parent) {\r\n            parent = this;  // root node sets parent to itself\r\n          }\r\n          this.parent = parent;\r\n          this.mount = parent.mount;\r\n          this.id = FS.nextInode++;\r\n          this.name = name;\r\n          this.mode = mode;\r\n          this.rdev = rdev;\r\n          this.atime = this.mtime = this.ctime = Date.now();\r\n        }\r\n        get read() {\r\n          return (this.mode & this.readMode) === this.readMode;\r\n        }\r\n        set read(val) {\r\n          val ? this.mode |= this.readMode : this.mode &= ~this.readMode;\r\n        }\r\n        get write() {\r\n          return (this.mode & this.writeMode) === this.writeMode;\r\n        }\r\n        set write(val) {\r\n          val ? this.mode |= this.writeMode : this.mode &= ~this.writeMode;\r\n        }\r\n        get isFolder() {\r\n          return FS.isDir(this.mode);\r\n        }\r\n        get isDevice() {\r\n          return FS.isChrdev(this.mode);\r\n        }\r\n      },\r\n  lookupPath(path, opts = {}) {\r\n        if (!path) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        opts.follow_mount ??= true\r\n  \r\n        if (!PATH.isAbs(path)) {\r\n          path = FS.cwd() + '/' + path;\r\n        }\r\n  \r\n        // limit max consecutive symlinks to 40 (SYMLOOP_MAX).\r\n        linkloop: for (var nlinks = 0; nlinks < 40; nlinks++) {\r\n          // split the absolute path\r\n          var parts = path.split('/').filter((p) => !!p);\r\n  \r\n          // start at the root\r\n          var current = FS.root;\r\n          var current_path = '/';\r\n  \r\n          for (var i = 0; i < parts.length; i++) {\r\n            var islast = (i === parts.length-1);\r\n            if (islast && opts.parent) {\r\n              // stop resolving\r\n              break;\r\n            }\r\n  \r\n            if (parts[i] === '.') {\r\n              continue;\r\n            }\r\n  \r\n            if (parts[i] === '..') {\r\n              current_path = PATH.dirname(current_path);\r\n              if (FS.isRoot(current)) {\r\n                path = current_path + '/' + parts.slice(i + 1).join('/');\r\n                continue linkloop;\r\n              } else {\r\n                current = current.parent;\r\n              }\r\n              continue;\r\n            }\r\n  \r\n            current_path = PATH.join2(current_path, parts[i]);\r\n            try {\r\n              current = FS.lookupNode(current, parts[i]);\r\n            } catch (e) {\r\n              // if noent_okay is true, suppress a ENOENT in the last component\r\n              // and return an object with an undefined node. This is needed for\r\n              // resolving symlinks in the path when creating a file.\r\n              if ((e?.errno === 44) && islast && opts.noent_okay) {\r\n                return { path: current_path };\r\n              }\r\n              throw e;\r\n            }\r\n  \r\n            // jump to the mount's root node if this is a mountpoint\r\n            if (FS.isMountpoint(current) && (!islast || opts.follow_mount)) {\r\n              current = current.mounted.root;\r\n            }\r\n  \r\n            // by default, lookupPath will not follow a symlink if it is the final path component.\r\n            // setting opts.follow = true will override this behavior.\r\n            if (FS.isLink(current.mode) && (!islast || opts.follow)) {\r\n              if (!current.node_ops.readlink) {\r\n                throw new FS.ErrnoError(52);\r\n              }\r\n              var link = current.node_ops.readlink(current);\r\n              if (!PATH.isAbs(link)) {\r\n                link = PATH.dirname(current_path) + '/' + link;\r\n              }\r\n              path = link + '/' + parts.slice(i + 1).join('/');\r\n              continue linkloop;\r\n            }\r\n          }\r\n          return { path: current_path, node: current };\r\n        }\r\n        throw new FS.ErrnoError(32);\r\n      },\r\n  getPath(node) {\r\n        var path;\r\n        while (true) {\r\n          if (FS.isRoot(node)) {\r\n            var mount = node.mount.mountpoint;\r\n            if (!path) return mount;\r\n            return mount[mount.length-1] !== '/' ? `${mount}/${path}` : mount + path;\r\n          }\r\n          path = path ? `${node.name}/${path}` : node.name;\r\n          node = node.parent;\r\n        }\r\n      },\r\n  hashName(parentid, name) {\r\n        var hash = 0;\r\n  \r\n        for (var i = 0; i < name.length; i++) {\r\n          hash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\r\n        }\r\n        return ((parentid + hash) >>> 0) % FS.nameTable.length;\r\n      },\r\n  hashAddNode(node) {\r\n        var hash = FS.hashName(node.parent.id, node.name);\r\n        node.name_next = FS.nameTable[hash];\r\n        FS.nameTable[hash] = node;\r\n      },\r\n  hashRemoveNode(node) {\r\n        var hash = FS.hashName(node.parent.id, node.name);\r\n        if (FS.nameTable[hash] === node) {\r\n          FS.nameTable[hash] = node.name_next;\r\n        } else {\r\n          var current = FS.nameTable[hash];\r\n          while (current) {\r\n            if (current.name_next === node) {\r\n              current.name_next = node.name_next;\r\n              break;\r\n            }\r\n            current = current.name_next;\r\n          }\r\n        }\r\n      },\r\n  lookupNode(parent, name) {\r\n        var errCode = FS.mayLookup(parent);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        var hash = FS.hashName(parent.id, name);\r\n        for (var node = FS.nameTable[hash]; node; node = node.name_next) {\r\n          var nodeName = node.name;\r\n          if (node.parent.id === parent.id && nodeName === name) {\r\n            return node;\r\n          }\r\n        }\r\n        // if we failed to find it in the cache, call into the VFS\r\n        return FS.lookup(parent, name);\r\n      },\r\n  createNode(parent, name, mode, rdev) {\r\n        assert(typeof parent == 'object')\r\n        var node = new FS.FSNode(parent, name, mode, rdev);\r\n  \r\n        FS.hashAddNode(node);\r\n  \r\n        return node;\r\n      },\r\n  destroyNode(node) {\r\n        FS.hashRemoveNode(node);\r\n      },\r\n  isRoot(node) {\r\n        return node === node.parent;\r\n      },\r\n  isMountpoint(node) {\r\n        return !!node.mounted;\r\n      },\r\n  isFile(mode) {\r\n        return (mode & 61440) === 32768;\r\n      },\r\n  isDir(mode) {\r\n        return (mode & 61440) === 16384;\r\n      },\r\n  isLink(mode) {\r\n        return (mode & 61440) === 40960;\r\n      },\r\n  isChrdev(mode) {\r\n        return (mode & 61440) === 8192;\r\n      },\r\n  isBlkdev(mode) {\r\n        return (mode & 61440) === 24576;\r\n      },\r\n  isFIFO(mode) {\r\n        return (mode & 61440) === 4096;\r\n      },\r\n  isSocket(mode) {\r\n        return (mode & 49152) === 49152;\r\n      },\r\n  flagsToPermissionString(flag) {\r\n        var perms = ['r', 'w', 'rw'][flag & 3];\r\n        if ((flag & 512)) {\r\n          perms += 'w';\r\n        }\r\n        return perms;\r\n      },\r\n  nodePermissions(node, perms) {\r\n        if (FS.ignorePermissions) {\r\n          return 0;\r\n        }\r\n        // return 0 if any user, group or owner bits are set.\r\n        if (perms.includes('r') && !(node.mode & 292)) {\r\n          return 2;\r\n        } else if (perms.includes('w') && !(node.mode & 146)) {\r\n          return 2;\r\n        } else if (perms.includes('x') && !(node.mode & 73)) {\r\n          return 2;\r\n        }\r\n        return 0;\r\n      },\r\n  mayLookup(dir) {\r\n        if (!FS.isDir(dir.mode)) return 54;\r\n        var errCode = FS.nodePermissions(dir, 'x');\r\n        if (errCode) return errCode;\r\n        if (!dir.node_ops.lookup) return 2;\r\n        return 0;\r\n      },\r\n  mayCreate(dir, name) {\r\n        if (!FS.isDir(dir.mode)) {\r\n          return 54;\r\n        }\r\n        try {\r\n          var node = FS.lookupNode(dir, name);\r\n          return 20;\r\n        } catch (e) {\r\n        }\r\n        return FS.nodePermissions(dir, 'wx');\r\n      },\r\n  mayDelete(dir, name, isdir) {\r\n        var node;\r\n        try {\r\n          node = FS.lookupNode(dir, name);\r\n        } catch (e) {\r\n          return e.errno;\r\n        }\r\n        var errCode = FS.nodePermissions(dir, 'wx');\r\n        if (errCode) {\r\n          return errCode;\r\n        }\r\n        if (isdir) {\r\n          if (!FS.isDir(node.mode)) {\r\n            return 54;\r\n          }\r\n          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\r\n            return 10;\r\n          }\r\n        } else {\r\n          if (FS.isDir(node.mode)) {\r\n            return 31;\r\n          }\r\n        }\r\n        return 0;\r\n      },\r\n  mayOpen(node, flags) {\r\n        if (!node) {\r\n          return 44;\r\n        }\r\n        if (FS.isLink(node.mode)) {\r\n          return 32;\r\n        } else if (FS.isDir(node.mode)) {\r\n          if (FS.flagsToPermissionString(flags) !== 'r' // opening for write\r\n              || (flags & (512 | 64))) { // TODO: check for O_SEARCH? (== search for dir only)\r\n            return 31;\r\n          }\r\n        }\r\n        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\r\n      },\r\n  checkOpExists(op, err) {\r\n        if (!op) {\r\n          throw new FS.ErrnoError(err);\r\n        }\r\n        return op;\r\n      },\r\n  MAX_OPEN_FDS:4096,\r\n  nextfd() {\r\n        for (var fd = 0; fd <= FS.MAX_OPEN_FDS; fd++) {\r\n          if (!FS.streams[fd]) {\r\n            return fd;\r\n          }\r\n        }\r\n        throw new FS.ErrnoError(33);\r\n      },\r\n  getStreamChecked(fd) {\r\n        var stream = FS.getStream(fd);\r\n        if (!stream) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        return stream;\r\n      },\r\n  getStream:(fd) => FS.streams[fd],\r\n  createStream(stream, fd = -1) {\r\n        assert(fd >= -1);\r\n  \r\n        // clone it, so we can return an instance of FSStream\r\n        stream = Object.assign(new FS.FSStream(), stream);\r\n        if (fd == -1) {\r\n          fd = FS.nextfd();\r\n        }\r\n        stream.fd = fd;\r\n        FS.streams[fd] = stream;\r\n        return stream;\r\n      },\r\n  closeStream(fd) {\r\n        FS.streams[fd] = null;\r\n      },\r\n  dupStream(origStream, fd = -1) {\r\n        var stream = FS.createStream(origStream, fd);\r\n        stream.stream_ops?.dup?.(stream);\r\n        return stream;\r\n      },\r\n  doSetAttr(stream, node, attr) {\r\n        var setattr = stream?.stream_ops.setattr;\r\n        var arg = setattr ? stream : node;\r\n        setattr ??= node.node_ops.setattr;\r\n        FS.checkOpExists(setattr, 63)\r\n        setattr(arg, attr);\r\n      },\r\n  chrdev_stream_ops:{\r\n  open(stream) {\r\n          var device = FS.getDevice(stream.node.rdev);\r\n          // override node's stream ops with the device's\r\n          stream.stream_ops = device.stream_ops;\r\n          // forward the open call\r\n          stream.stream_ops.open?.(stream);\r\n        },\r\n  llseek() {\r\n          throw new FS.ErrnoError(70);\r\n        },\r\n  },\r\n  major:(dev) => ((dev) >> 8),\r\n  minor:(dev) => ((dev) & 0xff),\r\n  makedev:(ma, mi) => ((ma) << 8 | (mi)),\r\n  registerDevice(dev, ops) {\r\n        FS.devices[dev] = { stream_ops: ops };\r\n      },\r\n  getDevice:(dev) => FS.devices[dev],\r\n  getMounts(mount) {\r\n        var mounts = [];\r\n        var check = [mount];\r\n  \r\n        while (check.length) {\r\n          var m = check.pop();\r\n  \r\n          mounts.push(m);\r\n  \r\n          check.push(...m.mounts);\r\n        }\r\n  \r\n        return mounts;\r\n      },\r\n  syncfs(populate, callback) {\r\n        if (typeof populate == 'function') {\r\n          callback = populate;\r\n          populate = false;\r\n        }\r\n  \r\n        FS.syncFSRequests++;\r\n  \r\n        if (FS.syncFSRequests > 1) {\r\n          err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);\r\n        }\r\n  \r\n        var mounts = FS.getMounts(FS.root.mount);\r\n        var completed = 0;\r\n  \r\n        function doCallback(errCode) {\r\n          assert(FS.syncFSRequests > 0);\r\n          FS.syncFSRequests--;\r\n          return callback(errCode);\r\n        }\r\n  \r\n        function done(errCode) {\r\n          if (errCode) {\r\n            if (!done.errored) {\r\n              done.errored = true;\r\n              return doCallback(errCode);\r\n            }\r\n            return;\r\n          }\r\n          if (++completed >= mounts.length) {\r\n            doCallback(null);\r\n          }\r\n        };\r\n  \r\n        // sync all mounts\r\n        mounts.forEach((mount) => {\r\n          if (!mount.type.syncfs) {\r\n            return done(null);\r\n          }\r\n          mount.type.syncfs(mount, populate, done);\r\n        });\r\n      },\r\n  mount(type, opts, mountpoint) {\r\n        if (typeof type == 'string') {\r\n          // The filesystem was not included, and instead we have an error\r\n          // message stored in the variable.\r\n          throw type;\r\n        }\r\n        var root = mountpoint === '/';\r\n        var pseudo = !mountpoint;\r\n        var node;\r\n  \r\n        if (root && FS.root) {\r\n          throw new FS.ErrnoError(10);\r\n        } else if (!root && !pseudo) {\r\n          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n  \r\n          mountpoint = lookup.path;  // use the absolute path\r\n          node = lookup.node;\r\n  \r\n          if (FS.isMountpoint(node)) {\r\n            throw new FS.ErrnoError(10);\r\n          }\r\n  \r\n          if (!FS.isDir(node.mode)) {\r\n            throw new FS.ErrnoError(54);\r\n          }\r\n        }\r\n  \r\n        var mount = {\r\n          type,\r\n          opts,\r\n          mountpoint,\r\n          mounts: []\r\n        };\r\n  \r\n        // create a root node for the fs\r\n        var mountRoot = type.mount(mount);\r\n        mountRoot.mount = mount;\r\n        mount.root = mountRoot;\r\n  \r\n        if (root) {\r\n          FS.root = mountRoot;\r\n        } else if (node) {\r\n          // set as a mountpoint\r\n          node.mounted = mount;\r\n  \r\n          // add the new mount to the current mount's children\r\n          if (node.mount) {\r\n            node.mount.mounts.push(mount);\r\n          }\r\n        }\r\n  \r\n        return mountRoot;\r\n      },\r\n  unmount(mountpoint) {\r\n        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\r\n  \r\n        if (!FS.isMountpoint(lookup.node)) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n  \r\n        // destroy the nodes for this mount, and all its child mounts\r\n        var node = lookup.node;\r\n        var mount = node.mounted;\r\n        var mounts = FS.getMounts(mount);\r\n  \r\n        Object.keys(FS.nameTable).forEach((hash) => {\r\n          var current = FS.nameTable[hash];\r\n  \r\n          while (current) {\r\n            var next = current.name_next;\r\n  \r\n            if (mounts.includes(current.mount)) {\r\n              FS.destroyNode(current);\r\n            }\r\n  \r\n            current = next;\r\n          }\r\n        });\r\n  \r\n        // no longer a mountpoint\r\n        node.mounted = null;\r\n  \r\n        // remove this mount from the child mounts\r\n        var idx = node.mount.mounts.indexOf(mount);\r\n        assert(idx !== -1);\r\n        node.mount.mounts.splice(idx, 1);\r\n      },\r\n  lookup(parent, name) {\r\n        return parent.node_ops.lookup(parent, name);\r\n      },\r\n  mknod(path, mode, dev) {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        var name = PATH.basename(path);\r\n        if (!name) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (name === '.' || name === '..') {\r\n          throw new FS.ErrnoError(20);\r\n        }\r\n        var errCode = FS.mayCreate(parent, name);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.mknod) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        return parent.node_ops.mknod(parent, name, mode, dev);\r\n      },\r\n  statfs(path) {\r\n        return FS.statfsNode(FS.lookupPath(path, {follow: true}).node);\r\n      },\r\n  statfsStream(stream) {\r\n        // We keep a separate statfsStream function because noderawfs overrides\r\n        // it. In noderawfs, stream.node is sometimes null. Instead, we need to\r\n        // look at stream.path.\r\n        return FS.statfsNode(stream.node);\r\n      },\r\n  statfsNode(node) {\r\n        // NOTE: None of the defaults here are true. We're just returning safe and\r\n        //       sane values. Currently nodefs and rawfs replace these defaults,\r\n        //       other file systems leave them alone.\r\n        var rtn = {\r\n          bsize: 4096,\r\n          frsize: 4096,\r\n          blocks: 1e6,\r\n          bfree: 5e5,\r\n          bavail: 5e5,\r\n          files: FS.nextInode,\r\n          ffree: FS.nextInode - 1,\r\n          fsid: 42,\r\n          flags: 2,\r\n          namelen: 255,\r\n        };\r\n  \r\n        if (node.node_ops.statfs) {\r\n          Object.assign(rtn, node.node_ops.statfs(node.mount.opts.root));\r\n        }\r\n        return rtn;\r\n      },\r\n  create(path, mode = 0o666) {\r\n        mode &= 4095;\r\n        mode |= 32768;\r\n        return FS.mknod(path, mode, 0);\r\n      },\r\n  mkdir(path, mode = 0o777) {\r\n        mode &= 511 | 512;\r\n        mode |= 16384;\r\n        return FS.mknod(path, mode, 0);\r\n      },\r\n  mkdirTree(path, mode) {\r\n        var dirs = path.split('/');\r\n        var d = '';\r\n        for (var dir of dirs) {\r\n          if (!dir) continue;\r\n          if (d || PATH.isAbs(path)) d += '/';\r\n          d += dir;\r\n          try {\r\n            FS.mkdir(d, mode);\r\n          } catch(e) {\r\n            if (e.errno != 20) throw e;\r\n          }\r\n        }\r\n      },\r\n  mkdev(path, mode, dev) {\r\n        if (typeof dev == 'undefined') {\r\n          dev = mode;\r\n          mode = 0o666;\r\n        }\r\n        mode |= 8192;\r\n        return FS.mknod(path, mode, dev);\r\n      },\r\n  symlink(oldpath, newpath) {\r\n        if (!PATH_FS.resolve(oldpath)) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var lookup = FS.lookupPath(newpath, { parent: true });\r\n        var parent = lookup.node;\r\n        if (!parent) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var newname = PATH.basename(newpath);\r\n        var errCode = FS.mayCreate(parent, newname);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.symlink) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        return parent.node_ops.symlink(parent, newname, oldpath);\r\n      },\r\n  rename(old_path, new_path) {\r\n        var old_dirname = PATH.dirname(old_path);\r\n        var new_dirname = PATH.dirname(new_path);\r\n        var old_name = PATH.basename(old_path);\r\n        var new_name = PATH.basename(new_path);\r\n        // parents must exist\r\n        var lookup, old_dir, new_dir;\r\n  \r\n        // let the errors from non existent directories percolate up\r\n        lookup = FS.lookupPath(old_path, { parent: true });\r\n        old_dir = lookup.node;\r\n        lookup = FS.lookupPath(new_path, { parent: true });\r\n        new_dir = lookup.node;\r\n  \r\n        if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\r\n        // need to be part of the same mount\r\n        if (old_dir.mount !== new_dir.mount) {\r\n          throw new FS.ErrnoError(75);\r\n        }\r\n        // source must exist\r\n        var old_node = FS.lookupNode(old_dir, old_name);\r\n        // old path should not be an ancestor of the new path\r\n        var relative = PATH_FS.relative(old_path, new_dirname);\r\n        if (relative.charAt(0) !== '.') {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        // new path should not be an ancestor of the old path\r\n        relative = PATH_FS.relative(new_path, old_dirname);\r\n        if (relative.charAt(0) !== '.') {\r\n          throw new FS.ErrnoError(55);\r\n        }\r\n        // see if the new path already exists\r\n        var new_node;\r\n        try {\r\n          new_node = FS.lookupNode(new_dir, new_name);\r\n        } catch (e) {\r\n          // not fatal\r\n        }\r\n        // early out if nothing needs to change\r\n        if (old_node === new_node) {\r\n          return;\r\n        }\r\n        // we'll need to delete the old entry\r\n        var isdir = FS.isDir(old_node.mode);\r\n        var errCode = FS.mayDelete(old_dir, old_name, isdir);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        // need delete permissions if we'll be overwriting.\r\n        // need create permissions if new doesn't already exist.\r\n        errCode = new_node ?\r\n          FS.mayDelete(new_dir, new_name, isdir) :\r\n          FS.mayCreate(new_dir, new_name);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!old_dir.node_ops.rename) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(old_node) || (new_node && FS.isMountpoint(new_node))) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        // if we are going to change the parent, check write permissions\r\n        if (new_dir !== old_dir) {\r\n          errCode = FS.nodePermissions(old_dir, 'w');\r\n          if (errCode) {\r\n            throw new FS.ErrnoError(errCode);\r\n          }\r\n        }\r\n        // remove the node from the lookup hash\r\n        FS.hashRemoveNode(old_node);\r\n        // do the underlying fs rename\r\n        try {\r\n          old_dir.node_ops.rename(old_node, new_dir, new_name);\r\n          // update old node (we do this here to avoid each backend\r\n          // needing to)\r\n          old_node.parent = new_dir;\r\n        } catch (e) {\r\n          throw e;\r\n        } finally {\r\n          // add the node back to the hash (in case node_ops.rename\r\n          // changed its name)\r\n          FS.hashAddNode(old_node);\r\n        }\r\n      },\r\n  rmdir(path) {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        var name = PATH.basename(path);\r\n        var node = FS.lookupNode(parent, name);\r\n        var errCode = FS.mayDelete(parent, name, true);\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.rmdir) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(node)) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        parent.node_ops.rmdir(parent, name);\r\n        FS.destroyNode(node);\r\n      },\r\n  readdir(path) {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        var node = lookup.node;\r\n        var readdir = FS.checkOpExists(node.node_ops.readdir, 54);\r\n        return readdir(node);\r\n      },\r\n  unlink(path) {\r\n        var lookup = FS.lookupPath(path, { parent: true });\r\n        var parent = lookup.node;\r\n        if (!parent) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        var name = PATH.basename(path);\r\n        var node = FS.lookupNode(parent, name);\r\n        var errCode = FS.mayDelete(parent, name, false);\r\n        if (errCode) {\r\n          // According to POSIX, we should map EISDIR to EPERM, but\r\n          // we instead do what Linux does (and we must, as we use\r\n          // the musl linux libc).\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        if (!parent.node_ops.unlink) {\r\n          throw new FS.ErrnoError(63);\r\n        }\r\n        if (FS.isMountpoint(node)) {\r\n          throw new FS.ErrnoError(10);\r\n        }\r\n        parent.node_ops.unlink(parent, name);\r\n        FS.destroyNode(node);\r\n      },\r\n  readlink(path) {\r\n        var lookup = FS.lookupPath(path);\r\n        var link = lookup.node;\r\n        if (!link) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        if (!link.node_ops.readlink) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        return link.node_ops.readlink(link);\r\n      },\r\n  stat(path, dontFollow) {\r\n        var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n        var node = lookup.node;\r\n        var getattr = FS.checkOpExists(node.node_ops.getattr, 63);\r\n        return getattr(node);\r\n      },\r\n  fstat(fd) {\r\n        var stream = FS.getStreamChecked(fd);\r\n        var node = stream.node;\r\n        var getattr = stream.stream_ops.getattr;\r\n        var arg = getattr ? stream : node;\r\n        getattr ??= node.node_ops.getattr;\r\n        FS.checkOpExists(getattr, 63)\r\n        return getattr(arg);\r\n      },\r\n  lstat(path) {\r\n        return FS.stat(path, true);\r\n      },\r\n  doChmod(stream, node, mode, dontFollow) {\r\n        FS.doSetAttr(stream, node, {\r\n          mode: (mode & 4095) | (node.mode & ~4095),\r\n          ctime: Date.now(),\r\n          dontFollow\r\n        });\r\n      },\r\n  chmod(path, mode, dontFollow) {\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        FS.doChmod(null, node, mode, dontFollow);\r\n      },\r\n  lchmod(path, mode) {\r\n        FS.chmod(path, mode, true);\r\n      },\r\n  fchmod(fd, mode) {\r\n        var stream = FS.getStreamChecked(fd);\r\n        FS.doChmod(stream, stream.node, mode, false);\r\n      },\r\n  doChown(stream, node, dontFollow) {\r\n        FS.doSetAttr(stream, node, {\r\n          timestamp: Date.now(),\r\n          dontFollow\r\n          // we ignore the uid / gid for now\r\n        });\r\n      },\r\n  chown(path, uid, gid, dontFollow) {\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        FS.doChown(null, node, dontFollow);\r\n      },\r\n  lchown(path, uid, gid) {\r\n        FS.chown(path, uid, gid, true);\r\n      },\r\n  fchown(fd, uid, gid) {\r\n        var stream = FS.getStreamChecked(fd);\r\n        FS.doChown(stream, stream.node, false);\r\n      },\r\n  doTruncate(stream, node, len) {\r\n        if (FS.isDir(node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!FS.isFile(node.mode)) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var errCode = FS.nodePermissions(node, 'w');\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        FS.doSetAttr(stream, node, {\r\n          size: len,\r\n          timestamp: Date.now()\r\n        });\r\n      },\r\n  truncate(path, len) {\r\n        if (len < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var node;\r\n        if (typeof path == 'string') {\r\n          var lookup = FS.lookupPath(path, { follow: true });\r\n          node = lookup.node;\r\n        } else {\r\n          node = path;\r\n        }\r\n        FS.doTruncate(null, node, len);\r\n      },\r\n  ftruncate(fd, len) {\r\n        var stream = FS.getStreamChecked(fd);\r\n        if (len < 0 || (stream.flags & 2097155) === 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        FS.doTruncate(stream, stream.node, len);\r\n      },\r\n  utime(path, atime, mtime) {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        var node = lookup.node;\r\n        var setattr = FS.checkOpExists(node.node_ops.setattr, 63);\r\n        setattr(node, {\r\n          atime: atime,\r\n          mtime: mtime\r\n        });\r\n      },\r\n  open(path, flags, mode = 0o666) {\r\n        if (path === \"\") {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        flags = typeof flags == 'string' ? FS_modeStringToFlags(flags) : flags;\r\n        if ((flags & 64)) {\r\n          mode = (mode & 4095) | 32768;\r\n        } else {\r\n          mode = 0;\r\n        }\r\n        var node;\r\n        var isDirPath;\r\n        if (typeof path == 'object') {\r\n          node = path;\r\n        } else {\r\n          isDirPath = path.endsWith(\"/\");\r\n          // noent_okay makes it so that if the final component of the path\r\n          // doesn't exist, lookupPath returns `node: undefined`. `path` will be\r\n          // updated to point to the target of all symlinks.\r\n          var lookup = FS.lookupPath(path, {\r\n            follow: !(flags & 131072),\r\n            noent_okay: true\r\n          });\r\n          node = lookup.node;\r\n          path = lookup.path;\r\n        }\r\n        // perhaps we need to create the node\r\n        var created = false;\r\n        if ((flags & 64)) {\r\n          if (node) {\r\n            // if O_CREAT and O_EXCL are set, error out if the node already exists\r\n            if ((flags & 128)) {\r\n              throw new FS.ErrnoError(20);\r\n            }\r\n          } else if (isDirPath) {\r\n            throw new FS.ErrnoError(31);\r\n          } else {\r\n            // node doesn't exist, try to create it\r\n            // Ignore the permission bits here to ensure we can `open` this new\r\n            // file below. We use chmod below the apply the permissions once the\r\n            // file is open.\r\n            node = FS.mknod(path, mode | 0o777, 0);\r\n            created = true;\r\n          }\r\n        }\r\n        if (!node) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        // can't truncate a device\r\n        if (FS.isChrdev(node.mode)) {\r\n          flags &= ~512;\r\n        }\r\n        // if asked only for a directory, then this must be one\r\n        if ((flags & 65536) && !FS.isDir(node.mode)) {\r\n          throw new FS.ErrnoError(54);\r\n        }\r\n        // check permissions, if this is not a file we just created now (it is ok to\r\n        // create and write to a file with read-only permissions; it is read-only\r\n        // for later use)\r\n        if (!created) {\r\n          var errCode = FS.mayOpen(node, flags);\r\n          if (errCode) {\r\n            throw new FS.ErrnoError(errCode);\r\n          }\r\n        }\r\n        // do truncation if necessary\r\n        if ((flags & 512) && !created) {\r\n          FS.truncate(node, 0);\r\n        }\r\n        // we've already handled these, don't pass down to the underlying vfs\r\n        flags &= ~(128 | 512 | 131072);\r\n  \r\n        // register the stream with the filesystem\r\n        var stream = FS.createStream({\r\n          node,\r\n          path: FS.getPath(node),  // we want the absolute path to the node\r\n          flags,\r\n          seekable: true,\r\n          position: 0,\r\n          stream_ops: node.stream_ops,\r\n          // used by the file family libc calls (fopen, fwrite, ferror, etc.)\r\n          ungotten: [],\r\n          error: false\r\n        });\r\n        // call the new stream's open function\r\n        if (stream.stream_ops.open) {\r\n          stream.stream_ops.open(stream);\r\n        }\r\n        if (created) {\r\n          FS.chmod(node, mode & 0o777);\r\n        }\r\n        if (Module['logReadFiles'] && !(flags & 1)) {\r\n          if (!(path in FS.readFiles)) {\r\n            FS.readFiles[path] = 1;\r\n          }\r\n        }\r\n        return stream;\r\n      },\r\n  close(stream) {\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (stream.getdents) stream.getdents = null; // free readdir state\r\n        try {\r\n          if (stream.stream_ops.close) {\r\n            stream.stream_ops.close(stream);\r\n          }\r\n        } catch (e) {\r\n          throw e;\r\n        } finally {\r\n          FS.closeStream(stream.fd);\r\n        }\r\n        stream.fd = null;\r\n      },\r\n  isClosed(stream) {\r\n        return stream.fd === null;\r\n      },\r\n  llseek(stream, offset, whence) {\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (!stream.seekable || !stream.stream_ops.llseek) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        if (whence != 0 && whence != 1 && whence != 2) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        stream.position = stream.stream_ops.llseek(stream, offset, whence);\r\n        stream.ungotten = [];\r\n        return stream.position;\r\n      },\r\n  read(stream, buffer, offset, length, position) {\r\n        assert(offset >= 0);\r\n        if (length < 0 || position < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if ((stream.flags & 2097155) === 1) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (FS.isDir(stream.node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!stream.stream_ops.read) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        var seeking = typeof position != 'undefined';\r\n        if (!seeking) {\r\n          position = stream.position;\r\n        } else if (!stream.seekable) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        var bytesRead = stream.stream_ops.read(stream, buffer, offset, length, position);\r\n        if (!seeking) stream.position += bytesRead;\r\n        return bytesRead;\r\n      },\r\n  write(stream, buffer, offset, length, position, canOwn) {\r\n        assert(offset >= 0);\r\n        if (length < 0 || position < 0) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (FS.isClosed(stream)) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if ((stream.flags & 2097155) === 0) {\r\n          throw new FS.ErrnoError(8);\r\n        }\r\n        if (FS.isDir(stream.node.mode)) {\r\n          throw new FS.ErrnoError(31);\r\n        }\r\n        if (!stream.stream_ops.write) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        if (stream.seekable && stream.flags & 1024) {\r\n          // seek to the end before writing in append mode\r\n          FS.llseek(stream, 0, 2);\r\n        }\r\n        var seeking = typeof position != 'undefined';\r\n        if (!seeking) {\r\n          position = stream.position;\r\n        } else if (!stream.seekable) {\r\n          throw new FS.ErrnoError(70);\r\n        }\r\n        var bytesWritten = stream.stream_ops.write(stream, buffer, offset, length, position, canOwn);\r\n        if (!seeking) stream.position += bytesWritten;\r\n        return bytesWritten;\r\n      },\r\n  mmap(stream, length, position, prot, flags) {\r\n        // User requests writing to file (prot & PROT_WRITE != 0).\r\n        // Checking if we have permissions to write to the file unless\r\n        // MAP_PRIVATE flag is set. According to POSIX spec it is possible\r\n        // to write to file opened in read-only mode with MAP_PRIVATE flag,\r\n        // as all modifications will be visible only in the memory of\r\n        // the current process.\r\n        if ((prot & 2) !== 0\r\n            && (flags & 2) === 0\r\n            && (stream.flags & 2097155) !== 2) {\r\n          throw new FS.ErrnoError(2);\r\n        }\r\n        if ((stream.flags & 2097155) === 1) {\r\n          throw new FS.ErrnoError(2);\r\n        }\r\n        if (!stream.stream_ops.mmap) {\r\n          throw new FS.ErrnoError(43);\r\n        }\r\n        if (!length) {\r\n          throw new FS.ErrnoError(28);\r\n        }\r\n        return stream.stream_ops.mmap(stream, length, position, prot, flags);\r\n      },\r\n  msync(stream, buffer, offset, length, mmapFlags) {\r\n        assert(offset >= 0);\r\n        if (!stream.stream_ops.msync) {\r\n          return 0;\r\n        }\r\n        return stream.stream_ops.msync(stream, buffer, offset, length, mmapFlags);\r\n      },\r\n  ioctl(stream, cmd, arg) {\r\n        if (!stream.stream_ops.ioctl) {\r\n          throw new FS.ErrnoError(59);\r\n        }\r\n        return stream.stream_ops.ioctl(stream, cmd, arg);\r\n      },\r\n  readFile(path, opts = {}) {\r\n        opts.flags = opts.flags || 0;\r\n        opts.encoding = opts.encoding || 'binary';\r\n        if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\r\n          throw new Error(`Invalid encoding type \"${opts.encoding}\"`);\r\n        }\r\n        var ret;\r\n        var stream = FS.open(path, opts.flags);\r\n        var stat = FS.stat(path);\r\n        var length = stat.size;\r\n        var buf = new Uint8Array(length);\r\n        FS.read(stream, buf, 0, length, 0);\r\n        if (opts.encoding === 'utf8') {\r\n          ret = UTF8ArrayToString(buf);\r\n        } else if (opts.encoding === 'binary') {\r\n          ret = buf;\r\n        }\r\n        FS.close(stream);\r\n        return ret;\r\n      },\r\n  writeFile(path, data, opts = {}) {\r\n        opts.flags = opts.flags || 577;\r\n        var stream = FS.open(path, opts.flags, opts.mode);\r\n        if (typeof data == 'string') {\r\n          var buf = new Uint8Array(lengthBytesUTF8(data)+1);\r\n          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\r\n          FS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\r\n        } else if (ArrayBuffer.isView(data)) {\r\n          FS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\r\n        } else {\r\n          throw new Error('Unsupported data type');\r\n        }\r\n        FS.close(stream);\r\n      },\r\n  cwd:() => FS.currentPath,\r\n  chdir(path) {\r\n        var lookup = FS.lookupPath(path, { follow: true });\r\n        if (lookup.node === null) {\r\n          throw new FS.ErrnoError(44);\r\n        }\r\n        if (!FS.isDir(lookup.node.mode)) {\r\n          throw new FS.ErrnoError(54);\r\n        }\r\n        var errCode = FS.nodePermissions(lookup.node, 'x');\r\n        if (errCode) {\r\n          throw new FS.ErrnoError(errCode);\r\n        }\r\n        FS.currentPath = lookup.path;\r\n      },\r\n  createDefaultDirectories() {\r\n        FS.mkdir('/tmp');\r\n        FS.mkdir('/home');\r\n        FS.mkdir('/home/web_user');\r\n      },\r\n  createDefaultDevices() {\r\n        // create /dev\r\n        FS.mkdir('/dev');\r\n        // setup /dev/null\r\n        FS.registerDevice(FS.makedev(1, 3), {\r\n          read: () => 0,\r\n          write: (stream, buffer, offset, length, pos) => length,\r\n          llseek: () => 0,\r\n        });\r\n        FS.mkdev('/dev/null', FS.makedev(1, 3));\r\n        // setup /dev/tty and /dev/tty1\r\n        // stderr needs to print output using err() rather than out()\r\n        // so we register a second tty just for it.\r\n        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\r\n        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\r\n        FS.mkdev('/dev/tty', FS.makedev(5, 0));\r\n        FS.mkdev('/dev/tty1', FS.makedev(6, 0));\r\n        // setup /dev/[u]random\r\n        // use a buffer to avoid overhead of individual crypto calls per byte\r\n        var randomBuffer = new Uint8Array(1024), randomLeft = 0;\r\n        var randomByte = () => {\r\n          if (randomLeft === 0) {\r\n            randomFill(randomBuffer);\r\n            randomLeft = randomBuffer.byteLength;\r\n          }\r\n          return randomBuffer[--randomLeft];\r\n        };\r\n        FS.createDevice('/dev', 'random', randomByte);\r\n        FS.createDevice('/dev', 'urandom', randomByte);\r\n        // we're not going to emulate the actual shm device,\r\n        // just create the tmp dirs that reside in it commonly\r\n        FS.mkdir('/dev/shm');\r\n        FS.mkdir('/dev/shm/tmp');\r\n      },\r\n  createSpecialDirectories() {\r\n        // create /proc/self/fd which allows /proc/self/fd/6 => readlink gives the\r\n        // name of the stream for fd 6 (see test_unistd_ttyname)\r\n        FS.mkdir('/proc');\r\n        var proc_self = FS.mkdir('/proc/self');\r\n        FS.mkdir('/proc/self/fd');\r\n        FS.mount({\r\n          mount() {\r\n            var node = FS.createNode(proc_self, 'fd', 16895, 73);\r\n            node.stream_ops = {\r\n              llseek: MEMFS.stream_ops.llseek,\r\n            };\r\n            node.node_ops = {\r\n              lookup(parent, name) {\r\n                var fd = +name;\r\n                var stream = FS.getStreamChecked(fd);\r\n                var ret = {\r\n                  parent: null,\r\n                  mount: { mountpoint: 'fake' },\r\n                  node_ops: { readlink: () => stream.path },\r\n                  id: fd + 1,\r\n                };\r\n                ret.parent = ret; // make it look like a simple root node\r\n                return ret;\r\n              },\r\n              readdir() {\r\n                return Array.from(FS.streams.entries())\r\n                  .filter(([k, v]) => v)\r\n                  .map(([k, v]) => k.toString());\r\n              }\r\n            };\r\n            return node;\r\n          }\r\n        }, {}, '/proc/self/fd');\r\n      },\r\n  createStandardStreams(input, output, error) {\r\n        // TODO deprecate the old functionality of a single\r\n        // input / output callback and that utilizes FS.createDevice\r\n        // and instead require a unique set of stream ops\r\n  \r\n        // by default, we symlink the standard streams to the\r\n        // default tty devices. however, if the standard streams\r\n        // have been overwritten we create a unique device for\r\n        // them instead.\r\n        if (input) {\r\n          FS.createDevice('/dev', 'stdin', input);\r\n        } else {\r\n          FS.symlink('/dev/tty', '/dev/stdin');\r\n        }\r\n        if (output) {\r\n          FS.createDevice('/dev', 'stdout', null, output);\r\n        } else {\r\n          FS.symlink('/dev/tty', '/dev/stdout');\r\n        }\r\n        if (error) {\r\n          FS.createDevice('/dev', 'stderr', null, error);\r\n        } else {\r\n          FS.symlink('/dev/tty1', '/dev/stderr');\r\n        }\r\n  \r\n        // open default streams for the stdin, stdout and stderr devices\r\n        var stdin = FS.open('/dev/stdin', 0);\r\n        var stdout = FS.open('/dev/stdout', 1);\r\n        var stderr = FS.open('/dev/stderr', 1);\r\n        assert(stdin.fd === 0, `invalid handle for stdin (${stdin.fd})`);\r\n        assert(stdout.fd === 1, `invalid handle for stdout (${stdout.fd})`);\r\n        assert(stderr.fd === 2, `invalid handle for stderr (${stderr.fd})`);\r\n      },\r\n  staticInit() {\r\n        FS.nameTable = new Array(4096);\r\n  \r\n        FS.mount(MEMFS, {}, '/');\r\n  \r\n        FS.createDefaultDirectories();\r\n        FS.createDefaultDevices();\r\n        FS.createSpecialDirectories();\r\n  \r\n        FS.filesystems = {\r\n          'MEMFS': MEMFS,\r\n        };\r\n      },\r\n  init(input, output, error) {\r\n        assert(!FS.initialized, 'FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)');\r\n        FS.initialized = true;\r\n  \r\n        // Allow Module.stdin etc. to provide defaults, if none explicitly passed to us here\r\n        input ??= Module['stdin'];\r\n        output ??= Module['stdout'];\r\n        error ??= Module['stderr'];\r\n  \r\n        FS.createStandardStreams(input, output, error);\r\n      },\r\n  quit() {\r\n        FS.initialized = false;\r\n        // force-flush all streams, so we get musl std streams printed out\r\n        _fflush(0);\r\n        // close all of our streams\r\n        for (var stream of FS.streams) {\r\n          if (stream) {\r\n            FS.close(stream);\r\n          }\r\n        }\r\n      },\r\n  findObject(path, dontResolveLastLink) {\r\n        var ret = FS.analyzePath(path, dontResolveLastLink);\r\n        if (!ret.exists) {\r\n          return null;\r\n        }\r\n        return ret.object;\r\n      },\r\n  analyzePath(path, dontResolveLastLink) {\r\n        // operate from within the context of the symlink's target\r\n        try {\r\n          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n          path = lookup.path;\r\n        } catch (e) {\r\n        }\r\n        var ret = {\r\n          isRoot: false, exists: false, error: 0, name: null, path: null, object: null,\r\n          parentExists: false, parentPath: null, parentObject: null\r\n        };\r\n        try {\r\n          var lookup = FS.lookupPath(path, { parent: true });\r\n          ret.parentExists = true;\r\n          ret.parentPath = lookup.path;\r\n          ret.parentObject = lookup.node;\r\n          ret.name = PATH.basename(path);\r\n          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\r\n          ret.exists = true;\r\n          ret.path = lookup.path;\r\n          ret.object = lookup.node;\r\n          ret.name = lookup.node.name;\r\n          ret.isRoot = lookup.path === '/';\r\n        } catch (e) {\r\n          ret.error = e.errno;\r\n        };\r\n        return ret;\r\n      },\r\n  createPath(parent, path, canRead, canWrite) {\r\n        parent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n        var parts = path.split('/').reverse();\r\n        while (parts.length) {\r\n          var part = parts.pop();\r\n          if (!part) continue;\r\n          var current = PATH.join2(parent, part);\r\n          try {\r\n            FS.mkdir(current);\r\n          } catch (e) {\r\n            if (e.errno != 20) throw e;\r\n          }\r\n          parent = current;\r\n        }\r\n        return current;\r\n      },\r\n  createFile(parent, name, properties, canRead, canWrite) {\r\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n        var mode = FS_getMode(canRead, canWrite);\r\n        return FS.create(path, mode);\r\n      },\r\n  createDataFile(parent, name, data, canRead, canWrite, canOwn) {\r\n        var path = name;\r\n        if (parent) {\r\n          parent = typeof parent == 'string' ? parent : FS.getPath(parent);\r\n          path = name ? PATH.join2(parent, name) : parent;\r\n        }\r\n        var mode = FS_getMode(canRead, canWrite);\r\n        var node = FS.create(path, mode);\r\n        if (data) {\r\n          if (typeof data == 'string') {\r\n            var arr = new Array(data.length);\r\n            for (var i = 0, len = data.length; i < len; ++i) arr[i] = data.charCodeAt(i);\r\n            data = arr;\r\n          }\r\n          // make sure we can write to the file\r\n          FS.chmod(node, mode | 146);\r\n          var stream = FS.open(node, 577);\r\n          FS.write(stream, data, 0, data.length, 0, canOwn);\r\n          FS.close(stream);\r\n          FS.chmod(node, mode);\r\n        }\r\n      },\r\n  createDevice(parent, name, input, output) {\r\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\r\n        var mode = FS_getMode(!!input, !!output);\r\n        FS.createDevice.major ??= 64;\r\n        var dev = FS.makedev(FS.createDevice.major++, 0);\r\n        // Create a fake device that a set of stream ops to emulate\r\n        // the old behavior.\r\n        FS.registerDevice(dev, {\r\n          open(stream) {\r\n            stream.seekable = false;\r\n          },\r\n          close(stream) {\r\n            // flush any pending line data\r\n            if (output?.buffer?.length) {\r\n              output(10);\r\n            }\r\n          },\r\n          read(stream, buffer, offset, length, pos /* ignored */) {\r\n            var bytesRead = 0;\r\n            for (var i = 0; i < length; i++) {\r\n              var result;\r\n              try {\r\n                result = input();\r\n              } catch (e) {\r\n                throw new FS.ErrnoError(29);\r\n              }\r\n              if (result === undefined && bytesRead === 0) {\r\n                throw new FS.ErrnoError(6);\r\n              }\r\n              if (result === null || result === undefined) break;\r\n              bytesRead++;\r\n              buffer[offset+i] = result;\r\n            }\r\n            if (bytesRead) {\r\n              stream.node.atime = Date.now();\r\n            }\r\n            return bytesRead;\r\n          },\r\n          write(stream, buffer, offset, length, pos) {\r\n            for (var i = 0; i < length; i++) {\r\n              try {\r\n                output(buffer[offset+i]);\r\n              } catch (e) {\r\n                throw new FS.ErrnoError(29);\r\n              }\r\n            }\r\n            if (length) {\r\n              stream.node.mtime = stream.node.ctime = Date.now();\r\n            }\r\n            return i;\r\n          }\r\n        });\r\n        return FS.mkdev(path, mode, dev);\r\n      },\r\n  forceLoadFile(obj) {\r\n        if (obj.isDevice || obj.isFolder || obj.link || obj.contents) return true;\r\n        if (typeof XMLHttpRequest != 'undefined') {\r\n          throw new Error(\"Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.\");\r\n        } else { // Command-line.\r\n          try {\r\n            obj.contents = readBinary(obj.url);\r\n            obj.usedBytes = obj.contents.length;\r\n          } catch (e) {\r\n            throw new FS.ErrnoError(29);\r\n          }\r\n        }\r\n      },\r\n  createLazyFile(parent, name, url, canRead, canWrite) {\r\n        // Lazy chunked Uint8Array (implements get and length from Uint8Array).\r\n        // Actual getting is abstracted away for eventual reuse.\r\n        class LazyUint8Array {\r\n          lengthKnown = false;\r\n          chunks = []; // Loaded chunks. Index is the chunk number\r\n          get(idx) {\r\n            if (idx > this.length-1 || idx < 0) {\r\n              return undefined;\r\n            }\r\n            var chunkOffset = idx % this.chunkSize;\r\n            var chunkNum = (idx / this.chunkSize)|0;\r\n            return this.getter(chunkNum)[chunkOffset];\r\n          }\r\n          setDataGetter(getter) {\r\n            this.getter = getter;\r\n          }\r\n          cacheLength() {\r\n            // Find length\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('HEAD', url, false);\r\n            xhr.send(null);\r\n            if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n            var datalength = Number(xhr.getResponseHeader(\"Content-length\"));\r\n            var header;\r\n            var hasByteServing = (header = xhr.getResponseHeader(\"Accept-Ranges\")) && header === \"bytes\";\r\n            var usesGzip = (header = xhr.getResponseHeader(\"Content-Encoding\")) && header === \"gzip\";\r\n  \r\n            var chunkSize = 1024*1024; // Chunk size in bytes\r\n  \r\n            if (!hasByteServing) chunkSize = datalength;\r\n  \r\n            // Function to get a range from the remote URL.\r\n            var doXHR = (from, to) => {\r\n              if (from > to) throw new Error(\"invalid range (\" + from + \", \" + to + \") or no bytes requested!\");\r\n              if (to > datalength-1) throw new Error(\"only \" + datalength + \" bytes available! programmer error!\");\r\n  \r\n              // TODO: Use mozResponseArrayBuffer, responseStream, etc. if available.\r\n              var xhr = new XMLHttpRequest();\r\n              xhr.open('GET', url, false);\r\n              if (datalength !== chunkSize) xhr.setRequestHeader(\"Range\", \"bytes=\" + from + \"-\" + to);\r\n  \r\n              // Some hints to the browser that we want binary data.\r\n              xhr.responseType = 'arraybuffer';\r\n              if (xhr.overrideMimeType) {\r\n                xhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n              }\r\n  \r\n              xhr.send(null);\r\n              if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\r\n              if (xhr.response !== undefined) {\r\n                return new Uint8Array(/** @type{Array<number>} */(xhr.response || []));\r\n              }\r\n              return intArrayFromString(xhr.responseText || '', true);\r\n            };\r\n            var lazyArray = this;\r\n            lazyArray.setDataGetter((chunkNum) => {\r\n              var start = chunkNum * chunkSize;\r\n              var end = (chunkNum+1) * chunkSize - 1; // including this byte\r\n              end = Math.min(end, datalength-1); // if datalength-1 is selected, this is the last block\r\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\r\n                lazyArray.chunks[chunkNum] = doXHR(start, end);\r\n              }\r\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined') throw new Error('doXHR failed!');\r\n              return lazyArray.chunks[chunkNum];\r\n            });\r\n  \r\n            if (usesGzip || !datalength) {\r\n              // if the server uses gzip or doesn't supply the length, we have to download the whole file to get the (uncompressed) length\r\n              chunkSize = datalength = 1; // this will force getter(0)/doXHR do download the whole file\r\n              datalength = this.getter(0).length;\r\n              chunkSize = datalength;\r\n              out(\"LazyFiles on gzip forces download of the whole file when length is accessed\");\r\n            }\r\n  \r\n            this._length = datalength;\r\n            this._chunkSize = chunkSize;\r\n            this.lengthKnown = true;\r\n          }\r\n          get length() {\r\n            if (!this.lengthKnown) {\r\n              this.cacheLength();\r\n            }\r\n            return this._length;\r\n          }\r\n          get chunkSize() {\r\n            if (!this.lengthKnown) {\r\n              this.cacheLength();\r\n            }\r\n            return this._chunkSize;\r\n          }\r\n        }\r\n  \r\n        if (typeof XMLHttpRequest != 'undefined') {\r\n          if (!ENVIRONMENT_IS_WORKER) throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\r\n          var lazyArray = new LazyUint8Array();\r\n          var properties = { isDevice: false, contents: lazyArray };\r\n        } else {\r\n          var properties = { isDevice: false, url: url };\r\n        }\r\n  \r\n        var node = FS.createFile(parent, name, properties, canRead, canWrite);\r\n        // This is a total hack, but I want to get this lazy file code out of the\r\n        // core of MEMFS. If we want to keep this lazy file concept I feel it should\r\n        // be its own thin LAZYFS proxying calls to MEMFS.\r\n        if (properties.contents) {\r\n          node.contents = properties.contents;\r\n        } else if (properties.url) {\r\n          node.contents = null;\r\n          node.url = properties.url;\r\n        }\r\n        // Add a function that defers querying the file size until it is asked the first time.\r\n        Object.defineProperties(node, {\r\n          usedBytes: {\r\n            get: function() { return this.contents.length; }\r\n          }\r\n        });\r\n        // override each stream op with one that tries to force load the lazy file first\r\n        var stream_ops = {};\r\n        var keys = Object.keys(node.stream_ops);\r\n        keys.forEach((key) => {\r\n          var fn = node.stream_ops[key];\r\n          stream_ops[key] = (...args) => {\r\n            FS.forceLoadFile(node);\r\n            return fn(...args);\r\n          };\r\n        });\r\n        function writeChunks(stream, buffer, offset, length, position) {\r\n          var contents = stream.node.contents;\r\n          if (position >= contents.length)\r\n            return 0;\r\n          var size = Math.min(contents.length - position, length);\r\n          assert(size >= 0);\r\n          if (contents.slice) { // normal array\r\n            for (var i = 0; i < size; i++) {\r\n              buffer[offset + i] = contents[position + i];\r\n            }\r\n          } else {\r\n            for (var i = 0; i < size; i++) { // LazyUint8Array from sync binary XHR\r\n              buffer[offset + i] = contents.get(position + i);\r\n            }\r\n          }\r\n          return size;\r\n        }\r\n        // use a custom read function\r\n        stream_ops.read = (stream, buffer, offset, length, position) => {\r\n          FS.forceLoadFile(node);\r\n          return writeChunks(stream, buffer, offset, length, position)\r\n        };\r\n        // use a custom mmap function\r\n        stream_ops.mmap = (stream, length, position, prot, flags) => {\r\n          FS.forceLoadFile(node);\r\n          var ptr = mmapAlloc(length);\r\n          if (!ptr) {\r\n            throw new FS.ErrnoError(48);\r\n          }\r\n          writeChunks(stream, HEAP8, ptr, length, position);\r\n          return { ptr, allocated: true };\r\n        };\r\n        node.stream_ops = stream_ops;\r\n        return node;\r\n      },\r\n  absolutePath() {\r\n        abort('FS.absolutePath has been removed; use PATH_FS.resolve instead');\r\n      },\r\n  createFolder() {\r\n        abort('FS.createFolder has been removed; use FS.mkdir instead');\r\n      },\r\n  createLink() {\r\n        abort('FS.createLink has been removed; use FS.symlink instead');\r\n      },\r\n  joinPath() {\r\n        abort('FS.joinPath has been removed; use PATH.join instead');\r\n      },\r\n  mmapAlloc() {\r\n        abort('FS.mmapAlloc has been replaced by the top level function mmapAlloc');\r\n      },\r\n  standardizePath() {\r\n        abort('FS.standardizePath has been removed; use PATH.normalize instead');\r\n      },\r\n  };\r\n  \r\n  var SYSCALLS = {\r\n  DEFAULT_POLLMASK:5,\r\n  calculateAt(dirfd, path, allowEmpty) {\r\n        if (PATH.isAbs(path)) {\r\n          return path;\r\n        }\r\n        // relative path\r\n        var dir;\r\n        if (dirfd === -100) {\r\n          dir = FS.cwd();\r\n        } else {\r\n          var dirstream = SYSCALLS.getStreamFromFD(dirfd);\r\n          dir = dirstream.path;\r\n        }\r\n        if (path.length == 0) {\r\n          if (!allowEmpty) {\r\n            throw new FS.ErrnoError(44);;\r\n          }\r\n          return dir;\r\n        }\r\n        return dir + '/' + path;\r\n      },\r\n  writeStat(buf, stat) {\r\n        HEAP32[((buf)>>2)] = stat.dev;\r\n        HEAP32[(((buf)+(4))>>2)] = stat.mode;\r\n        HEAPU32[(((buf)+(8))>>2)] = stat.nlink;\r\n        HEAP32[(((buf)+(12))>>2)] = stat.uid;\r\n        HEAP32[(((buf)+(16))>>2)] = stat.gid;\r\n        HEAP32[(((buf)+(20))>>2)] = stat.rdev;\r\n        HEAP64[(((buf)+(24))>>3)] = BigInt(stat.size);\r\n        HEAP32[(((buf)+(32))>>2)] = 4096;\r\n        HEAP32[(((buf)+(36))>>2)] = stat.blocks;\r\n        var atime = stat.atime.getTime();\r\n        var mtime = stat.mtime.getTime();\r\n        var ctime = stat.ctime.getTime();\r\n        HEAP64[(((buf)+(40))>>3)] = BigInt(Math.floor(atime / 1000));\r\n        HEAPU32[(((buf)+(48))>>2)] = (atime % 1000) * 1000 * 1000;\r\n        HEAP64[(((buf)+(56))>>3)] = BigInt(Math.floor(mtime / 1000));\r\n        HEAPU32[(((buf)+(64))>>2)] = (mtime % 1000) * 1000 * 1000;\r\n        HEAP64[(((buf)+(72))>>3)] = BigInt(Math.floor(ctime / 1000));\r\n        HEAPU32[(((buf)+(80))>>2)] = (ctime % 1000) * 1000 * 1000;\r\n        HEAP64[(((buf)+(88))>>3)] = BigInt(stat.ino);\r\n        return 0;\r\n      },\r\n  writeStatFs(buf, stats) {\r\n        HEAP32[(((buf)+(4))>>2)] = stats.bsize;\r\n        HEAP32[(((buf)+(40))>>2)] = stats.bsize;\r\n        HEAP32[(((buf)+(8))>>2)] = stats.blocks;\r\n        HEAP32[(((buf)+(12))>>2)] = stats.bfree;\r\n        HEAP32[(((buf)+(16))>>2)] = stats.bavail;\r\n        HEAP32[(((buf)+(20))>>2)] = stats.files;\r\n        HEAP32[(((buf)+(24))>>2)] = stats.ffree;\r\n        HEAP32[(((buf)+(28))>>2)] = stats.fsid;\r\n        HEAP32[(((buf)+(44))>>2)] = stats.flags;  // ST_NOSUID\r\n        HEAP32[(((buf)+(36))>>2)] = stats.namelen;\r\n      },\r\n  doMsync(addr, stream, len, flags, offset) {\r\n        if (!FS.isFile(stream.node.mode)) {\r\n          throw new FS.ErrnoError(43);\r\n        }\r\n        if (flags & 2) {\r\n          // MAP_PRIVATE calls need not to be synced back to underlying fs\r\n          return 0;\r\n        }\r\n        var buffer = HEAPU8.slice(addr, addr + len);\r\n        FS.msync(stream, buffer, offset, len, flags);\r\n      },\r\n  getStreamFromFD(fd) {\r\n        var stream = FS.getStreamChecked(fd);\r\n        return stream;\r\n      },\r\n  varargs:undefined,\r\n  getStr(ptr) {\r\n        var ret = UTF8ToString(ptr);\r\n        return ret;\r\n      },\r\n  };\r\n  function _fd_close(fd) {\r\n  try {\r\n  \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      FS.close(stream);\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  /** @param {number=} offset */\r\n  var doReadv = (stream, iov, iovcnt, offset) => {\r\n      var ret = 0;\r\n      for (var i = 0; i < iovcnt; i++) {\r\n        var ptr = HEAPU32[((iov)>>2)];\r\n        var len = HEAPU32[(((iov)+(4))>>2)];\r\n        iov += 8;\r\n        var curr = FS.read(stream, HEAP8, ptr, len, offset);\r\n        if (curr < 0) return -1;\r\n        ret += curr;\r\n        if (curr < len) break; // nothing more to read\r\n        if (typeof offset != 'undefined') {\r\n          offset += curr;\r\n        }\r\n      }\r\n      return ret;\r\n    };\r\n  \r\n  function _fd_read(fd, iov, iovcnt, pnum) {\r\n  try {\r\n  \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      var num = doReadv(stream, iov, iovcnt);\r\n      HEAPU32[((pnum)>>2)] = num;\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  \r\n  var INT53_MAX = 9007199254740992;\r\n  \r\n  var INT53_MIN = -9007199254740992;\r\n  var bigintToI53Checked = (num) => (num < INT53_MIN || num > INT53_MAX) ? NaN : Number(num);\r\n  function _fd_seek(fd, offset, whence, newOffset) {\r\n    offset = bigintToI53Checked(offset);\r\n  \r\n  \r\n  try {\r\n  \r\n      if (isNaN(offset)) return 61;\r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      FS.llseek(stream, offset, whence);\r\n      HEAP64[((newOffset)>>3)] = BigInt(stream.position);\r\n      if (stream.getdents && offset === 0 && whence === 0) stream.getdents = null; // reset readdir state\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n    return e.errno;\r\n  }\r\n  ;\r\n  }\r\n\r\n  /** @param {number=} offset */\r\n  var doWritev = (stream, iov, iovcnt, offset) => {\r\n      var ret = 0;\r\n      for (var i = 0; i < iovcnt; i++) {\r\n        var ptr = HEAPU32[((iov)>>2)];\r\n        var len = HEAPU32[(((iov)+(4))>>2)];\r\n        iov += 8;\r\n        var curr = FS.write(stream, HEAP8, ptr, len, offset);\r\n        if (curr < 0) return -1;\r\n        ret += curr;\r\n        if (curr < len) {\r\n          // No more space to write.\r\n          break;\r\n        }\r\n        if (typeof offset != 'undefined') {\r\n          offset += curr;\r\n        }\r\n      }\r\n      return ret;\r\n    };\r\n  \r\n  function _fd_write(fd, iov, iovcnt, pnum) {\r\n  try {\r\n  \r\n      var stream = SYSCALLS.getStreamFromFD(fd);\r\n      var num = doWritev(stream, iov, iovcnt);\r\n      HEAPU32[((pnum)>>2)] = num;\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  function _random_get(buffer, size) {\r\n  try {\r\n  \r\n      randomFill(HEAPU8.subarray(buffer, buffer + size));\r\n      return 0;\r\n    } catch (e) {\r\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\r\n    return e.errno;\r\n  }\r\n  }\r\n\r\n  \r\n  var runtimeKeepaliveCounter = 0;\r\n  var keepRuntimeAlive = () => noExitRuntime || runtimeKeepaliveCounter > 0;\r\n  var _proc_exit = (code) => {\r\n      EXITSTATUS = code;\r\n      if (!keepRuntimeAlive()) {\r\n        Module['onExit']?.(code);\r\n        ABORT = true;\r\n      }\r\n      quit_(code, new ExitStatus(code));\r\n    };\r\n  \r\n  \r\n  /** @param {boolean|number=} implicit */\r\n  var exitJS = (status, implicit) => {\r\n      EXITSTATUS = status;\r\n  \r\n      checkUnflushedContent();\r\n  \r\n      // if exit() was called explicitly, warn the user if the runtime isn't actually being shut down\r\n      if (keepRuntimeAlive() && !implicit) {\r\n        var msg = `program exited (with status: ${status}), but keepRuntimeAlive() is set (counter=${runtimeKeepaliveCounter}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;\r\n        err(msg);\r\n      }\r\n  \r\n      _proc_exit(status);\r\n    };\r\n\r\n  var handleException = (e) => {\r\n      // Certain exception types we do not treat as errors since they are used for\r\n      // internal control flow.\r\n      // 1. ExitStatus, which is thrown by exit()\r\n      // 2. \"unwind\", which is thrown by emscripten_unwind_to_js_event_loop() and others\r\n      //    that wish to return to JS event loop.\r\n      if (e instanceof ExitStatus || e == 'unwind') {\r\n        return EXITSTATUS;\r\n      }\r\n      checkStackCookie();\r\n      if (e instanceof WebAssembly.RuntimeError) {\r\n        if (_emscripten_stack_get_current() <= 0) {\r\n          err('Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)');\r\n        }\r\n      }\r\n      quit_(1, e);\r\n    };\r\nembind_init_charCodes();\r\ninit_ClassHandle();\r\ninit_RegisteredPointer();\r\ninit_emval();;\r\n\r\n  FS.createPreloadedFile = FS_createPreloadedFile;\r\n  FS.staticInit();;\r\n// End JS library code\r\n\r\n// include: postlibrary.js\r\n// This file is included after the automatically-generated JS library code\r\n// but before the wasm module is created.\r\n\r\n{\r\n\r\n  // Begin ATMODULES hooks\r\n  if (Module['noExitRuntime']) noExitRuntime = Module['noExitRuntime'];\r\nif (Module['preloadPlugins']) preloadPlugins = Module['preloadPlugins'];\r\nif (Module['print']) out = Module['print'];\r\nif (Module['printErr']) err = Module['printErr'];\r\nif (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\r\n  // End ATMODULES hooks\r\n\r\n  checkIncomingModuleAPI();\r\n\r\n  if (Module['arguments']) arguments_ = Module['arguments'];\r\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\r\n\r\n  // Assertions on removed incoming Module JS APIs.\r\n  assert(typeof Module['memoryInitializerPrefixURL'] == 'undefined', 'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['pthreadMainPrefixURL'] == 'undefined', 'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['cdInitializerPrefixURL'] == 'undefined', 'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['filePackagePrefixURL'] == 'undefined', 'Module.filePackagePrefixURL option was removed, use Module.locateFile instead');\r\n  assert(typeof Module['read'] == 'undefined', 'Module.read option was removed');\r\n  assert(typeof Module['readAsync'] == 'undefined', 'Module.readAsync option was removed (modify readAsync in JS)');\r\n  assert(typeof Module['readBinary'] == 'undefined', 'Module.readBinary option was removed (modify readBinary in JS)');\r\n  assert(typeof Module['setWindowTitle'] == 'undefined', 'Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)');\r\n  assert(typeof Module['TOTAL_MEMORY'] == 'undefined', 'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY');\r\n  assert(typeof Module['ENVIRONMENT'] == 'undefined', 'Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)');\r\n  assert(typeof Module['STACK_SIZE'] == 'undefined', 'STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time')\r\n  // If memory is defined in wasm, the user can't provide it, or set INITIAL_MEMORY\r\n  assert(typeof Module['wasmMemory'] == 'undefined', 'Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally');\r\n  assert(typeof Module['INITIAL_MEMORY'] == 'undefined', 'Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically');\r\n\r\n}\r\n\r\n// Begin runtime exports\r\n  var missingLibrarySymbols = [\r\n  'writeI53ToI64',\r\n  'writeI53ToI64Clamped',\r\n  'writeI53ToI64Signaling',\r\n  'writeI53ToU64Clamped',\r\n  'writeI53ToU64Signaling',\r\n  'readI53FromI64',\r\n  'readI53FromU64',\r\n  'convertI32PairToI53',\r\n  'convertI32PairToI53Checked',\r\n  'convertU32PairToI53',\r\n  'stackAlloc',\r\n  'getTempRet0',\r\n  'setTempRet0',\r\n  'zeroMemory',\r\n  'getHeapMax',\r\n  'growMemory',\r\n  'inetPton4',\r\n  'inetNtop4',\r\n  'inetPton6',\r\n  'inetNtop6',\r\n  'readSockaddr',\r\n  'writeSockaddr',\r\n  'emscriptenLog',\r\n  'readEmAsmArgs',\r\n  'jstoi_q',\r\n  'listenOnce',\r\n  'autoResumeAudioContext',\r\n  'getDynCaller',\r\n  'dynCall',\r\n  'runtimeKeepalivePush',\r\n  'runtimeKeepalivePop',\r\n  'callUserCallback',\r\n  'maybeExit',\r\n  'asmjsMangle',\r\n  'alignMemory',\r\n  'HandleAllocator',\r\n  'getNativeTypeSize',\r\n  'addOnInit',\r\n  'addOnPostCtor',\r\n  'addOnPreMain',\r\n  'addOnExit',\r\n  'STACK_SIZE',\r\n  'STACK_ALIGN',\r\n  'POINTER_SIZE',\r\n  'ASSERTIONS',\r\n  'getCFunc',\r\n  'ccall',\r\n  'cwrap',\r\n  'uleb128Encode',\r\n  'sigToWasmTypes',\r\n  'generateFuncType',\r\n  'convertJsFunctionToWasm',\r\n  'getEmptyTableSlot',\r\n  'updateTableMap',\r\n  'getFunctionAddress',\r\n  'addFunction',\r\n  'removeFunction',\r\n  'reallyNegative',\r\n  'unSign',\r\n  'strLen',\r\n  'reSign',\r\n  'formatString',\r\n  'intArrayToString',\r\n  'AsciiToString',\r\n  'stringToAscii',\r\n  'stringToNewUTF8',\r\n  'stringToUTF8OnStack',\r\n  'writeArrayToMemory',\r\n  'registerKeyEventCallback',\r\n  'maybeCStringToJsString',\r\n  'findEventTarget',\r\n  'getBoundingClientRect',\r\n  'fillMouseEventData',\r\n  'registerMouseEventCallback',\r\n  'registerWheelEventCallback',\r\n  'registerUiEventCallback',\r\n  'registerFocusEventCallback',\r\n  'fillDeviceOrientationEventData',\r\n  'registerDeviceOrientationEventCallback',\r\n  'fillDeviceMotionEventData',\r\n  'registerDeviceMotionEventCallback',\r\n  'screenOrientation',\r\n  'fillOrientationChangeEventData',\r\n  'registerOrientationChangeEventCallback',\r\n  'fillFullscreenChangeEventData',\r\n  'registerFullscreenChangeEventCallback',\r\n  'JSEvents_requestFullscreen',\r\n  'JSEvents_resizeCanvasForFullscreen',\r\n  'registerRestoreOldStyle',\r\n  'hideEverythingExceptGivenElement',\r\n  'restoreHiddenElements',\r\n  'setLetterbox',\r\n  'softFullscreenResizeWebGLRenderTarget',\r\n  'doRequestFullscreen',\r\n  'fillPointerlockChangeEventData',\r\n  'registerPointerlockChangeEventCallback',\r\n  'registerPointerlockErrorEventCallback',\r\n  'requestPointerLock',\r\n  'fillVisibilityChangeEventData',\r\n  'registerVisibilityChangeEventCallback',\r\n  'registerTouchEventCallback',\r\n  'fillGamepadEventData',\r\n  'registerGamepadEventCallback',\r\n  'registerBeforeUnloadEventCallback',\r\n  'fillBatteryEventData',\r\n  'battery',\r\n  'registerBatteryEventCallback',\r\n  'setCanvasElementSize',\r\n  'getCanvasElementSize',\r\n  'jsStackTrace',\r\n  'getCallstack',\r\n  'convertPCtoSourceLocation',\r\n  'checkWasiClock',\r\n  'wasiRightsToMuslOFlags',\r\n  'wasiOFlagsToMuslOFlags',\r\n  'safeSetTimeout',\r\n  'setImmediateWrapped',\r\n  'safeRequestAnimationFrame',\r\n  'clearImmediateWrapped',\r\n  'registerPostMainLoop',\r\n  'registerPreMainLoop',\r\n  'getPromise',\r\n  'makePromise',\r\n  'idsToPromises',\r\n  'makePromiseCallback',\r\n  'findMatchingCatch',\r\n  'Browser_asyncPrepareDataCounter',\r\n  'isLeapYear',\r\n  'ydayFromDate',\r\n  'arraySum',\r\n  'addDays',\r\n  'getSocketFromFD',\r\n  'getSocketAddress',\r\n  'FS_mkdirTree',\r\n  '_setNetworkCallback',\r\n  'heapObjectForWebGLType',\r\n  'toTypedArrayIndex',\r\n  'webgl_enable_ANGLE_instanced_arrays',\r\n  'webgl_enable_OES_vertex_array_object',\r\n  'webgl_enable_WEBGL_draw_buffers',\r\n  'webgl_enable_WEBGL_multi_draw',\r\n  'webgl_enable_EXT_polygon_offset_clamp',\r\n  'webgl_enable_EXT_clip_control',\r\n  'webgl_enable_WEBGL_polygon_mode',\r\n  'emscriptenWebGLGet',\r\n  'computeUnpackAlignedImageSize',\r\n  'colorChannelsInGlTextureFormat',\r\n  'emscriptenWebGLGetTexPixelData',\r\n  'emscriptenWebGLGetUniform',\r\n  'webglGetUniformLocation',\r\n  'webglPrepareUniformLocationsBeforeFirstUse',\r\n  'webglGetLeftBracePos',\r\n  'emscriptenWebGLGetVertexAttrib',\r\n  '__glGetActiveAttribOrUniform',\r\n  'writeGLArray',\r\n  'registerWebGlEventCallback',\r\n  'runAndAbortIfError',\r\n  'ALLOC_NORMAL',\r\n  'ALLOC_STACK',\r\n  'allocate',\r\n  'writeStringToMemory',\r\n  'writeAsciiToMemory',\r\n  'demangle',\r\n  'stackTrace',\r\n  'getFunctionArgsName',\r\n  'createJsInvokerSignature',\r\n  'PureVirtualError',\r\n  'registerInheritedInstance',\r\n  'unregisterInheritedInstance',\r\n  'getInheritedInstanceCount',\r\n  'getLiveInheritedInstances',\r\n  'enumReadValueFromPointer',\r\n  'setDelayFunction',\r\n  'emval_get_global',\r\n  'emval_lookupTypes',\r\n  'emval_addMethodCaller',\r\n];\r\nmissingLibrarySymbols.forEach(missingLibrarySymbol)\r\n\r\n  var unexportedSymbols = [\r\n  'run',\r\n  'addRunDependency',\r\n  'removeRunDependency',\r\n  'out',\r\n  'err',\r\n  'callMain',\r\n  'abort',\r\n  'wasmMemory',\r\n  'wasmExports',\r\n  'HEAPF32',\r\n  'HEAPF64',\r\n  'HEAP8',\r\n  'HEAPU8',\r\n  'HEAP16',\r\n  'HEAPU16',\r\n  'HEAP32',\r\n  'HEAPU32',\r\n  'HEAP64',\r\n  'HEAPU64',\r\n  'writeStackCookie',\r\n  'checkStackCookie',\r\n  'INT53_MAX',\r\n  'INT53_MIN',\r\n  'bigintToI53Checked',\r\n  'stackSave',\r\n  'stackRestore',\r\n  'ptrToString',\r\n  'exitJS',\r\n  'abortOnCannotGrowMemory',\r\n  'ENV',\r\n  'setStackLimits',\r\n  'ERRNO_CODES',\r\n  'strError',\r\n  'DNS',\r\n  'Protocols',\r\n  'Sockets',\r\n  'timers',\r\n  'warnOnce',\r\n  'readEmAsmArgsArray',\r\n  'getExecutableName',\r\n  'handleException',\r\n  'keepRuntimeAlive',\r\n  'asyncLoad',\r\n  'mmapAlloc',\r\n  'wasmTable',\r\n  'noExitRuntime',\r\n  'addOnPreRun',\r\n  'addOnPostRun',\r\n  'freeTableIndexes',\r\n  'functionsInTableMap',\r\n  'setValue',\r\n  'getValue',\r\n  'PATH',\r\n  'PATH_FS',\r\n  'UTF8Decoder',\r\n  'UTF8ArrayToString',\r\n  'UTF8ToString',\r\n  'stringToUTF8Array',\r\n  'stringToUTF8',\r\n  'lengthBytesUTF8',\r\n  'intArrayFromString',\r\n  'UTF16Decoder',\r\n  'UTF16ToString',\r\n  'stringToUTF16',\r\n  'lengthBytesUTF16',\r\n  'UTF32ToString',\r\n  'stringToUTF32',\r\n  'lengthBytesUTF32',\r\n  'JSEvents',\r\n  'specialHTMLTargets',\r\n  'findCanvasEventTarget',\r\n  'currentFullscreenStrategy',\r\n  'restoreOldWindowedStyle',\r\n  'UNWIND_CACHE',\r\n  'ExitStatus',\r\n  'getEnvStrings',\r\n  'doReadv',\r\n  'doWritev',\r\n  'initRandomFill',\r\n  'randomFill',\r\n  'emSetImmediate',\r\n  'emClearImmediate_deps',\r\n  'emClearImmediate',\r\n  'promiseMap',\r\n  'uncaughtExceptionCount',\r\n  'exceptionLast',\r\n  'exceptionCaught',\r\n  'ExceptionInfo',\r\n  'Browser',\r\n  'getPreloadedImageData__data',\r\n  'wget',\r\n  'MONTH_DAYS_REGULAR',\r\n  'MONTH_DAYS_LEAP',\r\n  'MONTH_DAYS_REGULAR_CUMULATIVE',\r\n  'MONTH_DAYS_LEAP_CUMULATIVE',\r\n  'SYSCALLS',\r\n  'preloadPlugins',\r\n  'FS_createPreloadedFile',\r\n  'FS_modeStringToFlags',\r\n  'FS_getMode',\r\n  'FS_stdin_getChar_buffer',\r\n  'FS_stdin_getChar',\r\n  'FS_unlink',\r\n  'FS_createPath',\r\n  'FS_createDevice',\r\n  'FS_readFile',\r\n  'FS',\r\n  'FS_root',\r\n  'FS_mounts',\r\n  'FS_devices',\r\n  'FS_streams',\r\n  'FS_nextInode',\r\n  'FS_nameTable',\r\n  'FS_currentPath',\r\n  'FS_initialized',\r\n  'FS_ignorePermissions',\r\n  'FS_filesystems',\r\n  'FS_syncFSRequests',\r\n  'FS_readFiles',\r\n  'FS_lookupPath',\r\n  'FS_getPath',\r\n  'FS_hashName',\r\n  'FS_hashAddNode',\r\n  'FS_hashRemoveNode',\r\n  'FS_lookupNode',\r\n  'FS_createNode',\r\n  'FS_destroyNode',\r\n  'FS_isRoot',\r\n  'FS_isMountpoint',\r\n  'FS_isFile',\r\n  'FS_isDir',\r\n  'FS_isLink',\r\n  'FS_isChrdev',\r\n  'FS_isBlkdev',\r\n  'FS_isFIFO',\r\n  'FS_isSocket',\r\n  'FS_flagsToPermissionString',\r\n  'FS_nodePermissions',\r\n  'FS_mayLookup',\r\n  'FS_mayCreate',\r\n  'FS_mayDelete',\r\n  'FS_mayOpen',\r\n  'FS_checkOpExists',\r\n  'FS_nextfd',\r\n  'FS_getStreamChecked',\r\n  'FS_getStream',\r\n  'FS_createStream',\r\n  'FS_closeStream',\r\n  'FS_dupStream',\r\n  'FS_doSetAttr',\r\n  'FS_chrdev_stream_ops',\r\n  'FS_major',\r\n  'FS_minor',\r\n  'FS_makedev',\r\n  'FS_registerDevice',\r\n  'FS_getDevice',\r\n  'FS_getMounts',\r\n  'FS_syncfs',\r\n  'FS_mount',\r\n  'FS_unmount',\r\n  'FS_lookup',\r\n  'FS_mknod',\r\n  'FS_statfs',\r\n  'FS_statfsStream',\r\n  'FS_statfsNode',\r\n  'FS_create',\r\n  'FS_mkdir',\r\n  'FS_mkdev',\r\n  'FS_symlink',\r\n  'FS_rename',\r\n  'FS_rmdir',\r\n  'FS_readdir',\r\n  'FS_readlink',\r\n  'FS_stat',\r\n  'FS_fstat',\r\n  'FS_lstat',\r\n  'FS_doChmod',\r\n  'FS_chmod',\r\n  'FS_lchmod',\r\n  'FS_fchmod',\r\n  'FS_doChown',\r\n  'FS_chown',\r\n  'FS_lchown',\r\n  'FS_fchown',\r\n  'FS_doTruncate',\r\n  'FS_truncate',\r\n  'FS_ftruncate',\r\n  'FS_utime',\r\n  'FS_open',\r\n  'FS_close',\r\n  'FS_isClosed',\r\n  'FS_llseek',\r\n  'FS_read',\r\n  'FS_write',\r\n  'FS_mmap',\r\n  'FS_msync',\r\n  'FS_ioctl',\r\n  'FS_writeFile',\r\n  'FS_cwd',\r\n  'FS_chdir',\r\n  'FS_createDefaultDirectories',\r\n  'FS_createDefaultDevices',\r\n  'FS_createSpecialDirectories',\r\n  'FS_createStandardStreams',\r\n  'FS_staticInit',\r\n  'FS_init',\r\n  'FS_quit',\r\n  'FS_findObject',\r\n  'FS_analyzePath',\r\n  'FS_createFile',\r\n  'FS_createDataFile',\r\n  'FS_forceLoadFile',\r\n  'FS_createLazyFile',\r\n  'FS_absolutePath',\r\n  'FS_createFolder',\r\n  'FS_createLink',\r\n  'FS_joinPath',\r\n  'FS_mmapAlloc',\r\n  'FS_standardizePath',\r\n  'MEMFS',\r\n  'TTY',\r\n  'PIPEFS',\r\n  'SOCKFS',\r\n  'tempFixedLengthArray',\r\n  'miniTempWebGLFloatBuffers',\r\n  'miniTempWebGLIntBuffers',\r\n  'GL',\r\n  'AL',\r\n  'GLUT',\r\n  'EGL',\r\n  'GLEW',\r\n  'IDBStore',\r\n  'SDL',\r\n  'SDL_gfx',\r\n  'allocateUTF8',\r\n  'allocateUTF8OnStack',\r\n  'print',\r\n  'printErr',\r\n  'jstoi_s',\r\n  'InternalError',\r\n  'BindingError',\r\n  'throwInternalError',\r\n  'throwBindingError',\r\n  'registeredTypes',\r\n  'awaitingDependencies',\r\n  'typeDependencies',\r\n  'tupleRegistrations',\r\n  'structRegistrations',\r\n  'sharedRegisterType',\r\n  'whenDependentTypesAreResolved',\r\n  'embind_charCodes',\r\n  'embind_init_charCodes',\r\n  'readLatin1String',\r\n  'getTypeName',\r\n  'getFunctionName',\r\n  'heap32VectorToArray',\r\n  'requireRegisteredType',\r\n  'usesDestructorStack',\r\n  'checkArgCount',\r\n  'getRequiredArgCount',\r\n  'createJsInvoker',\r\n  'UnboundTypeError',\r\n  'GenericWireTypeSize',\r\n  'EmValType',\r\n  'EmValOptionalType',\r\n  'throwUnboundTypeError',\r\n  'ensureOverloadTable',\r\n  'exposePublicSymbol',\r\n  'replacePublicSymbol',\r\n  'createNamedFunction',\r\n  'embindRepr',\r\n  'registeredInstances',\r\n  'getBasestPointer',\r\n  'getInheritedInstance',\r\n  'registeredPointers',\r\n  'registerType',\r\n  'integerReadValueFromPointer',\r\n  'floatReadValueFromPointer',\r\n  'readPointer',\r\n  'runDestructors',\r\n  'craftInvokerFunction',\r\n  'embind__requireFunction',\r\n  'genericPointerToWireType',\r\n  'constNoSmartPtrRawPointerToWireType',\r\n  'nonConstNoSmartPtrRawPointerToWireType',\r\n  'init_RegisteredPointer',\r\n  'RegisteredPointer',\r\n  'RegisteredPointer_fromWireType',\r\n  'runDestructor',\r\n  'releaseClassHandle',\r\n  'finalizationRegistry',\r\n  'detachFinalizer_deps',\r\n  'detachFinalizer',\r\n  'attachFinalizer',\r\n  'makeClassHandle',\r\n  'init_ClassHandle',\r\n  'ClassHandle',\r\n  'throwInstanceAlreadyDeleted',\r\n  'deletionQueue',\r\n  'flushPendingDeletes',\r\n  'delayFunction',\r\n  'RegisteredClass',\r\n  'shallowCopyInternalPointer',\r\n  'downcastPointer',\r\n  'upcastPointer',\r\n  'validateThis',\r\n  'char_0',\r\n  'char_9',\r\n  'makeLegalFunctionName',\r\n  'emval_freelist',\r\n  'emval_handles',\r\n  'emval_symbols',\r\n  'init_emval',\r\n  'count_emval_handles',\r\n  'getStringOrSymbol',\r\n  'Emval',\r\n  'emval_returnValue',\r\n  'emval_methodCallers',\r\n  'reflectConstruct',\r\n];\r\nunexportedSymbols.forEach(unexportedRuntimeSymbol);\r\n\r\n  // End runtime exports\r\n  // Begin JS library exports\r\n  // End JS library exports\r\n\r\n// end include: postlibrary.js\r\n\r\nfunction checkIncomingModuleAPI() {\r\n  ignoredModuleProp('fetchSettings');\r\n}\r\nvar wasmImports = {\r\n  /** @export */\r\n  __assert_fail: ___assert_fail,\r\n  /** @export */\r\n  __cxa_throw: ___cxa_throw,\r\n  /** @export */\r\n  __handle_stack_overflow: ___handle_stack_overflow,\r\n  /** @export */\r\n  _abort_js: __abort_js,\r\n  /** @export */\r\n  _embind_finalize_value_object: __embind_finalize_value_object,\r\n  /** @export */\r\n  _embind_register_bigint: __embind_register_bigint,\r\n  /** @export */\r\n  _embind_register_bool: __embind_register_bool,\r\n  /** @export */\r\n  _embind_register_class: __embind_register_class,\r\n  /** @export */\r\n  _embind_register_class_constructor: __embind_register_class_constructor,\r\n  /** @export */\r\n  _embind_register_class_function: __embind_register_class_function,\r\n  /** @export */\r\n  _embind_register_class_property: __embind_register_class_property,\r\n  /** @export */\r\n  _embind_register_emval: __embind_register_emval,\r\n  /** @export */\r\n  _embind_register_float: __embind_register_float,\r\n  /** @export */\r\n  _embind_register_function: __embind_register_function,\r\n  /** @export */\r\n  _embind_register_integer: __embind_register_integer,\r\n  /** @export */\r\n  _embind_register_memory_view: __embind_register_memory_view,\r\n  /** @export */\r\n  _embind_register_optional: __embind_register_optional,\r\n  /** @export */\r\n  _embind_register_std_string: __embind_register_std_string,\r\n  /** @export */\r\n  _embind_register_std_wstring: __embind_register_std_wstring,\r\n  /** @export */\r\n  _embind_register_value_object: __embind_register_value_object,\r\n  /** @export */\r\n  _embind_register_value_object_field: __embind_register_value_object_field,\r\n  /** @export */\r\n  _embind_register_void: __embind_register_void,\r\n  /** @export */\r\n  _emval_as: __emval_as,\r\n  /** @export */\r\n  _emval_decref: __emval_decref,\r\n  /** @export */\r\n  _emval_get_property: __emval_get_property,\r\n  /** @export */\r\n  _emval_new_cstring: __emval_new_cstring,\r\n  /** @export */\r\n  _emval_run_destructors: __emval_run_destructors,\r\n  /** @export */\r\n  _emval_take_value: __emval_take_value,\r\n  /** @export */\r\n  _tzset_js: __tzset_js,\r\n  /** @export */\r\n  emscripten_resize_heap: _emscripten_resize_heap,\r\n  /** @export */\r\n  environ_get: _environ_get,\r\n  /** @export */\r\n  environ_sizes_get: _environ_sizes_get,\r\n  /** @export */\r\n  fd_close: _fd_close,\r\n  /** @export */\r\n  fd_read: _fd_read,\r\n  /** @export */\r\n  fd_seek: _fd_seek,\r\n  /** @export */\r\n  fd_write: _fd_write,\r\n  /** @export */\r\n  random_get: _random_get\r\n};\r\nvar wasmExports;\r\ncreateWasm();\r\nvar ___wasm_call_ctors = createExportWrapper('__wasm_call_ctors', 0);\r\nvar ___getTypeName = createExportWrapper('__getTypeName', 1);\r\nvar _main = Module['_main'] = createExportWrapper('main', 2);\r\nvar _free = createExportWrapper('free', 1);\r\nvar _fflush = createExportWrapper('fflush', 1);\r\nvar _emscripten_stack_get_end = () => (_emscripten_stack_get_end = wasmExports['emscripten_stack_get_end'])();\r\nvar _emscripten_stack_get_base = () => (_emscripten_stack_get_base = wasmExports['emscripten_stack_get_base'])();\r\nvar _malloc = createExportWrapper('malloc', 1);\r\nvar _strerror = createExportWrapper('strerror', 1);\r\nvar _emscripten_stack_init = () => (_emscripten_stack_init = wasmExports['emscripten_stack_init'])();\r\nvar _emscripten_stack_get_free = () => (_emscripten_stack_get_free = wasmExports['emscripten_stack_get_free'])();\r\nvar __emscripten_stack_restore = (a0) => (__emscripten_stack_restore = wasmExports['_emscripten_stack_restore'])(a0);\r\nvar __emscripten_stack_alloc = (a0) => (__emscripten_stack_alloc = wasmExports['_emscripten_stack_alloc'])(a0);\r\nvar _emscripten_stack_get_current = () => (_emscripten_stack_get_current = wasmExports['emscripten_stack_get_current'])();\r\nvar ___set_stack_limits = Module['___set_stack_limits'] = createExportWrapper('__set_stack_limits', 2);\r\n\r\n\r\n// include: postamble.js\r\n// === Auto-generated postamble setup entry stuff ===\r\n\r\nvar calledRun;\r\n\r\nfunction callMain() {\r\n  assert(runDependencies == 0, 'cannot call main when async dependencies remain! (listen on Module[\"onRuntimeInitialized\"])');\r\n  assert(typeof onPreRuns === 'undefined' || onPreRuns.length == 0, 'cannot call main when preRun functions remain to be called');\r\n\r\n  var entryFunction = _main;\r\n\r\n  var argc = 0;\r\n  var argv = 0;\r\n\r\n  try {\r\n\r\n    var ret = entryFunction(argc, argv);\r\n\r\n    // if we're not running an evented main loop, it's time to exit\r\n    exitJS(ret, /* implicit = */ true);\r\n    return ret;\r\n  } catch (e) {\r\n    return handleException(e);\r\n  }\r\n}\r\n\r\nfunction stackCheckInit() {\r\n  // This is normally called automatically during __wasm_call_ctors but need to\r\n  // get these values before even running any of the ctors so we call it redundantly\r\n  // here.\r\n  _emscripten_stack_init();\r\n  // TODO(sbc): Move writeStackCookie to native to to avoid this.\r\n  writeStackCookie();\r\n}\r\n\r\nfunction run() {\r\n\r\n  if (runDependencies > 0) {\r\n    dependenciesFulfilled = run;\r\n    return;\r\n  }\r\n\r\n  stackCheckInit();\r\n\r\n  preRun();\r\n\r\n  // a preRun added a dependency, run will be called later\r\n  if (runDependencies > 0) {\r\n    dependenciesFulfilled = run;\r\n    return;\r\n  }\r\n\r\n  function doRun() {\r\n    // run may have just been called through dependencies being fulfilled just in this very frame,\r\n    // or while the async setStatus time below was happening\r\n    assert(!calledRun);\r\n    calledRun = true;\r\n    Module['calledRun'] = true;\r\n\r\n    if (ABORT) return;\r\n\r\n    initRuntime();\r\n\r\n    preMain();\r\n\r\n    Module['onRuntimeInitialized']?.();\r\n    consumedModuleProp('onRuntimeInitialized');\r\n\r\n    var noInitialRun = Module['noInitialRun'] || false;\r\n    if (!noInitialRun) callMain();\r\n\r\n    postRun();\r\n  }\r\n\r\n  if (Module['setStatus']) {\r\n    Module['setStatus']('Running...');\r\n    setTimeout(() => {\r\n      setTimeout(() => Module['setStatus'](''), 1);\r\n      doRun();\r\n    }, 1);\r\n  } else\r\n  {\r\n    doRun();\r\n  }\r\n  checkStackCookie();\r\n}\r\n\r\nfunction checkUnflushedContent() {\r\n  // Compiler settings do not allow exiting the runtime, so flushing\r\n  // the streams is not possible. but in ASSERTIONS mode we check\r\n  // if there was something to flush, and if so tell the user they\r\n  // should request that the runtime be exitable.\r\n  // Normally we would not even include flush() at all, but in ASSERTIONS\r\n  // builds we do so just for this check, and here we see if there is any\r\n  // content to flush, that is, we check if there would have been\r\n  // something a non-ASSERTIONS build would have not seen.\r\n  // How we flush the streams depends on whether we are in SYSCALLS_REQUIRE_FILESYSTEM=0\r\n  // mode (which has its own special function for this; otherwise, all\r\n  // the code is inside libc)\r\n  var oldOut = out;\r\n  var oldErr = err;\r\n  var has = false;\r\n  out = err = (x) => {\r\n    has = true;\r\n  }\r\n  try { // it doesn't matter if it fails\r\n    _fflush(0);\r\n    // also flush in the JS FS layer\r\n    ['stdout', 'stderr'].forEach((name) => {\r\n      var info = FS.analyzePath('/dev/' + name);\r\n      if (!info) return;\r\n      var stream = info.object;\r\n      var rdev = stream.rdev;\r\n      var tty = TTY.ttys[rdev];\r\n      if (tty?.output?.length) {\r\n        has = true;\r\n      }\r\n    });\r\n  } catch(e) {}\r\n  out = oldOut;\r\n  err = oldErr;\r\n  if (has) {\r\n    warnOnce('stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.');\r\n  }\r\n}\r\n\r\nfunction preInit() {\r\n  if (Module['preInit']) {\r\n    if (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\r\n    while (Module['preInit'].length > 0) {\r\n      Module['preInit'].shift()();\r\n    }\r\n  }\r\n  consumedModuleProp('preInit');\r\n}\r\n\r\npreInit();\r\nrun();\r\n\r\n// end include: postamble.js\r\n\r\n","// filepath: d:\\GitHub\\wasm-boids\\src\\components\\Settings.vue\r\n<template>\r\n  <div class=\"settings\">\r\n    <div class=\"setting-row\">\r\n      <label>群れの数<br> (Flock Size):</label>\r\n      <input type=\"range\" v-model.number=\"settings.flockSize\" min=\"10\" max=\"10000\" step=\"1\" />\r\n      <span>{{ settings.flockSize }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>凝集<br> (Cohesion):</label>\r\n      <input type=\"range\" v-model.number=\"settings.cohesion\" min=\"0\" max=\"10\" step=\"0.01\" />\r\n      <span>{{ settings.cohesion }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>凝集範囲<br> (Cohesion Range):</label>\r\n      <input type=\"range\" v-model.number=\"settings.cohesionRange\" min=\"1\" max=\"300\" step=\"1\" />\r\n      <span>{{ settings.cohesionRange }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>分離<br> (Separation):</label>\r\n      <input type=\"range\" v-model.number=\"settings.separation\" min=\"0\" max=\"10\" step=\"0.01\" />\r\n      <span>{{ settings.separation }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>分離範囲<br> (Separation Range):</label>\r\n      <input type=\"range\" v-model.number=\"settings.separationRange\" min=\"1\" max=\"100\" step=\"1\" />\r\n      <span>{{ settings.separationRange }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>整列<br> (Alignment):</label>\r\n      <input type=\"range\" v-model.number=\"settings.alignment\" min=\"0\" max=\"10\" step=\"0.01\" />\r\n      <span>{{ settings.alignment }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>整列範囲<br> (Alignment Range):</label>\r\n      <input type=\"range\" v-model.number=\"settings.alignmentRange\" min=\"1\" max=\"100\" step=\"1\" />\r\n      <span>{{ settings.alignmentRange }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>最大速度:<br> (Max Speed):</label>\r\n      <input type=\"range\" v-model.number=\"settings.maxSpeed\" min=\"0.1\" max=\"1\" step=\"0.01\" />\r\n      <span>{{ settings.maxSpeed }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>最大旋回角:<br> (Max Turn Angle):</label>\r\n      <input type=\"range\" v-model.number=\"settings.maxTurnAngle\" min=\"0.001\" max=\"0.2\" step=\"0.001\" />\r\n      <span>{{ settings.maxTurnAngle }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>最大近傍数<br>(Max Neighbors):</label>\r\n      <input type=\"range\" v-model.number=\"settings.maxNeighbors\" min=\"1\" max=\"32\" step=\"1\" />\r\n      <span>{{ settings.maxNeighbors }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>吸引減衰λ<br>(Lambda):</label>\r\n      <input type=\"range\" v-model.number=\"settings.lambda\" min=\"0.001\" max=\"0.2\" step=\"0.001\" />\r\n      <span>{{ settings.lambda }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>水平化トルク<br>(Horizontal Torque):</label>\r\n      <input type=\"range\" v-model.number=\"settings.horizontalTorque\" min=\"0.001\" max=\"0.2\" step=\"0.001\" />\r\n      <span>{{ settings.horizontalTorque }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>速度閾値ε<br>(Velocity Epsilon):</label>\r\n      <input type=\"range\" v-model.number=\"settings.velocityEpsilon\" min=\"0.00001\" max=\"0.01\" step=\"0.00001\" />\r\n      <span>{{ settings.velocityEpsilon }}</span>\r\n    </div>\r\n    <div class=\"setting-row\">\r\n      <label>回転トルク強度<br>(Torque Strength):</label>\r\n      <input type=\"range\" v-model.number=\"settings.torqueStrength\" min=\"0.001\" max=\"5\" step=\"0.001\" />\r\n      <span>{{ settings.torqueStrength }}</span>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    settings: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.settings {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  min-width: 260px;\r\n  max-width: 520px;\r\n  box-sizing: border-box;\r\n}\r\n.setting-row {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  width: 100%;\r\n}\r\n.setting-row label {\r\n  width: 130px;           /* ← 幅を固定して左端を揃える */\r\n  text-align: left;\r\n  margin-right: 10px;\r\n  flex-shrink: 0;\r\n  display: inline-block;\r\n}\r\n.setting-row input[type=\"range\"] {\r\n  width: 120px;           /* 全スライダーで統一 */\r\n  min-width: 80px;\r\n  max-width: 200px;\r\n  margin: 0 10px;\r\n  flex: none;\r\n  display: inline-block;\r\n}\r\n.setting-row span {\r\n  width: 60px;\r\n  text-align: left;\r\n  display: inline-block;\r\n  flex-shrink: 0;\r\n}\r\n</style>","import { render } from \"./Settings.vue?vue&type=template&id=77f3b666&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=77f3b666&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-77f3b666\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"app\">\r\n    <div class=\"ui-overlay\">\r\n      <h1>Boids Simulation</h1>\r\n      <details>\r\n        <summary>Settings</summary>\r\n        <Settings :settings=\"settings\" />\r\n        <button @click=\"resetSettings\" style=\"margin-bottom:1em;\">リセット</button>\r\n        <div>\r\n          <label>\r\n            <input type=\"checkbox\" v-model=\"showUnits\" />\r\n            Unit可視化\r\n          </label>\r\n          <label style=\"margin-left:1em;\">\r\n            <input type=\"checkbox\" v-model=\"showUnitSpheres\" />\r\n            スフィアのみ表示\r\n          </label>\r\n          <label style=\"margin-left:1em;\">\r\n            <input type=\"checkbox\" v-model=\"showUnitLines\" />\r\n            線のみ表示\r\n          </label>\r\n          <label style=\"margin-left:1em;\">\r\n            表示レイヤ下限: <input type=\"range\" min=\"1\" max=\"20\" v-model=\"unitLayer\" />\r\n            {{ unitLayer }}\r\n          </label>\r\n        </div>\r\n      </details>\r\n      <div class=\"info\">\r\n        <p>Boids Count: {{ settings.flockSize }}</p>\r\n      </div>\r\n    </div>\r\n    <div ref=\"threeContainer\" class=\"three-container\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, onMounted, reactive, ref, watch, toRaw } from 'vue';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport Settings from './components/Settings.vue';\r\nimport Stats from 'three/examples/jsm/libs/stats.module'\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { SSAOPass } from 'three/examples/jsm/postprocessing/SSAOPass.js';\r\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\r\n\r\nconst wasmModule = inject('wasmModule');\r\nif (!wasmModule) {\r\n  console.error('wasmModule not provided');\r\n}\r\n\r\nconst posPtr = wasmModule.cwrap('posPtr', 'number', [])\r\nconst velPtr = wasmModule.cwrap('velPtr', 'number', [])\r\nconst boidCount = wasmModule.cwrap('boidCount', 'number', [])\r\nconst initBoids = wasmModule.cwrap('initBoids', 'void', ['number', 'number', 'number'])\r\nconst build = wasmModule.cwrap('build', 'void', ['number', 'number'])\r\nconst update = wasmModule.cwrap('update', 'void', ['number'])\r\nconst setFlockSize = wasmModule.cwrap('setFlockSize', 'void', ['number', 'number', 'number'])\r\nconst exportTreeStructure = wasmModule.cwrap('exportTreeStructure', 'object', []);\r\n// const getUnitCount = wasmModule.cwrap('getUnitCount', 'number', []);\r\n// const getUnitCentersPtr = wasmModule.cwrap('getUnitCentersPtr', 'number', []);\r\n// const getUnitParentIndicesPtr = wasmModule.cwrap('getUnitParentIndicesPtr', 'number', []);\r\n\r\nfunction fetchTreeStructure() {\r\n  const treeData = exportTreeStructure();\r\n  return treeData;\r\n}\r\n\r\nconst DEFAULT_SETTINGS = {\r\n  flockSize: 5118,         // 群れの数\r\n  cohesion: 9.04,          // 凝集\r\n  cohesionRange: 140,      // 凝集範囲\r\n  separation: 10,          // 分離\r\n  separationRange: 6,      // 分離範囲\r\n  alignment: 8.5,          // 整列\r\n  alignmentRange: 35,      // 整列範囲\r\n  maxSpeed: 0.27,          // 最大速度\r\n  maxTurnAngle: 0.047,     // 最大旋回角\r\n  maxNeighbors: 4,         // 最大近傍数\r\n  lambda: 0.109,           // 吸引減衰 λ\r\n  horizontalTorque: 0.004, // 水平化トルク\r\n  velocityEpsilon: 0.004,  // 速度閾値 ε\r\n  torqueStrength: 3.398    // 回転トルク強度\r\n};\r\n\r\nfunction loadSettings() {\r\n  const saved = localStorage.getItem('boids_settings');\r\n  if (saved) {\r\n    try {\r\n      return { ...DEFAULT_SETTINGS, ...JSON.parse(saved) };\r\n    } catch {\r\n      return { ...DEFAULT_SETTINGS };\r\n    }\r\n  }\r\n  return { ...DEFAULT_SETTINGS };\r\n}\r\n\r\nconst settings = reactive(loadSettings());\r\n\r\nconst threeContainer = ref(null);\r\nlet scene, camera, renderer, controls, composer;\r\n\r\nconst paused = ref(false);\r\n\r\nconst showUnits = ref(true);\r\nconst showUnitSpheres = ref(false);\r\nconst showUnitLines = ref(false);\r\nconst unitLayer = ref(1);\r\n\r\nlet unitSpheres = [];\r\nlet unitLines = [];\r\n\r\nlet maxDepth = 1;\r\nlet stats = null;\r\n\r\nlet animationTimer = null;\r\nconst FRAME_INTERVAL = 1000 / 60;//1000 / 60; // 60FPS\r\n\r\n// ツリーの最大深さを計算\r\nfunction calcMaxDepth(unit, depth = 0) {\r\n  if (!unit || !unit.children || typeof unit.children.size !== 'function' || unit.children.size() === 0) {\r\n    return depth;\r\n  }\r\n  let max = depth;\r\n  for (let i = 0; i < unit.children.size(); i++) {\r\n    const child = unit.children.get(i);\r\n    max = Math.max(max, calcMaxDepth(child, depth + 1));\r\n  }\r\n  return max;\r\n}\r\n\r\nfunction handleKeydown(e) {\r\n  if (e.code === 'Space') {\r\n    paused.value = !paused.value;\r\n  }\r\n}\r\n\r\nfunction initThreeJS() {\r\n  const width = window.innerWidth;\r\n  const height = window.innerHeight;\r\n\r\n  scene = new THREE.Scene();\r\n  scene.background = new THREE.Color(0x0a1e3a);\r\n  scene.fog = new THREE.Fog(0x0a1e3a, 10, 500);\r\n\r\n  camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\r\n  camera.position.set(20, 40, 40);\r\n  camera.lookAt(0, 0, 0);\r\n\r\n  renderer = new THREE.WebGLRenderer({\r\n    antialias: true,\r\n  });\r\n  renderer.setPixelRatio(window.devicePixelRatio); // 高DPI対応\r\n  renderer.setSize(width, height);\r\n  renderer.shadowMap.enabled = true;\r\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap; // 影を柔らかく\r\n\r\n  threeContainer.value.appendChild(renderer.domElement);\r\n\r\n  camera.aspect = width / height;\r\n  camera.updateProjectionMatrix();\r\n\r\n  controls = new OrbitControls(camera, renderer.domElement);\r\n  controls.enableDamping = true; // なめらかな操作\r\n  controls.dampingFactor = 0.1;\r\n\r\n  // 地面メッシュ追加\r\n  const groundGeo = new THREE.PlaneGeometry(1000, 1000);\r\n  const groundMat = new THREE.MeshStandardMaterial({ color: 0x183050, roughness: 0.8 });\r\n  const ground = new THREE.Mesh(groundGeo, groundMat);\r\n  ground.rotation.x = -Math.PI / 2;\r\n  ground.position.y = -80;\r\n  ground.receiveShadow = true; // 影を受ける\r\n  scene.add(ground);\r\n\r\n  // ライト\r\n  const ambientLight = new THREE.AmbientLight(0xffffff, 1.2);\r\n  scene.add(ambientLight);\r\n\r\n  // 太陽光（やや暖色のDirectionalLight）\r\n  const dirLight = new THREE.DirectionalLight(0xfff2cc, 1.5); // 暖色＆強め\r\n  dirLight.position.set(300, 500, 200); // 高い位置から照らす\r\n  dirLight.castShadow = true;\r\n\r\n  // 影カメラの範囲を広げる\r\n  dirLight.shadow.camera.left = -500;\r\n  dirLight.shadow.camera.right = 500;\r\n  dirLight.shadow.camera.top = 500;\r\n  dirLight.shadow.camera.bottom = -500;\r\n  dirLight.shadow.camera.near = 1;\r\n  dirLight.shadow.camera.far = 2000;\r\n\r\n  dirLight.shadow.mapSize.width = 2048;\r\n  dirLight.shadow.mapSize.height = 2048;\r\n  dirLight.shadow.bias = -0.001;\r\n  dirLight.shadow.normalBias = 0.01;\r\n\r\n  scene.add(dirLight);\r\n  // EffectComposer の初期化（スマホ以外の場合のみ）\r\n  if (!isMobileDevice()) {\r\n    // EffectComposer の初期化\r\n    composer = new EffectComposer(renderer);\r\n\r\n    // RenderPass を追加\r\n    const renderPass = new RenderPass(scene, camera);\r\n    composer.addPass(renderPass);\r\n\r\n    const ssaoPass = new SSAOPass(scene, camera, width, height);\r\n    ssaoPass.kernelRadius = 8; // サンプル半径（大きくすると効果が広がる）\r\n    ssaoPass.minDistance = 0.001; // 最小距離（小さくすると近距離の効果が強調される）\r\n    ssaoPass.maxDistance = 0.01; // 最大距離（大きくすると遠距離の効果が強調される）\r\n    composer.addPass(ssaoPass);\r\n\r\n    // UnrealBloomPass を追加（任意）\r\n    const bloomPass = new UnrealBloomPass(new THREE.Vector2(width, height), 1.5, 0.4, 0.85);\r\n    composer.addPass(bloomPass);\r\n  }\r\n  // ウィンドウリサイズ対応\r\n  window.addEventListener('resize', onWindowResize);\r\n}\r\n\r\nfunction onWindowResize() {\r\n  const width = window.innerWidth;\r\n  const height = window.innerHeight;\r\n  camera.aspect = width / height;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(width, height);\r\n}\r\n\r\nlet instancedMeshHigh = null; // 高ポリゴン用\r\nlet instancedMeshLow = null;  // 低ポリゴン用\r\n\r\n// LOD用ジオメトリ・マテリアルを使い回す\r\nconst boidGeometryHigh = new THREE.SphereGeometry(1, 8, 8);\r\nconst boidGeometryLow = new THREE.SphereGeometry(1, 3, 2);\r\nconst boidMaterial = new THREE.MeshStandardMaterial({ color: 0x1fb5ff });\r\nboidGeometryHigh.scale(0.5, 0.5, 2.0); // 少し小さくする\r\nboidGeometryLow.scale(0.5, 0.5, 2.0); // 少し小さくする\r\n\r\nfunction initInstancedBoids(count) {\r\n  if (instancedMeshHigh) {\r\n    scene.remove(instancedMeshHigh);\r\n  }\r\n  if (instancedMeshLow) {\r\n    scene.remove(instancedMeshLow);\r\n  }\r\n\r\n  const material = boidMaterial;\r\n\r\n  // 高ポリゴンメッシュ\r\n  instancedMeshHigh = new THREE.InstancedMesh(boidGeometryHigh, material, count);\r\n  instancedMeshHigh.castShadow = true;\r\n  instancedMeshHigh.receiveShadow = true;\r\n\r\n  // 低ポリゴンメッシュ\r\n  instancedMeshLow = new THREE.InstancedMesh(boidGeometryLow, material, count);\r\n  instancedMeshLow.castShadow = true;\r\n  instancedMeshLow.receiveShadow = true;\r\n\r\n  scene.add(instancedMeshHigh);\r\n  scene.add(instancedMeshLow);\r\n}\r\n\r\nfunction clearUnitVisuals() {\r\n  for (const mesh of unitSpheres) scene.remove(mesh);\r\n  for (const line of unitLines) scene.remove(line);\r\n  unitSpheres = [];\r\n  unitLines = [];\r\n}\r\n\r\n// レイヤ制限付き再帰描画\r\nfunction drawUnitTree(unit, layer = 0) {\r\n  // スフィア: スライダで制御\r\n  if (\r\n    layer >= (maxDepth - unitLayer.value + 1) &&\r\n    (unit.children == null || unit.children.size() === 0 || layer === maxDepth)\r\n  ) {\r\n    let sphere;\r\n    if (unitSpheres.length > 0) {\r\n      sphere = unitSpheres.pop(); // 再利用\r\n      sphere.visible = true;\r\n    } else {\r\n      const geometry = new THREE.SphereGeometry(unit.radius, 16, 16);\r\n      const material = new THREE.MeshBasicMaterial({\r\n        color: new THREE.Color().setHSL(0.1, 1, 0.7 - 0.4 * (layer / maxDepth)),\r\n        wireframe: true,\r\n        opacity: 0.3,\r\n        transparent: true,\r\n      });\r\n      sphere = new THREE.Mesh(geometry, material);\r\n      scene.add(sphere);\r\n    }\r\n    sphere.position.set(unit.center.x, unit.center.y, unit.center.z);\r\n    unitSpheres.push(sphere);\r\n  }\r\n\r\n  // 線: チェックボックスで全て表示、色は深さでグラデ\r\n  if (showUnitLines.value && unit.children && typeof unit.children.size === 'function' && unit.children.size() > 0) {\r\n    for (let i = 0; i < unit.children.size(); i++) {\r\n      const child = unit.children.get(i);\r\n      let line;\r\n      if (unitLines.length > 0) {\r\n        line = unitLines.pop(); // 再利用\r\n        line.visible = true;\r\n      } else {\r\n        const lineGeometry = new THREE.BufferGeometry();\r\n        const lineMaterial = new THREE.LineBasicMaterial({\r\n          color: new THREE.Color().setHSL(0.35, 1, 0.7 - 0.4 * (layer / maxDepth)),\r\n        });\r\n        line = new THREE.Line(lineGeometry, lineMaterial);\r\n        scene.add(line);\r\n      }\r\n      const points = [\r\n        new THREE.Vector3(unit.center.x, unit.center.y, unit.center.z),\r\n        new THREE.Vector3(child.center.x, child.center.y, child.center.z),\r\n      ];\r\n      line.geometry.setFromPoints(points);\r\n      unitLines.push(line);\r\n    }\r\n  }\r\n\r\n  // 再帰\r\n  if (unit.children && typeof unit.children.size === 'function' && unit.children.size() > 0) {\r\n    for (let i = 0; i < unit.children.size(); i++) {\r\n      const child = unit.children.get(i);\r\n      drawUnitTree(child, layer + 1);\r\n    }\r\n  }\r\n}\r\nlet positions, velocities\r\n\r\nfunction animate() {\r\n  if (stats) stats.begin();\r\n\r\n  if (!paused.value) {\r\n    update(1.0);\r\n  }\r\n  const count = boidCount();\r\n\r\n  positions = new Float32Array(wasmModule.HEAPF32.buffer, posPtr(), count * 3);\r\n  velocities = new Float32Array(wasmModule.HEAPF32.buffer, velPtr(), count * 3);\r\n\r\n  const dummy = new THREE.Object3D();\r\n  const cameraPosition = camera.position;\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    dummy.position.set(\r\n      positions[i * 3 + 0],\r\n      positions[i * 3 + 1],\r\n      positions[i * 3 + 2]\r\n    );\r\n\r\n    const dir = new THREE.Vector3(\r\n      velocities[i * 3 + 0],\r\n      velocities[i * 3 + 1],\r\n      velocities[i * 3 + 2]\r\n    );\r\n    if (dir.lengthSq() > 0.0001) {\r\n      dummy.quaternion.setFromUnitVectors(\r\n        new THREE.Vector3(0, 0, 1),\r\n        dir.clone().normalize()\r\n      );\r\n    } else {\r\n      dummy.quaternion.identity();\r\n    }\r\n    dummy.updateMatrix();\r\n\r\n    // 距離判定\r\n    const distanceSq = cameraPosition.distanceToSquared(dummy.position);\r\n    if (distanceSq < 10000) { // 近距離: 高ポリゴン\r\n      instancedMeshHigh.setMatrixAt(i, dummy.matrix);\r\n      instancedMeshLow.setMatrixAt(i, new THREE.Matrix4().identity()); // 非表示\r\n    } else { // 遠距離: 低ポリゴン\r\n      instancedMeshLow.setMatrixAt(i, dummy.matrix);\r\n      instancedMeshHigh.setMatrixAt(i, new THREE.Matrix4().identity()); // 非表示\r\n    }\r\n  }\r\n\r\n  instancedMeshHigh.instanceMatrix.needsUpdate = true;\r\n  instancedMeshLow.instanceMatrix.needsUpdate = true;\r\n\r\n  controls.update();\r\n  // スマホの場合は renderer を使用、それ以外は composer を使用\r\n  if (isMobileDevice()) {\r\n    renderer.render(scene, camera);\r\n  } else {\r\n    composer.render();\r\n  }\r\n  if (stats) stats.end();\r\n\r\n  animationTimer = setTimeout(animate, FRAME_INTERVAL);\r\n}\r\nfunction drawTreeStructure(treeData) {\r\n  const drawNode = (node, parentPosition = null) => {\r\n    const position = new THREE.Vector3(\r\n      node.center[0],\r\n      node.center[1],\r\n      node.center[2]\r\n    );\r\n\r\n    if (parentPosition) {\r\n      const geometry = new THREE.BufferGeometry().setFromPoints([\r\n        parentPosition,\r\n        position,\r\n      ]);\r\n      const material = new THREE.LineBasicMaterial({ color: 0xffffff });\r\n      const line = new THREE.Line(geometry, material);\r\n      scene.add(line);\r\n    }\r\n\r\n    if (node.children) {\r\n      node.children.forEach((child) => drawNode(child, position));\r\n    }\r\n  };\r\n\r\n  treeData.forEach((rootNode) => drawNode(rootNode));\r\n}\r\nfunction startSimulation() {\r\n  initBoids(settings.flockSize, 64, 0.25);\r\n  build(16, 0);\r\n  initInstancedBoids(settings.flockSize);\r\n  animate();\r\n}\r\n// `setSpeciesParams` を呼び出す関数\r\nfunction updateSpeciesParams() {\r\n  if (wasmModule && wasmModule.setSpeciesParams) {\r\n    const raw = toRaw(settings);\r\n    setSpeciesParams({\r\n      cohesion: Number(raw.cohesion ?? -1),\r\n      separation: Number(raw.separation ?? -1),\r\n      alignment: Number(raw.alignment ?? -1),\r\n      maxSpeed: Number(raw.maxSpeed ?? -1),\r\n      minSpeed: Number(raw.minSpeed ?? -1),\r\n      maxTurnAngle: Number(raw.maxTurnAngle ?? -1),\r\n      separationRange: Number(raw.separationRange ?? -1),\r\n      alignmentRange: Number(raw.alignmentRange ?? -1),\r\n      cohesionRange: Number(raw.cohesionRange ?? -1),\r\n      maxNeighbors: Number(raw.maxNeighbors ?? -1),\r\n      lambda: Number(raw.lambda ?? -1),\r\n      horizontalTorque: Number(raw.horizontalTorque ?? -1),\r\n      velocityEpsilon: Number(raw.velocityEpsilon ?? -1),\r\n      torqueStrength: Number(raw.torqueStrength ?? -1),\r\n    });\r\n  }\r\n}\r\nonMounted(() => {\r\n  initThreeJS();\r\n\r\n  // stats.jsの初期化とDOM追加\r\n  stats = new Stats();\r\n  stats.showPanel(0);\r\n  document.body.appendChild(stats.dom);\r\n  // 右上に移動させる\r\n  stats.dom.style.position = 'fixed';\r\n  stats.dom.style.right = '0px';\r\n  stats.dom.style.top = '0px';\r\n  stats.dom.style.left = 'auto';\r\n  stats.dom.style.zIndex = 1000;\r\n\r\n  // 初期値をwasmに反映\r\n  if (\r\n    wasmModule &&\r\n    wasmModule.setGlobalSpeciesParamsFromJS\r\n  ) {\r\n    const raw = toRaw(settings);\r\n    wasmModule.setGlobalSpeciesParamsFromJS({\r\n      cohesion: Number(raw.cohesion),\r\n      separation: Number(raw.separation),\r\n      alignment: Number(raw.alignment),\r\n      maxSpeed: Number(raw.maxSpeed),\r\n      maxTurnAngle: Number(raw.maxTurnAngle),\r\n      separationRange: Number(raw.separationRange),\r\n      alignmentRange: Number(raw.alignmentRange),\r\n      cohesionRange: Number(raw.cohesionRange),\r\n      horizontalTorque: Number(raw.horizontalTorque),\r\n      torqueStrength: Number(raw.torqueStrength),\r\n      maxNeighbors: Number(raw.maxNeighbors),\r\n      lambda: Number(raw.lambda),\r\n    });\r\n  }\r\n\r\n  window.addEventListener('keydown', handleKeydown);\r\n\r\n  startSimulation();\r\n});\r\n\r\nfunction isMobileDevice() {\r\n  return /Mobi|Android/i.test(navigator.userAgent);\r\n}\r\n// settingsの変更をwasmModuleに反映\r\nwatch(\r\n  () => [\r\n    settings.cohesion,\r\n    settings.separation,\r\n    settings.alignment,\r\n    settings.maxSpeed,\r\n    settings.maxTurnAngle,\r\n    settings.separationRange,\r\n    settings.alignmentRange,\r\n    settings.cohesionRange,\r\n    settings.maxNeighbors,\r\n    settings.lambda,\r\n    settings.horizontalTorque,\r\n    settings.velocityEpsilon,\r\n    settings.torqueStrength,\r\n  ],\r\n  () => {\r\n    if (\r\n      wasmModule &&\r\n      wasmModule.setGlobalSpeciesParamsFromJS\r\n    ) {\r\n      const raw = toRaw(settings);\r\n      wasmModule.setGlobalSpeciesParamsFromJS({\r\n        cohesion: Number(raw.cohesion),\r\n        separation: Number(raw.separation),\r\n        alignment: Number(raw.alignment),\r\n        maxSpeed: Number(raw.maxSpeed),\r\n        maxTurnAngle: Number(raw.maxTurnAngle),\r\n        separationRange: Number(raw.separationRange),\r\n        alignmentRange: Number(raw.alignmentRange),\r\n        cohesionRange: Number(raw.cohesionRange),\r\n        horizontalTorque: Number(raw.horizontalTorque),\r\n        torqueStrength: Number(raw.torqueStrength),\r\n        maxNeighbors: Number(raw.maxNeighbors),\r\n        lambda: Number(raw.lambda),\r\n      });\r\n    }\r\n  }\r\n);\r\n\r\n// flockSizeの変更を監視\r\nwatch(\r\n  () => settings.flockSize,\r\n  (newSize) => {\r\n    if (setFlockSize) {\r\n      // flockSize変更時\r\n      setFlockSize(newSize, 40, 0.25);\r\n      // Three.js 側の初期化\r\n      initInstancedBoids(newSize);\r\n    }\r\n  }\r\n);\r\n\r\nwatch(\r\n  settings,\r\n  (val) => {\r\n    localStorage.setItem('boids_settings', JSON.stringify(toRaw(val)));\r\n  },\r\n  { deep: true }\r\n);\r\n\r\nfunction resetSettings() {\r\n  Object.assign(settings, DEFAULT_SETTINGS);\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Arial, sans-serif;\r\n  padding: 0;\r\n  margin: 0;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.settings {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.info {\r\n  margin-top: 20px;\r\n}\r\n\r\n.three-container {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 0;\r\n  display: block;\r\n  border: none;\r\n  overflow: hidden;\r\n  background: #0a1e3a;\r\n}\r\n\r\n.ui-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  color: #fff;\r\n  z-index: 2;\r\n  pointer-events: none;\r\n}\r\n\r\n.ui-overlay * {\r\n  pointer-events: auto;\r\n}\r\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=22608b49&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport * as BoidsModule from './wasm/build/wasm_boids.js';\r\nimport wasmUrl from './wasm/build/wasm_boids.wasm';\r\n\r\nlet wasmModule = null;\r\n\r\nBoidsModule.default({\r\n    locateFile: (path) => {\r\n            console.log('wasmUrl =', wasmUrl);\r\n\r\n        if (path.endsWith('.wasm')) {\r\n            return wasmUrl; // ハッシュ付きの正しいURLを返す\r\n        }\r\n        return `/static/js/${path}`;\r\n    },\r\n}).then(Module => {\r\n    wasmModule = Module;\r\n    console.log('wasmUrl =', wasmUrl);\r\n\r\n    console.log('Wasm module initialized:', Module);\r\n\r\n    // Vue アプリケーションに WebAssembly モジュールを渡す\r\n    const app = createApp(App);\r\n    app.provide('wasmModule', Module);\r\n    app.mount('#app');\r\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/wasm-boids/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwasm_boids\"] = self[\"webpackChunkwasm_boids\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(7647)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Module","ENVIRONMENT_IS_WEB","window","ENVIRONMENT_IS_WORKER","WorkerGlobalScope","ENVIRONMENT_IS_NODE","process","versions","node","type","ENVIRONMENT_IS_SHELL","thisProgram","quit_","status","toThrow","_scriptName","document","currentScript","src","undefined","__filename","readAsync","readBinary","scriptDirectory","locateFile","path","release","name","Error","nodeVersion","numericVersion","split","slice","fs","__dirname","filename","isFileURI","URL","ret","readFileSync","assert","Buffer","isBuffer","async","binary","argv","length","replace","module","exitCode","href","url","xhr","XMLHttpRequest","open","responseType","send","Uint8Array","Promise","resolve","reject","onload","response","onerror","fetch","credentials","ok","arrayBuffer","wasmBinary","wasmMemory","out","console","log","bind","err","error","WebAssembly","EXITSTATUS","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAP64","HEAPU64","HEAPF64","ABORT","condition","text","abort","runtimeInitialized","startsWith","writeStackCookie","max","_emscripten_stack_get_end","checkStackCookie","cookie1","cookie2","ptrToString","consumedModuleProp","prop","Object","getOwnPropertyDescriptor","defineProperty","configurable","set","ignoredModuleProp","isExportedByForceFilesystem","hookGlobalSymbolAccess","sym","func","globalThis","get","missingGlobal","msg","warnOnce","missingLibrarySymbol","librarySymbol","unexportedRuntimeSymbol","updateMemoryViews","b","buffer","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","preRun","addOnPreRun","shift","callRuntimeCallbacks","onPreRuns","initRuntime","setStackLimits","FS","initialized","init","TTY","wasmExports","ignorePermissions","preMain","postRun","addOnPostRun","onPostRuns","h16","h8","prototype","subarray","wasmBinaryFile","runDependencies","dependenciesFulfilled","runDependencyTracking","runDependencyWatcher","getUniqueRunDependency","id","orig","Math","random","addRunDependency","setInterval","clearInterval","shown","dep","removeRunDependency","callback","what","e","RuntimeError","createExportWrapper","nargs","args","f","findWasmBinary","getBinarySync","file","getWasmBinary","binaryFile","instantiateArrayBuffer","imports","instance","instantiate","reason","instantiateAsync","instantiateStreaming","instantiationResult","getWasmImports","wasmImports","createWasm","receiveInstance","exports","wasmTable","trueModule","receiveInstantiationResult","result","info","mod","inst","ExitStatus","constructor","this","message","callbacks","cb","push","noExitRuntime","ptr","toString","padStart","stackLow","_emscripten_stack_get_base","stackHigh","___set_stack_limits","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","NaN","endIdx","endPtr","decode","str","u0","u1","u2","String","fromCharCode","ch","UTF8ToString","___assert_fail","line","ExceptionInfo","excPtr","set_type","get_type","set_destructor","destructor","get_destructor","set_caught","caught","get_caught","set_rethrown","rethrown","get_rethrown","set_adjusted_ptr","adjustedPtr","get_adjusted_ptr","___cxa_throw","___handle_stack_overflow","requested","base","end","__abort_js","structRegistrations","runDestructors","destructors","pop","del","readPointer","pointer","embind_charCodes","awaitingDependencies","registeredTypes","typeDependencies","InternalError","super","throwInternalError","whenDependentTypesAreResolved","myTypes","dependentTypes","getTypeConverters","onComplete","typeConverters","myTypeConverters","i","registerType","forEach","Array","unregisteredTypes","registered","dt","hasOwnProperty","__embind_finalize_value_object","structType","reg","rawConstructor","rawDestructor","fieldRecords","fields","fieldTypes","map","field","getterReturnType","concat","setterArgumentType","fieldName","optional","getter","getterContext","setter","setterContext","read","write","o","rv","TypeError","argPackAdvance","GenericWireTypeSize","destructorFunction","embindRepr","v","t","embind_init_charCodes","codes","readLatin1String","c","BindingError","throwBindingError","sharedRegisterType","rawType","registeredInstance","options","ignoreDuplicateRegistrations","integerReadValueFromPointer","width","signed","__embind_register_bigint","primitiveType","size","minRange","maxRange","isUnsignedType","indexOf","value","BigInt","__embind_register_bool","trueValue","falseValue","wt","shallowCopyInternalPointer","count","deleteScheduled","preservePointerOnDelete","ptrType","smartPtr","smartPtrType","throwInstanceAlreadyDeleted","obj","getInstanceTypeName","handle","$$","registeredClass","finalizationRegistry","detachFinalizer","runDestructor","releaseClassHandle","toDelete","downcastPointer","ptrClass","desiredClass","baseClass","downcast","registeredPointers","registeredInstances","getBasestPointer","class_","upcast","getInheritedInstance","makeClassHandle","record","hasSmartPtrType","hasSmartPtr","attachFinalizer","create","writable","RegisteredPointer_fromWireType","rawPointer","getPointee","makeDefaultHandle","isSmartPointer","instancePrototype","pointeeType","toType","actualType","getActualType","registeredPointerRecord","call","isConst","constPointerType","pointerType","dp","delayFunction","FinalizationRegistry","warn","leakWarning","cls","captureStackTrace","stack","register","unregister","deletionQueue","flushPendingDeletes","init_ClassHandle","proto","ClassHandle","assign","other","leftClass","left","rightClass","right","clone","getPrototypeOf","symbolDispose","Symbol","dispose","createNamedFunction","ensureOverloadTable","methodName","humanName","overloadTable","prevFunc","apply","argCount","exposePublicSymbol","numArguments","char_0","char_9","makeLegalFunctionName","charCodeAt","RegisteredClass","pureVirtualFunctions","upcastPointer","constNoSmartPtrRawPointerToWireType","isReference","handleClass","genericPointerToWireType","sharingPolicy","clonedHandle","rawShare","Emval","toHandle","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","rawGetPointee","replacePublicSymbol","wasmTableMirror","getWasmTableEntry","funcPtr","embind__requireFunction","signature","rawFunction","isAsync","makeDynCaller","rtn","fp","UnboundTypeError","getTypeName","___getTypeName","_free","throwUnboundTypeError","types","unboundTypes","seen","visit","join","__embind_register_class","rawPointerType","rawConstPointerType","baseClassRawType","getActualTypeSignature","upcastSignature","downcastSignature","destructorSignature","legalFunctionName","basePrototype","constructor_body","body","keys","__derivedClasses","referenceConverter","pointerConverter","constPointerConverter","heap32VectorToArray","firstElement","array","usesDestructorStack","argTypes","checkArgCount","numArgs","minArgs","maxArgs","argCountMessage","createJsInvoker","isClassMethodFunc","returns","needsDestructorStack","argsList","argsListWired","invokerFnBody","dtorStack","args1","paramName","getRequiredArgCount","requiredArgCount","craftInvokerFunction","classType","cppInvokerFunc","cppTargetFunc","expectedArgCount","closureArgs","invokerFn","Function","__embind_register_class_constructor","rawClassType","rawArgTypesAddr","invokerSignature","invoker","rawArgTypes","splice","getFunctionName","trim","argsIndex","endsWith","__embind_register_class_function","rawInvoker","context","isPureVirtual","isNonnullReturn","unboundTypesHandler","substring","method","className","memberFunction","validateThis","this_","__embind_register_class_property","getterSignature","setterSignature","desc","enumerable","emval_freelist","emval_handles","__emval_decref","count_emval_handles","init_emval","toValue","EmValType","__embind_register_emval","floatReadValueFromPointer","__embind_register_float","__embind_register_function","fn","invokerArgsArray","__embind_register_integer","fromWireType","bitshift","toWireType","includes","checkAssertions","toTypeName","__embind_register_memory_view","dataTypeIndex","typeMapping","TA","decodeMemoryView","data","EmValOptionalType","__embind_register_optional","rawOptionalType","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","u","stringToUTF8","outPtr","lengthBytesUTF8","len","__embind_register_std_string","stdStringIsUTF8","payload","decodeStartPtr","currentBytePtr","maxRead","stringSegment","a","ArrayBuffer","valueIsOfTypeString","isView","BYTES_PER_ELEMENT","_malloc","charCode","UTF16Decoder","UTF16ToString","maxIdx","codeUnit","stringToUTF16","startPtr","numCharsToWrite","lengthBytesUTF16","UTF32ToString","utf32","stringToUTF32","trailSurrogate","lengthBytesUTF32","__embind_register_std_wstring","charSize","decodeString","encodeString","readCharAt","lengthBytesUTF","maxReadBytes","__embind_register_value_object","constructorSignature","__embind_register_value_object_field","__embind_register_void","isVoid","requireRegisteredType","impl","emval_returnValue","returnType","destructorsRef","__emval_as","__emval_get_property","key","emval_symbols","getStringOrSymbol","address","symbol","__emval_new_cstring","__emval_run_destructors","__emval_take_value","arg","__tzset_js","timezone","daylight","std_name","dst_name","currentYear","Date","getFullYear","winter","summer","winterOffset","getTimezoneOffset","summerOffset","stdTimezoneOffset","Number","extractZone","timezoneOffset","sign","absOffset","abs","hours","floor","minutes","winterName","summerName","abortOnCannotGrowMemory","requestedSize","_emscripten_resize_heap","ENV","getExecutableName","getEnvStrings","strings","lang","navigator","languages","env","x","_environ_get","__environ","environ_buf","bufSize","envp","string","Infinity","_environ_sizes_get","penviron_count","penviron_buf_size","PATH","isAbs","charAt","splitPath","splitPathRe","exec","normalizeArray","parts","allowAboveRoot","up","last","unshift","normalize","isAbsolute","trailingSlash","filter","p","dirname","root","dir","basename","match","paths","join2","l","r","initRandomFill","nodeCrypto","view","randomFillSync","crypto","getRandomValues","randomFill","PATH_FS","resolvedPath","resolvedAbsolute","cwd","relative","from","to","arr","start","fromParts","toParts","min","samePartsLength","outputParts","FS_stdin_getChar_buffer","intArrayFromString","stringy","dontAddNull","u8array","numBytesWritten","FS_stdin_getChar","BUFSIZE","buf","alloc","bytesRead","fd","stdin","readSync","prompt","ttys","shutdown","dev","ops","input","output","registerDevice","stream_ops","stream","tty","rdev","ErrnoError","seekable","close","fsync","offset","pos","get_char","atime","now","put_char","mtime","ctime","default_tty_ops","val","ioctl_tcgets","c_iflag","c_oflag","c_cflag","c_lflag","c_cc","ioctl_tcsets","optional_actions","ioctl_tiocgwinsz","default_tty1_ops","mmapAlloc","MEMFS","ops_table","mount","createNode","parent","mode","isBlkdev","isFIFO","getattr","node_ops","setattr","lookup","mknod","rename","unlink","rmdir","readdir","symlink","llseek","mmap","msync","link","readlink","chrdev","chrdev_stream_ops","isDir","contents","isFile","usedBytes","isLink","isChrdev","getFileDataAsTypedArray","expandFileStorage","newCapacity","prevCapacity","CAPACITY_DOUBLING_MAX","oldContents","resizeFileStorage","newSize","attr","ino","nlink","uid","gid","blksize","blocks","ceil","old_node","new_dir","new_name","new_node","lookupNode","hashRemoveNode","newname","oldpath","position","canOwn","whence","prot","flags","allocated","byteOffset","mmapFlags","asyncLoad","FS_createDataFile","createDataFile","preloadPlugins","FS_handledByPreloadPlugin","byteArray","fullname","finish","Browser","handled","plugin","FS_createPreloadedFile","canRead","canWrite","dontCreateFile","preFinish","processData","then","FS_modeStringToFlags","flagModes","FS_getMode","strError","errno","_strerror","ERRNO_CODES","mounts","devices","streams","nextInode","nameTable","currentPath","filesystems","syncFSRequests","readFiles","code","FSStream","shared","object","isRead","isWrite","isAppend","FSNode","readMode","writeMode","mounted","isFolder","isDevice","lookupPath","opts","follow_mount","linkloop","nlinks","current","current_path","islast","noent_okay","isMountpoint","follow","isRoot","getPath","mountpoint","hashName","parentid","hash","hashAddNode","name_next","errCode","mayLookup","nodeName","destroyNode","isSocket","flagsToPermissionString","flag","perms","nodePermissions","mayCreate","mayDelete","isdir","mayOpen","checkOpExists","op","MAX_OPEN_FDS","nextfd","getStreamChecked","getStream","createStream","closeStream","dupStream","origStream","dup","doSetAttr","device","getDevice","major","minor","makedev","ma","mi","getMounts","check","m","syncfs","populate","completed","doCallback","done","errored","pseudo","mountRoot","unmount","next","statfs","statfsNode","statfsStream","bsize","frsize","bfree","bavail","files","ffree","fsid","namelen","mkdir","mkdirTree","dirs","d","mkdev","newpath","old_path","new_path","old_dir","old_dirname","new_dirname","old_name","stat","dontFollow","fstat","lstat","doChmod","chmod","lchmod","fchmod","doChown","timestamp","chown","lchown","fchown","doTruncate","truncate","ftruncate","utime","isDirPath","created","ungotten","isClosed","getdents","seeking","bytesWritten","ioctl","cmd","readFile","encoding","writeFile","actualNumBytes","byteLength","chdir","createDefaultDirectories","createDefaultDevices","randomBuffer","randomLeft","randomByte","createDevice","createSpecialDirectories","proc_self","entries","k","createStandardStreams","stdout","stderr","staticInit","quit","_fflush","findObject","dontResolveLastLink","analyzePath","exists","parentExists","parentPath","parentObject","createPath","reverse","part","createFile","properties","forceLoadFile","createLazyFile","LazyUint8Array","lengthKnown","chunks","chunkOffset","chunkSize","chunkNum","setDataGetter","cacheLength","header","datalength","getResponseHeader","hasByteServing","usesGzip","doXHR","setRequestHeader","overrideMimeType","responseText","lazyArray","_length","_chunkSize","defineProperties","writeChunks","absolutePath","createFolder","createLink","joinPath","standardizePath","SYSCALLS","DEFAULT_POLLMASK","calculateAt","dirfd","allowEmpty","dirstream","getStreamFromFD","writeStat","getTime","writeStatFs","stats","doMsync","addr","varargs","getStr","_fd_close","doReadv","iov","iovcnt","curr","_fd_read","pnum","num","INT53_MAX","INT53_MIN","bigintToI53Checked","_fd_seek","newOffset","isNaN","doWritev","_fd_write","_random_get","runtimeKeepaliveCounter","keepRuntimeAlive","_proc_exit","exitJS","implicit","checkUnflushedContent","handleException","_emscripten_stack_get_current","createPreloadedFile","checkIncomingModuleAPI","missingLibrarySymbols","unexportedSymbols","__assert_fail","__cxa_throw","__handle_stack_overflow","_abort_js","_embind_finalize_value_object","_embind_register_bigint","_embind_register_bool","_embind_register_class","_embind_register_class_constructor","_embind_register_class_function","_embind_register_class_property","_embind_register_emval","_embind_register_float","_embind_register_function","_embind_register_integer","_embind_register_memory_view","_embind_register_optional","_embind_register_std_string","_embind_register_std_wstring","_embind_register_value_object","_embind_register_value_object_field","_embind_register_void","_emval_as","_emval_decref","_emval_get_property","_emval_new_cstring","_emval_run_destructors","_emval_take_value","_tzset_js","emscripten_resize_heap","environ_get","environ_sizes_get","fd_close","fd_read","fd_seek","fd_write","random_get","calledRun","_main","_emscripten_stack_init","callMain","entryFunction","argc","stackCheckInit","run","doRun","noInitialRun","setTimeout","oldOut","oldErr","has","preInit","class","settings","step","flockSize","number","cohesion","cohesionRange","separation","separationRange","alignment","alignmentRange","maxSpeed","maxTurnAngle","maxNeighbors","lambda","horizontalTorque","velocityEpsilon","torqueStrength","props","required","__exports__","render","FRAME_INTERVAL","wasmModule","posPtr","cwrap","velPtr","boidCount","initBoids","build","update","setFlockSize","DEFAULT_SETTINGS","loadSettings","saved","localStorage","getItem","JSON","parse","threeContainer","scene","camera","renderer","controls","composer","paused","showUnits","showUnitSpheres","showUnitLines","unitLayer","animationTimer","handleKeydown","initThreeJS","innerWidth","height","innerHeight","background","fog","lookAt","antialias","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","appendChild","domElement","aspect","updateProjectionMatrix","OrbitControls","enableDamping","dampingFactor","groundGeo","groundMat","color","roughness","ground","rotation","PI","y","receiveShadow","add","ambientLight","dirLight","castShadow","shadow","top","bottom","near","far","mapSize","bias","normalBias","isMobileDevice","EffectComposer","renderPass","RenderPass","addPass","ssaoPass","SSAOPass","kernelRadius","minDistance","maxDistance","bloomPass","UnrealBloomPass","addEventListener","onWindowResize","instancedMeshHigh","instancedMeshLow","boidGeometryHigh","boidGeometryLow","boidMaterial","initInstancedBoids","remove","material","positions","velocities","animate","begin","dummy","cameraPosition","lengthSq","quaternion","setFromUnitVectors","identity","updateMatrix","distanceSq","distanceToSquared","setMatrixAt","matrix","instanceMatrix","needsUpdate","startSimulation","test","userAgent","resetSettings","scale","showPanel","dom","style","zIndex","setGlobalSpeciesParamsFromJS","raw","setItem","stringify","deep","app","App","provide","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","fulfilled","j","every","n","__esModule","definition","g","nmd","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}