(()=>{"use strict";var e={370:(e,t,r)=>{e.exports=r.p+"938b5d58a9ff9f0b.wasm"},390:(e,t,r)=>{var n=r(751),a=r(641),o=r(33),i=r(953),s=r(922),l=r(437),u=r(24);const c={class:"settings"},d={class:"setting-row"},p={class:"setting-row"},h={class:"setting-row"},m={class:"setting-row"},f={class:"setting-row"},v={class:"setting-row"},g={class:"setting-row"},y={class:"setting-row"},b={class:"setting-row"},w={class:"setting-row"},$={class:"setting-row"};function C(e,t,r,i,s,l){return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[t[11]||(t[11]=(0,a.Lk)("label",null,[(0,a.eW)("群れの数"),(0,a.Lk)("br"),(0,a.eW)(" (Flock Size):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>r.settings.flockSize=e),min:"10",max:"10000",step:"1"},null,512),[[n.Jo,r.settings.flockSize,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.flockSize),1)]),(0,a.Lk)("div",p,[t[12]||(t[12]=(0,a.Lk)("label",null,[(0,a.eW)("凝集"),(0,a.Lk)("br"),(0,a.eW)(" (Cohesion):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=e=>r.settings.cohesion=e),min:"0",max:"10",step:"0.01"},null,512),[[n.Jo,r.settings.cohesion,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.cohesion),1)]),(0,a.Lk)("div",h,[t[13]||(t[13]=(0,a.Lk)("label",null,[(0,a.eW)("凝集範囲"),(0,a.Lk)("br"),(0,a.eW)(" (Cohesion Range):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=e=>r.settings.cohesionRange=e),min:"1",max:"300",step:"1"},null,512),[[n.Jo,r.settings.cohesionRange,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.cohesionRange),1)]),(0,a.Lk)("div",m,[t[14]||(t[14]=(0,a.Lk)("label",null,[(0,a.eW)("分離"),(0,a.Lk)("br"),(0,a.eW)(" (Separation):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=e=>r.settings.separation=e),min:"0",max:"10",step:"0.01"},null,512),[[n.Jo,r.settings.separation,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.separation),1)]),(0,a.Lk)("div",f,[t[15]||(t[15]=(0,a.Lk)("label",null,[(0,a.eW)("分離範囲"),(0,a.Lk)("br"),(0,a.eW)(" (Separation Range):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[4]||(t[4]=e=>r.settings.separationRange=e),min:"1",max:"100",step:"1"},null,512),[[n.Jo,r.settings.separationRange,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.separationRange),1)]),(0,a.Lk)("div",v,[t[16]||(t[16]=(0,a.Lk)("label",null,[(0,a.eW)("整列"),(0,a.Lk)("br"),(0,a.eW)(" (Alignment):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[5]||(t[5]=e=>r.settings.alignment=e),min:"0",max:"10",step:"0.01"},null,512),[[n.Jo,r.settings.alignment,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.alignment),1)]),(0,a.Lk)("div",g,[t[17]||(t[17]=(0,a.Lk)("label",null,[(0,a.eW)("整列範囲"),(0,a.Lk)("br"),(0,a.eW)(" (Alignment Range):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[6]||(t[6]=e=>r.settings.alignmentRange=e),min:"1",max:"100",step:"1"},null,512),[[n.Jo,r.settings.alignmentRange,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.alignmentRange),1)]),(0,a.Lk)("div",y,[t[18]||(t[18]=(0,a.Lk)("label",null,[(0,a.eW)("最大速度:"),(0,a.Lk)("br"),(0,a.eW)(" (Max Speed):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[7]||(t[7]=e=>r.settings.maxSpeed=e),min:"0.1",max:"10",step:"0.01"},null,512),[[n.Jo,r.settings.maxSpeed,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.maxSpeed),1)]),(0,a.Lk)("div",b,[t[19]||(t[19]=(0,a.Lk)("label",null,[(0,a.eW)("最大旋回角:"),(0,a.Lk)("br"),(0,a.eW)(" (Max Turn Angle):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[8]||(t[8]=e=>r.settings.maxTurnAngle=e),min:"0.001",max:"1",step:"0.001"},null,512),[[n.Jo,r.settings.maxTurnAngle,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.maxTurnAngle),1)]),(0,a.Lk)("div",w,[t[20]||(t[20]=(0,a.Lk)("label",null,[(0,a.eW)("最大近傍数"),(0,a.Lk)("br"),(0,a.eW)("(Max Neighbors):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[9]||(t[9]=e=>r.settings.maxNeighbors=e),min:"1",max:"32",step:"1"},null,512),[[n.Jo,r.settings.maxNeighbors,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.maxNeighbors),1)]),(0,a.Lk)("div",$,[t[21]||(t[21]=(0,a.Lk)("label",null,[(0,a.eW)("吸引減衰λ"),(0,a.Lk)("br"),(0,a.eW)("(Lambda):")],-1)),(0,a.bo)((0,a.Lk)("input",{type:"range","onUpdate:modelValue":t[10]||(t[10]=e=>r.settings.lambda=e),min:"0.001",max:"0.2",step:"0.001"},null,512),[[n.Jo,r.settings.lambda,void 0,{number:!0}]]),(0,a.Lk)("span",null,(0,o.v_)(r.settings.lambda),1)])])}const T={props:{settings:{type:Object,required:!0}}};var k=r(262);const P=(0,k.A)(T,[["render",C],["__scopeId","data-v-e1c3bf5a"]]),A=P;var L=r(777);const S={id:"app"},x={class:"ui-overlay"},W={style:{"margin-left":"1em"}},R={style:{"margin-left":"1em"}},_={style:{"margin-left":"1em"}},F={class:"info"},O=1e3/60,j={__name:"App",setup(e){const t=(0,a.WQ)("wasmModule");t||console.error("wasmModule not provided");const r=(0,i.Kh)({cohesion:6.8,separation:2,alignment:1,maxSpeed:1,maxTurnAngle:.281,separationRange:6,alignmentRange:30,cohesionRange:171,speed:5,flockSize:2e3,maxNeighbors:7,lambda:.05}),c=(0,i.KR)(null);let d,p,h,m,f=null,v=null;const g=(0,i.KR)(!1),y=(0,i.KR)(!0),b=(0,i.KR)(!1),w=(0,i.KR)(!1),$=(0,i.KR)(1);let C=[],T=[],k=1,P=null;function j(e,t=0){if(!e||!e.children||"function"!==typeof e.children.size||0===e.children.size())return t;let r=t;for(let n=0;n<e.children.size();n++){const a=e.children.get(n);r=Math.max(r,j(a,t+1))}return r}function E(e){"Space"===e.code&&(g.value=!g.value)}function V(){const e=window.innerWidth,t=window.innerHeight;d=new s.Z58,d.background=new s.Q1f(663098),d.fog=new s.jUj(663098,300,900),p=new s.ubm(75,e/t,.1,1e3),p.position.set(0,0,150),p.lookAt(0,0,0),h=new l.JeP({antialias:!0}),h.setSize(e,t),h.shadowMap.enabled=!0,c.value.appendChild(h.domElement),m=new u.N(p,h.domElement);const r=new s.bdM(1e3,1e3),n=new s._4j({color:1585232,roughness:.8}),a=new s.eaF(r,n);a.rotation.x=-Math.PI/2,a.position.y=-200,a.receiveShadow=!0,d.add(a);const o=new s.$p8(16777215,1.5);d.add(o);const i=new s.ZyN(16773836,1.3);i.position.set(300,500,200),i.castShadow=!0,i.shadow.camera.left=-500,i.shadow.camera.right=500,i.shadow.camera.top=500,i.shadow.camera.bottom=-500,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=2048,i.shadow.mapSize.height=2048,i.shadow.bias=-.001,i.shadow.normalBias=.01,d.add(i),window.addEventListener("resize",N)}function N(){const e=window.innerWidth,t=window.innerHeight;p.aspect=e/t,p.updateProjectionMatrix(),h.setSize(e,t)}let z=[];const U=new s.Gu$(1,8,8),B=new s.Gu$(1,3,2),D=new s._4j({color:2078207});function I(e){for(const t of z)d.remove(t);z=[];for(let t=0;t<e;t++){const e=new s.UpK,t=new s.eaF(U,D);t.castShadow=!0,t.scale.set(.5,.5,2),e.addLevel(t,0);const r=new s.eaF(B,D);r.castShadow=!0,r.scale.set(.5,.5,2),e.addLevel(r,100),d.add(e),z.push(e)}}function H(){for(const e of C)d.remove(e);for(const e of T)d.remove(e);C=[],T=[]}function M(e,t=0){if(b.value&&t>=k-$.value+1&&(null==e.children||0===e.children.size()||t===k)){const r=(new s.Q1f).setHSL(.1,1,.7-t/k*.4),n=new s.Gu$(e.radius,16,16),a=new s.V9B({color:r,wireframe:!0,opacity:.3,transparent:!0}),o=new s.eaF(n,a);o.position.set(e.center.x,e.center.y,e.center.z),d.add(o),C.push(o)}if(w.value&&e.children&&"function"===typeof e.children.size&&e.children.size()>0)for(let r=0;r<e.children.size();r++){const n=e.children.get(r),a=[new s.Pq0(e.center.x,e.center.y,e.center.z),new s.Pq0(n.center.x,n.center.y,n.center.z)],o=(new s.Q1f).setHSL(.35,1,.7-t/k*.4),i=(new s.LoY).setFromPoints(a),l=new s.N1A(i,new s.mrM({color:o}));d.add(l),T.push(l)}if(e.children&&"function"===typeof e.children.size&&e.children.size()>0)for(let r=0;r<e.children.size();r++){const n=e.children.get(r);M(n,t+1)}}let J=null;function G(){if(P&&P.begin(),!g.value&&f){f.update(1),f.updatePositionBuffer(),f.updateVelocityBuffer();const e=f.getPositionBufferPtr(),r=f.getVelocityBufferPtr(),n=f.getBoidCount(),a=new Float32Array(t.HEAPF32.buffer,e,3*n),o=new Float32Array(t.HEAPF32.buffer,r,3*n);z.length!==n&&I(n);for(let t=0;t<n;t++){const e=z[t];e.position.set(a[3*t+0],a[3*t+1],a[3*t+2]);const r=new s.Pq0(o[3*t+0],o[3*t+1],o[3*t+2]);r.lengthSq()>1e-4?e.quaternion.setFromUnitVectors(new s.Pq0(0,0,1),r.clone().normalize()):e.quaternion.identity()}H(),y.value&&f.root&&(k=j(f.root,0),M(f.root,0))}m.update(),h.render(d,p),P&&P.end(),J=setTimeout(G,O)}function q(){const e=t.BoidTree;t.VectorBoid,t.Boid;v=t.BoidTree.generateRandomBoids(r.flockSize,100,.25),f=new e,f.build(v,32,0),G()}return(0,a.sV)((()=>{if(V(),P=new L.A,P.showPanel(0),document.body.appendChild(P.dom),P.dom.style.position="fixed",P.dom.style.right="0px",P.dom.style.top="0px",P.dom.style.left="auto",P.dom.style.zIndex=1e3,t&&t.setGlobalSpeciesParamsFromJS){const e=(0,i.ux)(r);t.setGlobalSpeciesParamsFromJS({cohesion:Number(e.cohesion),separation:Number(e.separation),alignment:Number(e.alignment),maxSpeed:Number(e.maxSpeed),maxTurnAngle:Number(e.maxTurnAngle),separationRange:Number(e.separationRange),alignmentRange:Number(e.alignmentRange),cohesionRange:Number(e.cohesionRange)})}window.addEventListener("keydown",E),q()})),(0,a.wB)((()=>[r.cohesion,r.separation,r.alignment,r.maxSpeed,r.maxTurnAngle,r.separationRange,r.alignmentRange,r.cohesionRange,r.maxNeighbors,r.lambda]),(()=>{if(t&&t.setGlobalSpeciesParamsFromJS){const e=(0,i.ux)(r);t.setGlobalSpeciesParamsFromJS({cohesion:Number(e.cohesion),separation:Number(e.separation),alignment:Number(e.alignment),maxSpeed:Number(e.maxSpeed),maxTurnAngle:Number(e.maxTurnAngle),separationRange:Number(e.separationRange),alignmentRange:Number(e.alignmentRange),cohesionRange:Number(e.cohesionRange),maxNeighbors:Number(e.maxNeighbors),lambda:Number(e.lambda)})}})),(0,a.wB)((()=>r.flockSize),(e=>{f&&f.setFlockSize&&f.setFlockSize(e,100,.25)})),(e,t)=>((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",x,[t[9]||(t[9]=(0,a.Lk)("h1",null,"Boids Simulation",-1)),(0,a.Lk)("details",null,[t[8]||(t[8]=(0,a.Lk)("summary",null,"Settings",-1)),(0,a.bF)(A,{settings:r},null,8,["settings"]),(0,a.Lk)("div",null,[(0,a.Lk)("label",null,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e)},null,512),[[n.lH,y.value]]),t[4]||(t[4]=(0,a.eW)(" Unit可視化 "))]),(0,a.Lk)("label",W,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>b.value=e)},null,512),[[n.lH,b.value]]),t[5]||(t[5]=(0,a.eW)(" スフィアのみ表示 "))]),(0,a.Lk)("label",R,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>w.value=e)},null,512),[[n.lH,w.value]]),t[6]||(t[6]=(0,a.eW)(" 線のみ表示 "))]),(0,a.Lk)("label",_,[t[7]||(t[7]=(0,a.eW)(" 表示レイヤ下限: ")),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"1",max:"20","onUpdate:modelValue":t[3]||(t[3]=e=>$.value=e)},null,512),[[n.Jo,$.value]]),(0,a.eW)(" "+(0,o.v_)($.value),1)])])]),(0,a.Lk)("div",F,[(0,a.Lk)("p",null,"Boids Count: "+(0,o.v_)(r.flockSize),1)])]),(0,a.Lk)("div",{ref_key:"threeContainer",ref:c,class:"three-container"},null,512)]))}},E=j,V=E;var N=(()=>async function(e={}){var t,n,a,o,i,s=e,l=new Promise(((e,t)=>{n=e,a=t})),u="object"==typeof window,c="undefined"!=typeof WorkerGlobalScope,d=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process.type,"file:///D:/GitHub/wasm-boids/src/wasm/build/wasm_boids.js"),p="";function h(e){return s["locateFile"]?s["locateFile"](e,p):p+e}if(u||c){try{p=new URL(".",d).href}catch{}c&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=async e=>{var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}console.log.bind(console);var m,f,v,g,y,b,w,$,C,T,k,P,A=console.error.bind(console),L=!1;function S(){var e=f.buffer;v=new Int8Array(e),y=new Int16Array(e),g=new Uint8Array(e),b=new Uint16Array(e),w=new Int32Array(e),$=new Uint32Array(e),s["HEAPF32"]=C=new Float32Array(e),P=new Float64Array(e),T=new BigInt64Array(e),k=new BigUint64Array(e)}function x(){if(s["preRun"]){"function"==typeof s["preRun"]&&(s["preRun"]=[s["preRun"]]);while(s["preRun"].length)K(s["preRun"].shift())}M(q)}function W(){Cr["E"]()}function R(){if(s["postRun"]){"function"==typeof s["postRun"]&&(s["postRun"]=[s["postRun"]]);while(s["postRun"].length)G(s["postRun"].shift())}M(J)}var _,F=0,O=null;function j(e){F++,s["monitorRunDependencies"]?.(F)}function E(e){if(F--,s["monitorRunDependencies"]?.(F),0==F&&O){var t=O;O=null,t()}}function V(e){s["onAbort"]?.(e),e="Aborted("+e+")",A(e),L=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}function N(){return s["locateFile"]?h("wasm_boids.wasm"):new URL(r(370),r.b).href}function z(e){if(e==_&&m)return new Uint8Array(m);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}async function U(e){if(!m)try{var t=await o(e);return new Uint8Array(t)}catch{}return z(e)}async function B(e,t){try{var r=await U(e),n=await WebAssembly.instantiate(r,t);return n}catch(a){A(`failed to asynchronously prepare wasm: ${a}`),V(a)}}async function D(e,t,r){if(!e&&"function"==typeof WebAssembly.instantiateStreaming)try{var n=fetch(t,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,r);return a}catch(o){A(`wasm streaming compile failed: ${o}`),A("falling back to ArrayBuffer instantiation")}return B(t,r)}function I(){return{a:$r}}async function H(){function e(e,t){return Cr=e.exports,f=Cr["D"],S(),rt=Cr["F"],E("wasm-instantiate"),Cr}function t(t){return e(t["instance"])}j("wasm-instantiate");var r=I();if(s["instantiateWasm"])return new Promise(((t,n)=>{s["instantiateWasm"](r,((r,n)=>{t(e(r,n))}))}));_??=N();try{var n=await D(m,_,r),o=t(n);return o}catch(i){return a(i),Promise.reject(i)}}var M=e=>{while(e.length>0)e.shift()(s)},J=[],G=e=>J.push(e),q=[],K=e=>q.push(e),Q=e=>Ar(e),X=()=>Sr();class Z{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){$[this.ptr+4>>2]=e}get_type(){return $[this.ptr+4>>2]}set_destructor(e){$[this.ptr+8>>2]=e}get_destructor(){return $[this.ptr+8>>2]}set_caught(e){e=e?1:0,v[this.ptr+12]=e}get_caught(){return 0!=v[this.ptr+12]}set_rethrown(e){e=e?1:0,v[this.ptr+13]=e}get_rethrown(){return 0!=v[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){$[this.ptr+16>>2]=e}get_adjusted_ptr(){return $[this.ptr+16>>2]}}var Y=0,ee=(e,t,r)=>{var n=new Z(e);throw n.init(t,r),Y=e,Y},te=()=>V(""),re={},ne=e=>{while(e.length){var t=e.pop(),r=e.pop();r(t)}};function ae(e){return this["fromWireType"]($[e>>2])}var oe,ie={},se={},le={},ue=s["InternalError"]=class extends Error{constructor(e){super(e),this.name="InternalError"}},ce=e=>{throw new ue(e)},de=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&ce("Mismatched type converter count");for(var a=0;a<e.length;++a)be(e[a],n[a])}e.forEach((e=>le[e]=t));var a=new Array(t.length),o=[],i=0;t.forEach(((e,t)=>{se.hasOwnProperty(e)?a[t]=se[e]:(o.push(e),ie.hasOwnProperty(e)||(ie[e]=[]),ie[e].push((()=>{a[t]=se[e],++i,i===o.length&&n(a)})))})),0===o.length&&n(a)},pe=e=>{var t=re[e];delete re[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,o=a.map((e=>e.getterReturnType)).concat(a.map((e=>e.setterArgumentType)));de([e],o,(e=>{var o={};return a.forEach(((t,r)=>{var n=t.fieldName,i=e[r],s=e[r].optional,l=t.getter,u=t.getterContext,c=e[r+a.length],d=t.setter,p=t.setterContext;o[n]={read:e=>i["fromWireType"](l(u,e)),write:(e,t)=>{var r=[];d(p,e,c["toWireType"](r,t)),ne(r)},optional:s}})),[{name:t.name,fromWireType:e=>{var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var a in o)if(!(a in t)&&!o[a].optional)throw new TypeError(`Missing field: "${a}"`);var i=r();for(a in o)o[a].write(i,t[a]);return null!==e&&e.push(n,i),i},argPackAdvance:Te,readValueFromPointer:ae,destructorFunction:n}]}))},he=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},me=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);oe=e},fe=e=>{var t="",r=e;while(g[r])t+=oe[g[r++]];return t},ve=s["BindingError"]=class extends Error{constructor(e){super(e),this.name="BindingError"}},ge=e=>{throw new ve(e)};function ye(e,t,r={}){var n=t.name;if(e||ge(`type "${n}" must have a positive integer typeid pointer`),se.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ge(`Cannot register type '${n}' twice`)}if(se[e]=t,delete le[e],ie.hasOwnProperty(e)){var a=ie[e];delete ie[e],a.forEach((e=>e()))}}function be(e,t,r={}){return ye(e,t,r)}var we,$e=(e,t,r)=>{switch(t){case 1:return r?e=>v[e]:e=>g[e];case 2:return r?e=>y[e>>1]:e=>b[e>>1];case 4:return r?e=>w[e>>2]:e=>$[e>>2];case 8:return r?e=>T[e>>3]:e=>k[e>>3];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ce=(e,t,r,n,a)=>{t=fe(t);var o=-1!=t.indexOf("u");be(e,{name:t,fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw new TypeError(`Cannot convert "${he(t)}" to ${this.name}`);return"number"==typeof t&&(t=BigInt(t)),t},argPackAdvance:Te,readValueFromPointer:$e(t,r,!o),destructorFunction:null})},Te=8,ke=(e,t,r,n)=>{t=fe(t),be(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:Te,readValueFromPointer:function(e){return this["fromWireType"](g[e])},destructorFunction:null})},Pe=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ae=e=>{function t(e){return e.$$.ptrType.registeredClass.name}ge(t(e)+" instance already deleted")},Le=!1,Se=e=>{},xe=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},We=e=>{e.count.value-=1;var t=0===e.count.value;t&&xe(e)},Re=e=>"undefined"===typeof FinalizationRegistry?(Re=e=>e,e):(Le=new FinalizationRegistry((e=>{We(e.$$)})),Re=e=>{var t=e.$$,r=!!t.smartPtr;if(r){var n={$$:t};Le.register(e,n,e)}return e},Se=e=>Le.unregister(e),Re(e)),_e=[],Fe=()=>{while(_e.length){var e=_e.pop();e.$$.deleteScheduled=!1,e["delete"]()}},Oe=()=>{let e=je.prototype;Object.assign(e,{isAliasOf(e){if(!(this instanceof je))return!1;if(!(e instanceof je))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;while(t.baseClass)r=t.upcast(r),t=t.baseClass;while(n.baseClass)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||Ae(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Re(Object.create(Object.getPrototypeOf(this),{$$:{value:Pe(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ge("Object already scheduled for deletion"),Se(this),We(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ge("Object already scheduled for deletion"),_e.push(this),1===_e.length&&we&&we(Fe),this.$$.deleteScheduled=!0,this}});const t=Symbol.dispose;t&&(e[t]=e["delete"])};function je(){}var Ee=(e,t)=>Object.defineProperty(t,"name",{value:e}),Ve={},Ne=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(...n){return e[t].overloadTable.hasOwnProperty(n.length)||ge(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[n.length].apply(this,n)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},ze=(e,t,r)=>{s.hasOwnProperty(e)?((void 0===r||void 0!==s[e].overloadTable&&void 0!==s[e].overloadTable[r])&&ge(`Cannot register public name '${e}' twice`),Ne(s,e,e),s[e].overloadTable.hasOwnProperty(r)&&ge(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),s[e].overloadTable[r]=t):(s[e]=t,s[e].argCount=r)},Ue=48,Be=57,De=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Ue&&t<=Be?`_${e}`:e};function Ie(e,t,r,n,a,o,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var He=(e,t,r)=>{while(t!==r)t.upcast||ge(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Me(e,t){if(null===t)return this.isReference&&ge(`null is not a valid ${this.name}`),0;t.$$||ge(`Cannot pass "${he(t)}" as a ${this.name}`),t.$$.ptr||ge(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=He(t.$$.ptr,r,this.registeredClass);return n}function Je(e,t){var r;if(null===t)return this.isReference&&ge(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t&&t.$$||ge(`Cannot pass "${he(t)}" as a ${this.name}`),t.$$.ptr||ge(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&ge(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=He(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ge(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t["clone"]();r=this.rawShare(r,Pt.toHandle((()=>a["delete"]()))),null!==e&&e.push(this.rawDestructor,r)}break;default:ge("Unsupporting sharing policy")}return r}function Ge(e,t){if(null===t)return this.isReference&&ge(`null is not a valid ${this.name}`),0;t.$$||ge(`Cannot pass "${he(t)}" as a ${this.name}`),t.$$.ptr||ge(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&ge(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=He(t.$$.ptr,r,this.registeredClass);return n}var qe=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=qe(e,t,r.baseClass);return null===n?null:r.downcast(n)},Ke={},Qe=(e,t)=>{void 0===t&&ge("ptr should not be undefined");while(e.baseClass)t=e.upcast(t),e=e.baseClass;return t},Xe=(e,t)=>(t=Qe(e,t),Ke[t]),Ze=(e,t)=>{t.ptrType&&t.ptr||ce("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&ce("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Re(Object.create(e,{$$:{value:t,writable:!0}}))};function Ye(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Xe(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r["clone"]();var n=r["clone"]();return this.destructor(e),n}function a(){return this.isSmartPointer?Ze(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ze(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,i=this.registeredClass.getActualType(t),s=Ve[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var l=qe(t,this.registeredClass,o.registeredClass);return null===l?a.call(this):this.isSmartPointer?Ze(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:e}):Ze(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}var et=()=>{Object.assign(tt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:Te,readValueFromPointer:ae,fromWireType:Ye})};function tt(e,t,r,n,a,o,i,s,l,u,c){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=u,this.rawDestructor=c,a||void 0!==t.baseClass?this["toWireType"]=Je:n?(this["toWireType"]=Me,this.destructorFunction=null):(this["toWireType"]=Ge,this.destructorFunction=null)}var rt,nt=(e,t,r)=>{s.hasOwnProperty(e)||ce("Replacing nonexistent public symbol"),void 0!==s[e].overloadTable&&void 0!==r?s[e].overloadTable[r]=t:(s[e]=t,s[e].argCount=r)},at=e=>rt.get(e),ot=(e,t,r=!1)=>{function n(){var e=at(t);return e}e=fe(e);var a=n();return"function"!=typeof a&&ge(`unknown function pointer with signature ${e}: ${t}`),a};class it extends Error{}var st=e=>{var t=Tr(e),r=fe(t);return Pr(t),r},lt=(e,t)=>{var r=[],n={};function a(e){n[e]||se[e]||(le[e]?le[e].forEach(a):(r.push(e),n[e]=!0))}throw t.forEach(a),new it(`${e}: `+r.map(st).join([", "]))},ut=(e,t,r,n,a,o,i,s,l,u,c,d,p)=>{c=fe(c),o=ot(a,o),s&&=ot(i,s),u&&=ot(l,u),p=ot(d,p);var h=De(c);ze(h,(function(){lt(`Cannot construct ${c} due to unbound types`,[n])})),de([e,t,r],n?[n]:[],(t=>{var r,a;t=t[0],n?(r=t.registeredClass,a=r.instancePrototype):a=je.prototype;var i=Ee(c,(function(...e){if(Object.getPrototypeOf(this)!==l)throw new ve(`Use 'new' to construct ${c}`);if(void 0===d.constructor_body)throw new ve(`${c} has no accessible constructor`);var t=d.constructor_body[e.length];if(void 0===t)throw new ve(`Tried to invoke ctor of ${c} with invalid number of parameters (${e.length}) - expected (${Object.keys(d.constructor_body).toString()}) parameters instead!`);return t.apply(this,e)})),l=Object.create(a,{constructor:{value:i}});i.prototype=l;var d=new Ie(c,i,l,p,r,o,s,u);d.baseClass&&(d.baseClass.__derivedClasses??=[],d.baseClass.__derivedClasses.push(d));var m=new tt(c,d,!0,!1,!1),f=new tt(c+"*",d,!1,!1,!1),v=new tt(c+" const*",d,!1,!0,!1);return Ve[e]={pointerType:f,constPointerType:v},nt(h,i),[m,f,v]}))};function ct(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function dt(e,t,r,n){var a=ct(e),o=e.length-2,i=[],s=["fn"];t&&s.push("thisWired");for(var l=0;l<o;++l)i.push(`arg${l}`),s.push(`arg${l}Wired`);i=i.join(","),s=s.join(",");var u=`return function (${i}) {\n`;a&&(u+="var destructors = [];\n");var c=a?"destructors":"null",d=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];t&&(u+=`var thisWired = classParam['toWireType'](${c}, this);\n`);for(l=0;l<o;++l)u+=`var arg${l}Wired = argType${l}['toWireType'](${c}, arg${l});\n`,d.push(`argType${l}`);if(u+=(r||n?"var rv = ":"")+`invoker(${s});\n`,a)u+="runDestructors(destructors);\n";else for(l=t?1:2;l<e.length;++l){var p=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(u+=`${p}_dtor(${p});\n`,d.push(`${p}_dtor`))}return r&&(u+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),u+="}\n",[d,u]}function pt(e,t,r,n,a,o){var i=t.length;i<2&&ge("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==t[1]&&null!==r,l=ct(t),u="void"!==t[0].name,c=[e,ge,n,a,ne,t[0],t[1]],d=0;d<i-2;++d)c.push(t[d+2]);if(!l)for(d=s?1:2;d<t.length;++d)null!==t[d].destructorFunction&&c.push(t[d].destructorFunction);let[p,h]=dt(t,s,u,o);var m=new Function(...p,h)(...c);return Ee(e,m)}var ht=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push($[t+4*n>>2]);return r},mt=e=>{e=e.trim();const t=e.indexOf("(");return-1===t?e:e.slice(0,t)},ft=(e,t,r,n,a,o,i,s,l)=>{var u=ht(r,n);t=fe(t),t=mt(t),o=ot(a,o,s),de([],[e],(e=>{e=e[0];var n=`${e.name}.${t}`;function a(){lt(`Cannot call ${n} due to unbound types`,u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var l=e.registeredClass.constructor;return void 0===l[t]?(a.argCount=r-1,l[t]=a):(Ne(l,t,n),l[t].overloadTable[r-1]=a),de([],u,(a=>{var u=[a[0],null].concat(a.slice(1)),c=pt(n,u,null,o,i,s);if(void 0===l[t].overloadTable?(c.argCount=r-1,l[t]=c):l[t].overloadTable[r-1]=c,e.registeredClass.__derivedClasses)for(const r of e.registeredClass.__derivedClasses)r.constructor.hasOwnProperty(t)||(r.constructor[t]=c);return[]})),[]}))},vt=(e,t,r,n,a,o)=>{var i=ht(t,r);a=ot(n,a),de([],[e],(e=>{e=e[0];var r=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ve(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{lt(`Cannot construct ${e.name} due to unbound types`,i)},de([],i,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=pt(r,n,null,a,o),[]))),[]}))},gt=(e,t,r,n,a,o,i,s,l,u)=>{var c=ht(r,n);t=fe(t),t=mt(t),o=ot(a,o,l),de([],[e],(e=>{e=e[0];var n=`${e.name}.${t}`;function a(){lt(`Cannot call ${n} due to unbound types`,c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var u=e.registeredClass.instancePrototype,d=u[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===r-2?(a.argCount=r-2,a.className=e.name,u[t]=a):(Ne(u,t,n),u[t].overloadTable[r-2]=a),de([],c,(a=>{var s=pt(n,a,e,o,i,l);return void 0===u[t].overloadTable?(s.argCount=r-2,u[t]=s):u[t].overloadTable[r-2]=s,[]})),[]}))},yt=(e,t,r)=>(e instanceof Object||ge(`${r} with invalid "this": ${e}`),e instanceof t.registeredClass.constructor||ge(`${r} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||ge(`cannot call emscripten binding method ${r} on deleted object`),He(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)),bt=(e,t,r,n,a,o,i,s,l,u)=>{t=fe(t),a=ot(n,a),de([],[e],(e=>{e=e[0];var n=`${e.name}.${t}`,c={get(){lt(`Cannot access ${n} due to unbound types`,[r,i])},enumerable:!0,configurable:!0};return c.set=l?()=>lt(`Cannot access ${n} due to unbound types`,[r,i]):e=>ge(n+" is a read-only property"),Object.defineProperty(e.registeredClass.instancePrototype,t,c),de([],l?[r,i]:[r],(r=>{var i=r[0],c={get(){var t=yt(this,e,n+" getter");return i["fromWireType"](a(o,t))},enumerable:!0};if(l){l=ot(s,l);var d=r[1];c.set=function(t){var r=yt(this,e,n+" setter"),a=[];l(u,r,d["toWireType"](a,t)),ne(a)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,c),[]})),[]}))},wt=[],$t=[],Ct=e=>{e>9&&0===--$t[e+1]&&($t[e]=void 0,wt.push(e))},Tt=()=>$t.length/2-5-wt.length,kt=()=>{$t.push(0,1,void 0,1,null,1,!0,1,!1,1),s["count_emval_handles"]=Tt},Pt={toValue:e=>(e||ge(`Cannot use deleted val. handle = ${e}`),$t[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=wt.pop()||$t.length;return $t[t]=e,$t[t+1]=1,t}}}},At={name:"emscripten::val",fromWireType:e=>{var t=Pt.toValue(e);return Ct(e),t},toWireType:(e,t)=>Pt.toHandle(t),argPackAdvance:Te,readValueFromPointer:ae,destructorFunction:null},Lt=e=>be(e,At),St=(e,t)=>{switch(t){case 4:return function(e){return this["fromWireType"](C[e>>2])};case 8:return function(e){return this["fromWireType"](P[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},xt=(e,t,r)=>{t=fe(t),be(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Te,readValueFromPointer:St(t,r),destructorFunction:null})},Wt=(e,t,r,n,a,o,i,s)=>{var l=ht(t,r);e=fe(e),e=mt(e),a=ot(n,a,i),ze(e,(function(){lt(`Cannot call ${e} due to unbound types`,l)}),t-1),de([],l,(r=>{var n=[r[0],null].concat(r.slice(1));return nt(e,pt(e,n,null,a,o,i),t-1),[]}))},Rt=(e,t,r,n,a)=>{t=fe(t),-1===a&&(a=4294967295);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}var s,l=t.includes("unsigned"),u=(e,t)=>{};s=l?function(e,t){return u(t,this.name),t>>>0}:function(e,t){return u(t,this.name),t},be(e,{name:t,fromWireType:o,toWireType:s,argPackAdvance:Te,readValueFromPointer:$e(t,r,0!==n),destructorFunction:null})},_t=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],a=n[t];function o(e){var t=$[e>>2],r=$[e+4>>2];return new a(v.buffer,r,t)}r=fe(r),be(e,{name:r,fromWireType:o,argPackAdvance:Te,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},Ft=Object.assign({optional:!0},At),Ot=(e,t)=>{be(e,Ft)},jt=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343){var l=e.charCodeAt(++i);s=65536+((1023&s)<<10)|1023&l}if(s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-a},Et=(e,t,r)=>jt(e,g,t,r),Vt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Nt="undefined"!=typeof TextDecoder?new TextDecoder:void 0,zt=(e,t=0,r=NaN)=>{var n=t+r,a=t;while(e[a]&&!(a>=n))++a;if(a-t>16&&e.buffer&&Nt)return Nt.decode(e.subarray(t,a));var o="";while(t<a){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if(i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++],i<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},Ut=(e,t)=>e?zt(g,e,t):"",Bt=(e,t)=>{t=fe(t);var r=!0;be(e,{name:t,fromWireType(e){var t,n=$[e>>2],a=e+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==g[s]){var l=s-o,u=Ut(o,l);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),o=s+1}}else{var c=new Array(n);for(i=0;i<n;++i)c[i]=String.fromCharCode(g[a+i]);t=c.join("")}return Pr(e),t},toWireType(e,t){var n;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var a="string"==typeof t;a||ArrayBuffer.isView(t)&&1==t.BYTES_PER_ELEMENT||ge("Cannot pass non-string to std::string"),n=r&&a?Vt(t):t.length;var o=kr(4+n+1),i=o+4;if($[o>>2]=n,a)if(r)Et(t,i,n+1);else for(var s=0;s<n;++s){var l=t.charCodeAt(s);l>255&&(Pr(o),ge("String has UTF-16 code units that do not fit in 8 bits")),g[i+s]=l}else g.set(t,i);return null!==e&&e.push(Pr,o),o},argPackAdvance:Te,readValueFromPointer:ae,destructorFunction(e){Pr(e)}})},Dt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,It=(e,t)=>{var r=e,n=r>>1,a=n+t/2;while(!(n>=a)&&b[n])++n;if(r=n<<1,r-e>32&&Dt)return Dt.decode(g.subarray(e,r));for(var o="",i=0;!(i>=t/2);++i){var s=y[e+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},Ht=(e,t,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=t,a=r<2*e.length?r/2:e.length,o=0;o<a;++o){var i=e.charCodeAt(o);y[t>>1]=i,t+=2}return y[t>>1]=0,t-n},Mt=e=>2*e.length,Jt=(e,t)=>{var r=0,n="";while(!(r>=t/4)){var a=w[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},Gt=(e,t,r)=>{if(r??=2147483647,r<4)return 0;for(var n=t,a=n+r-4,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343){var s=e.charCodeAt(++o);i=65536+((1023&i)<<10)|1023&s}if(w[t>>2]=i,t+=4,t+4>a)break}return w[t>>2]=0,t-n},qt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},Kt=(e,t,r)=>{var n,a,o,i;r=fe(r),2===t?(n=It,a=Ht,i=Mt,o=e=>b[e>>1]):4===t&&(n=Jt,a=Gt,i=qt,o=e=>$[e>>2]),be(e,{name:r,fromWireType:e=>{for(var r,a=$[e>>2],i=e+4,s=0;s<=a;++s){var l=e+4+s*t;if(s==a||0==o(l)){var u=l-i,c=n(i,u);void 0===r?r=c:(r+=String.fromCharCode(0),r+=c),i=l+t}}return Pr(e),r},toWireType:(e,n)=>{"string"!=typeof n&&ge(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),s=kr(4+o+t);return $[s>>2]=o/t,a(n,s+4,o+t),null!==e&&e.push(Pr,s),s},argPackAdvance:Te,readValueFromPointer:ae,destructorFunction(e){Pr(e)}})},Qt=(e,t,r,n,a,o)=>{re[e]={name:fe(t),rawConstructor:ot(r,n),rawDestructor:ot(a,o),fields:[]}},Xt=(e,t,r,n,a,o,i,s,l,u)=>{re[e].fields.push({fieldName:fe(t),getterReturnType:r,getter:ot(n,a),getterContext:o,setterArgumentType:i,setter:ot(s,l),setterContext:u})},Zt=(e,t)=>{t=fe(t),be(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},Yt=(e,t)=>{var r=se[e];return void 0===r&&ge(`${t} has unknown type ${st(e)}`),r},er=(e,t,r)=>{var n=[],a=e["toWireType"](n,r);return n.length&&($[t>>2]=Pt.toHandle(n)),a},tr=(e,t,r)=>(e=Pt.toValue(e),t=Yt(t,"emval::as"),er(t,r,e)),rr=(e,t)=>(e=Pt.toValue(e),t=Pt.toValue(t),Pt.toHandle(e[t])),nr={},ar=e=>{var t=nr[e];return void 0===t?fe(e):t},or=e=>Pt.toHandle(ar(e)),ir=e=>{var t=Pt.toValue(e);ne(t),Ct(e)},sr=(e,t)=>{e=Yt(e,"_emval_take_value");var r=e["readValueFromPointer"](t);return Pt.toHandle(r)},lr=()=>2147483648,ur=(e,t)=>Math.ceil(e/t)*t,cr=e=>{var t=f.buffer,r=(e-t.byteLength+65535)/65536|0;try{return f.grow(r),S(),1}catch(n){}},dr=e=>{var t=g.length;e>>>=0;var r=lr();if(e>r)return!1;for(var n=1;n<=4;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math.min(r,ur(Math.max(e,a),65536)),i=cr(o);if(i)return!0}return!1},pr=()=>e=>crypto.getRandomValues(e),hr=e=>{(hr=pr())(e)},mr=(e,t)=>(hr(g.subarray(e,e+t)),0),fr=e=>{var t=s["_"+e];return t},vr=(e,t)=>{v.set(e,t)},gr=e=>Lr(e),yr=e=>{var t=Vt(e)+1,r=gr(t);return Et(e,r,t),r},br=(e,t,r,n,a)=>{var o={string:e=>{var t=0;return null!==e&&void 0!==e&&0!==e&&(t=yr(e)),t},array:e=>{var t=gr(e.length);return vr(e,t),t}};function i(e){return"string"===t?Ut(e):"boolean"===t?Boolean(e):e}var s=fr(e),l=[],u=0;if(n)for(var c=0;c<n.length;c++){var d=o[r[c]];d?(0===u&&(u=X()),l[c]=d(n[c])):l[c]=n[c]}var p=s(...l);function h(e){return 0!==u&&Q(u),i(e)}return p=h(p),p},wr=(e,t,r,n)=>{var a=!r||r.every((e=>"number"===e||"boolean"===e)),o="string"!==t;return o&&a&&!n?fr(e):(...a)=>br(e,t,r,a,n)};me(),Oe(),et(),kt(),s["noExitRuntime"]&&s["noExitRuntime"],s["print"]&&s["print"],s["printErr"]&&(A=s["printErr"]),s["wasmBinary"]&&(m=s["wasmBinary"]),s["arguments"]&&s["arguments"],s["thisProgram"]&&s["thisProgram"],s["ccall"]=br,s["cwrap"]=wr;var $r={q:ee,t:te,k:pe,n:Ce,y:ke,e:ut,r:ft,f:vt,b:gt,c:bt,v:Lt,m:xt,h:Wt,d:Rt,a:_t,p:Ot,w:Bt,g:Kt,j:Qt,i:Xt,z:Zt,l:tr,x:Ct,C:rr,B:or,A:ir,o:sr,u:dr,s:mr},Cr=await H(),Tr=(Cr["E"],Cr["G"]),kr=s["_malloc"]=Cr["H"],Pr=s["_free"]=Cr["I"],Ar=Cr["J"],Lr=Cr["K"],Sr=Cr["L"];function xr(){function e(){s["calledRun"]=!0,L||(W(),n(s),s["onRuntimeInitialized"]?.(),R())}F>0?O=xr:(x(),F>0?O=xr:s["setStatus"]?(s["setStatus"]("Running..."),setTimeout((()=>{setTimeout((()=>s["setStatus"]("")),1),e()}),1)):e())}function Wr(){if(s["preInit"]){"function"==typeof s["preInit"]&&(s["preInit"]=[s["preInit"]]);while(s["preInit"].length>0)s["preInit"].shift()()}}return Wr(),xr(),t=l,t})();const z=N;var U=r(370);let B=null;z({locateFile:e=>e.endsWith(".wasm")?U:`/static/js/${e}`}).then((e=>{B=e,console.log("Wasm module initialized:",e);const t=(0,n.Ef)(V);t.provide("wasmModule",e),t.mount("#app")}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,(()=>{var e=[];r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,a,o]=e[c],s=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.p="/wasm-boids/"})(),(()=>{r.b=document.baseURI||self.location.href;var e={57:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=self["webpackChunkwasm_boids"]=self["webpackChunkwasm_boids"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[504],(()=>r(390)));n=r.O(n)})();
//# sourceMappingURL=index.f3cff07d.js.map