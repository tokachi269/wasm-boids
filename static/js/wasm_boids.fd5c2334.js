var createBoidsModule=(()=>async function(e={}){var r,t,n,a,s,i=e,o=new Promise(((e,r)=>{t=e,n=r})),u="object"==typeof window,l="undefined"!=typeof WorkerGlobalScope,c=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process.type,import.meta.url),p="";function d(e){return i["locateFile"]?i["locateFile"](e,p):p+e}if(u||l){try{p=new URL(".",c).href}catch{}l&&(s=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),a=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)}}console.log.bind(console);var h,f,v,y,m,g,$,w,b,C,T,P,A=console.error.bind(console),W=!1;function _(){var e=f.buffer;v=new Int8Array(e),m=new Int16Array(e),y=new Uint8Array(e),g=new Uint16Array(e),$=new Int32Array(e),w=new Uint32Array(e),i["HEAPF32"]=b=new Float32Array(e),P=new Float64Array(e),C=new BigInt64Array(e),T=new BigUint64Array(e)}function F(){if(i["preRun"]){"function"==typeof i["preRun"]&&(i["preRun"]=[i["preRun"]]);while(i["preRun"].length)J(i["preRun"].shift())}L(q)}function S(){bt["E"]()}function O(){if(i["postRun"]){"function"==typeof i["postRun"]&&(i["postRun"]=[i["postRun"]]);while(i["postRun"].length)G(i["postRun"].shift())}L(z)}var R,E=0,k=null;function j(e){E++,i["monitorRunDependencies"]?.(E)}function D(e){if(E--,i["monitorRunDependencies"]?.(E),0==E&&k){var r=k;k=null,r()}}function x(e){i["onAbort"]?.(e),e="Aborted("+e+")",A(e),W=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}function V(){return i["locateFile"]?d("wasm_boids.wasm"):new URL("wasm_boids.wasm",import.meta.url).href}function B(e){if(e==R&&h)return new Uint8Array(h);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}async function I(e){if(!h)try{var r=await a(e);return new Uint8Array(r)}catch{}return B(e)}async function U(e,r){try{var t=await I(e),n=await WebAssembly.instantiate(t,r);return n}catch(a){A(`failed to asynchronously prepare wasm: ${a}`),x(a)}}async function H(e,r,t){if(!e&&"function"==typeof WebAssembly.instantiateStreaming)try{var n=fetch(r,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,t);return a}catch(s){A(`wasm streaming compile failed: ${s}`),A("falling back to ArrayBuffer instantiation")}return U(r,t)}function M(){return{a:wt}}async function N(){function e(e,r){return bt=e.exports,f=bt["D"],_(),rr=bt["F"],D("wasm-instantiate"),bt}function r(r){return e(r["instance"])}j("wasm-instantiate");var t=M();if(i["instantiateWasm"])return new Promise(((r,n)=>{i["instantiateWasm"](t,((t,n)=>{r(e(t,n))}))}));R??=V();try{var a=await H(h,R,t),s=r(a);return s}catch(o){return n(o),Promise.reject(o)}}var L=e=>{while(e.length>0)e.shift()(i)},z=[],G=e=>z.push(e),q=[],J=e=>q.push(e),K=e=>At(e),X=()=>_t();class Y{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){w[this.ptr+4>>2]=e}get_type(){return w[this.ptr+4>>2]}set_destructor(e){w[this.ptr+8>>2]=e}get_destructor(){return w[this.ptr+8>>2]}set_caught(e){e=e?1:0,v[this.ptr+12]=e}get_caught(){return 0!=v[this.ptr+12]}set_rethrown(e){e=e?1:0,v[this.ptr+13]=e}get_rethrown(){return 0!=v[this.ptr+13]}init(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)}set_adjusted_ptr(e){w[this.ptr+16>>2]=e}get_adjusted_ptr(){return w[this.ptr+16>>2]}}var Z=0,Q=(e,r,t)=>{var n=new Y(e);throw n.init(r,t),Z=e,Z},ee=()=>x(""),re={},te=e=>{while(e.length){var r=e.pop(),t=e.pop();t(r)}};function ne(e){return this["fromWireType"](w[e>>2])}var ae,se={},ie={},oe={},ue=i["InternalError"]=class extends Error{constructor(e){super(e),this.name="InternalError"}},le=e=>{throw new ue(e)},ce=(e,r,t)=>{function n(r){var n=t(r);n.length!==e.length&&le("Mismatched type converter count");for(var a=0;a<e.length;++a)ge(e[a],n[a])}e.forEach((e=>oe[e]=r));var a=new Array(r.length),s=[],i=0;r.forEach(((e,r)=>{ie.hasOwnProperty(e)?a[r]=ie[e]:(s.push(e),se.hasOwnProperty(e)||(se[e]=[]),se[e].push((()=>{a[r]=ie[e],++i,i===s.length&&n(a)})))})),0===s.length&&n(a)},pe=e=>{var r=re[e];delete re[e];var t=r.rawConstructor,n=r.rawDestructor,a=r.fields,s=a.map((e=>e.getterReturnType)).concat(a.map((e=>e.setterArgumentType)));ce([e],s,(e=>{var s={};return a.forEach(((r,t)=>{var n=r.fieldName,i=e[t],o=e[t].optional,u=r.getter,l=r.getterContext,c=e[t+a.length],p=r.setter,d=r.setterContext;s[n]={read:e=>i["fromWireType"](u(l,e)),write:(e,r)=>{var t=[];p(d,e,c["toWireType"](t,r)),te(t)},optional:o}})),[{name:r.name,fromWireType:e=>{var r={};for(var t in s)r[t]=s[t].read(e);return n(e),r},toWireType:(e,r)=>{for(var a in s)if(!(a in r)&&!s[a].optional)throw new TypeError(`Missing field: "${a}"`);var i=t();for(a in s)s[a].write(i,r[a]);return null!==e&&e.push(n,i),i},argPackAdvance:Ce,readValueFromPointer:ne,destructorFunction:n}]}))},de=e=>{if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e},he=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);ae=e},fe=e=>{var r="",t=e;while(y[t])r+=ae[y[t++]];return r},ve=i["BindingError"]=class extends Error{constructor(e){super(e),this.name="BindingError"}},ye=e=>{throw new ve(e)};function me(e,r,t={}){var n=r.name;if(e||ye(`type "${n}" must have a positive integer typeid pointer`),ie.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;ye(`Cannot register type '${n}' twice`)}if(ie[e]=r,delete oe[e],se.hasOwnProperty(e)){var a=se[e];delete se[e],a.forEach((e=>e()))}}function ge(e,r,t={}){return me(e,r,t)}var $e,we=(e,r,t)=>{switch(r){case 1:return t?e=>v[e]:e=>y[e];case 2:return t?e=>m[e>>1]:e=>g[e>>1];case 4:return t?e=>$[e>>2]:e=>w[e>>2];case 8:return t?e=>C[e>>3]:e=>T[e>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}},be=(e,r,t,n,a)=>{r=fe(r);var s=-1!=r.indexOf("u");ge(e,{name:r,fromWireType:e=>e,toWireType:function(e,r){if("bigint"!=typeof r&&"number"!=typeof r)throw new TypeError(`Cannot convert "${de(r)}" to ${this.name}`);return"number"==typeof r&&(r=BigInt(r)),r},argPackAdvance:Ce,readValueFromPointer:we(r,t,!s),destructorFunction:null})},Ce=8,Te=(e,r,t,n)=>{r=fe(r),ge(e,{name:r,fromWireType:function(e){return!!e},toWireType:function(e,r){return r?t:n},argPackAdvance:Ce,readValueFromPointer:function(e){return this["fromWireType"](y[e])},destructorFunction:null})},Pe=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ae=e=>{function r(e){return e.$$.ptrType.registeredClass.name}ye(r(e)+" instance already deleted")},We=!1,_e=e=>{},Fe=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Se=e=>{e.count.value-=1;var r=0===e.count.value;r&&Fe(e)},Oe=e=>"undefined"===typeof FinalizationRegistry?(Oe=e=>e,e):(We=new FinalizationRegistry((e=>{Se(e.$$)})),Oe=e=>{var r=e.$$,t=!!r.smartPtr;if(t){var n={$$:r};We.register(e,n,e)}return e},_e=e=>We.unregister(e),Oe(e)),Re=[],Ee=()=>{while(Re.length){var e=Re.pop();e.$$.deleteScheduled=!1,e["delete"]()}},ke=()=>{let e=je.prototype;Object.assign(e,{isAliasOf(e){if(!(this instanceof je))return!1;if(!(e instanceof je))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;while(r.baseClass)t=r.upcast(t),r=r.baseClass;while(n.baseClass)a=n.upcast(a),n=n.baseClass;return r===n&&t===a},clone(){if(this.$$.ptr||Ae(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Oe(Object.create(Object.getPrototypeOf(this),{$$:{value:Pe(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ye("Object already scheduled for deletion"),_e(this),Se(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ye("Object already scheduled for deletion"),Re.push(this),1===Re.length&&$e&&$e(Ee),this.$$.deleteScheduled=!0,this}});const r=Symbol.dispose;r&&(e[r]=e["delete"])};function je(){}var De=(e,r)=>Object.defineProperty(r,"name",{value:e}),xe={},Ve=(e,r,t)=>{if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(...n){return e[r].overloadTable.hasOwnProperty(n.length)||ye(`Function '${t}' called with an invalid number of arguments (${n.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[n.length].apply(this,n)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},Be=(e,r,t)=>{i.hasOwnProperty(e)?((void 0===t||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[t])&&ye(`Cannot register public name '${e}' twice`),Ve(i,e,e),i[e].overloadTable.hasOwnProperty(t)&&ye(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),i[e].overloadTable[t]=r):(i[e]=r,i[e].argCount=t)},Ie=48,Ue=57,He=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=Ie&&r<=Ue?`_${e}`:e};function Me(e,r,t,n,a,s,i,o){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=a,this.getActualType=s,this.upcast=i,this.downcast=o,this.pureVirtualFunctions=[]}var Ne=(e,r,t)=>{while(r!==t)r.upcast||ye(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function Le(e,r){if(null===r)return this.isReference&&ye(`null is not a valid ${this.name}`),0;r.$$||ye(`Cannot pass "${de(r)}" as a ${this.name}`),r.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ne(r.$$.ptr,t,this.registeredClass);return n}function ze(e,r){var t;if(null===r)return this.isReference&&ye(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,t),t):0;r&&r.$$||ye(`Cannot pass "${de(r)}" as a ${this.name}`),r.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&ye(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Ne(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&ye("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:ye(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var a=r["clone"]();t=this.rawShare(t,Pr.toHandle((()=>a["delete"]()))),null!==e&&e.push(this.rawDestructor,t)}break;default:ye("Unsupporting sharing policy")}return t}function Ge(e,r){if(null===r)return this.isReference&&ye(`null is not a valid ${this.name}`),0;r.$$||ye(`Cannot pass "${de(r)}" as a ${this.name}`),r.$$.ptr||ye(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&ye(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ne(r.$$.ptr,t,this.registeredClass);return n}var qe=(e,r,t)=>{if(r===t)return e;if(void 0===t.baseClass)return null;var n=qe(e,r,t.baseClass);return null===n?null:t.downcast(n)},Je={},Ke=(e,r)=>{void 0===r&&ye("ptr should not be undefined");while(e.baseClass)r=e.upcast(r),e=e.baseClass;return r},Xe=(e,r)=>(r=Ke(e,r),Je[r]),Ye=(e,r)=>{r.ptrType&&r.ptr||le("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&le("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Oe(Object.create(e,{$$:{value:r,writable:!0}}))};function Ze(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Xe(this.registeredClass,r);if(void 0!==t){if(0===t.$$.count.value)return t.$$.ptr=r,t.$$.smartPtr=e,t["clone"]();var n=t["clone"]();return this.destructor(e),n}function a(){return this.isSmartPointer?Ye(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Ye(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var s,i=this.registeredClass.getActualType(r),o=xe[i];if(!o)return a.call(this);s=this.isConst?o.constPointerType:o.pointerType;var u=qe(r,this.registeredClass,s.registeredClass);return null===u?a.call(this):this.isSmartPointer?Ye(s.registeredClass.instancePrototype,{ptrType:s,ptr:u,smartPtrType:this,smartPtr:e}):Ye(s.registeredClass.instancePrototype,{ptrType:s,ptr:u})}var Qe=()=>{Object.assign(er.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:Ce,readValueFromPointer:ne,fromWireType:Ze})};function er(e,r,t,n,a,s,i,o,u,l,c){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=a,this.pointeeType=s,this.sharingPolicy=i,this.rawGetPointee=o,this.rawConstructor=u,this.rawShare=l,this.rawDestructor=c,a||void 0!==r.baseClass?this["toWireType"]=ze:n?(this["toWireType"]=Le,this.destructorFunction=null):(this["toWireType"]=Ge,this.destructorFunction=null)}var rr,tr=(e,r,t)=>{i.hasOwnProperty(e)||le("Replacing nonexistent public symbol"),void 0!==i[e].overloadTable&&void 0!==t?i[e].overloadTable[t]=r:(i[e]=r,i[e].argCount=t)},nr=e=>rr.get(e),ar=(e,r,t=!1)=>{function n(){var e=nr(r);return e}e=fe(e);var a=n();return"function"!=typeof a&&ye(`unknown function pointer with signature ${e}: ${r}`),a};class sr extends Error{}var ir=e=>{var r=Ct(e),t=fe(r);return Pt(r),t},or=(e,r)=>{var t=[],n={};function a(e){n[e]||ie[e]||(oe[e]?oe[e].forEach(a):(t.push(e),n[e]=!0))}throw r.forEach(a),new sr(`${e}: `+t.map(ir).join([", "]))},ur=(e,r,t,n,a,s,i,o,u,l,c,p,d)=>{c=fe(c),s=ar(a,s),o&&=ar(i,o),l&&=ar(u,l),d=ar(p,d);var h=He(c);Be(h,(function(){or(`Cannot construct ${c} due to unbound types`,[n])})),ce([e,r,t],n?[n]:[],(r=>{var t,a;r=r[0],n?(t=r.registeredClass,a=t.instancePrototype):a=je.prototype;var i=De(c,(function(...e){if(Object.getPrototypeOf(this)!==u)throw new ve(`Use 'new' to construct ${c}`);if(void 0===p.constructor_body)throw new ve(`${c} has no accessible constructor`);var r=p.constructor_body[e.length];if(void 0===r)throw new ve(`Tried to invoke ctor of ${c} with invalid number of parameters (${e.length}) - expected (${Object.keys(p.constructor_body).toString()}) parameters instead!`);return r.apply(this,e)})),u=Object.create(a,{constructor:{value:i}});i.prototype=u;var p=new Me(c,i,u,d,t,s,o,l);p.baseClass&&(p.baseClass.__derivedClasses??=[],p.baseClass.__derivedClasses.push(p));var f=new er(c,p,!0,!1,!1),v=new er(c+"*",p,!1,!1,!1),y=new er(c+" const*",p,!1,!0,!1);return xe[e]={pointerType:v,constPointerType:y},tr(h,i),[f,v,y]}))};function lr(e){for(var r=1;r<e.length;++r)if(null!==e[r]&&void 0===e[r].destructorFunction)return!0;return!1}function cr(e,r,t,n){var a=lr(e),s=e.length-2,i=[],o=["fn"];r&&o.push("thisWired");for(var u=0;u<s;++u)i.push(`arg${u}`),o.push(`arg${u}Wired`);i=i.join(","),o=o.join(",");var l=`return function (${i}) {\n`;a&&(l+="var destructors = [];\n");var c=a?"destructors":"null",p=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(l+=`var thisWired = classParam['toWireType'](${c}, this);\n`);for(u=0;u<s;++u)l+=`var arg${u}Wired = argType${u}['toWireType'](${c}, arg${u});\n`,p.push(`argType${u}`);if(l+=(t||n?"var rv = ":"")+`invoker(${o});\n`,a)l+="runDestructors(destructors);\n";else for(u=r?1:2;u<e.length;++u){var d=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==e[u].destructorFunction&&(l+=`${d}_dtor(${d});\n`,p.push(`${d}_dtor`))}return t&&(l+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),l+="}\n",[p,l]}function pr(e,r,t,n,a,s){var i=r.length;i<2&&ye("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==r[1]&&null!==t,u=lr(r),l="void"!==r[0].name,c=[e,ye,n,a,te,r[0],r[1]],p=0;p<i-2;++p)c.push(r[p+2]);if(!u)for(p=o?1:2;p<r.length;++p)null!==r[p].destructorFunction&&c.push(r[p].destructorFunction);let[d,h]=cr(r,o,l,s);var f=new Function(...d,h)(...c);return De(e,f)}var dr=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(w[r+4*n>>2]);return t},hr=e=>{e=e.trim();const r=e.indexOf("(");return-1===r?e:e.slice(0,r)},fr=(e,r,t,n,a,s,i,o,u)=>{var l=dr(t,n);r=fe(r),r=hr(r),s=ar(a,s,o),ce([],[e],(e=>{e=e[0];var n=`${e.name}.${r}`;function a(){or(`Cannot call ${n} due to unbound types`,l)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]);var u=e.registeredClass.constructor;return void 0===u[r]?(a.argCount=t-1,u[r]=a):(Ve(u,r,n),u[r].overloadTable[t-1]=a),ce([],l,(a=>{var l=[a[0],null].concat(a.slice(1)),c=pr(n,l,null,s,i,o);if(void 0===u[r].overloadTable?(c.argCount=t-1,u[r]=c):u[r].overloadTable[t-1]=c,e.registeredClass.__derivedClasses)for(const t of e.registeredClass.__derivedClasses)t.constructor.hasOwnProperty(r)||(t.constructor[r]=c);return[]})),[]}))},vr=(e,r,t,n,a,s)=>{var i=dr(r,t);a=ar(n,a),ce([],[e],(e=>{e=e[0];var t=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[r-1])throw new ve(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[r-1]=()=>{or(`Cannot construct ${e.name} due to unbound types`,i)},ce([],i,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[r-1]=pr(t,n,null,a,s),[]))),[]}))},yr=(e,r,t,n,a,s,i,o,u,l)=>{var c=dr(t,n);r=fe(r),r=hr(r),s=ar(a,s,u),ce([],[e],(e=>{e=e[0];var n=`${e.name}.${r}`;function a(){or(`Cannot call ${n} due to unbound types`,c)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]),o&&e.registeredClass.pureVirtualFunctions.push(r);var l=e.registeredClass.instancePrototype,p=l[r];return void 0===p||void 0===p.overloadTable&&p.className!==e.name&&p.argCount===t-2?(a.argCount=t-2,a.className=e.name,l[r]=a):(Ve(l,r,n),l[r].overloadTable[t-2]=a),ce([],c,(a=>{var o=pr(n,a,e,s,i,u);return void 0===l[r].overloadTable?(o.argCount=t-2,l[r]=o):l[r].overloadTable[t-2]=o,[]})),[]}))},mr=(e,r,t)=>(e instanceof Object||ye(`${t} with invalid "this": ${e}`),e instanceof r.registeredClass.constructor||ye(`${t} incompatible with "this" of type ${e.constructor.name}`),e.$$.ptr||ye(`cannot call emscripten binding method ${t} on deleted object`),Ne(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)),gr=(e,r,t,n,a,s,i,o,u,l)=>{r=fe(r),a=ar(n,a),ce([],[e],(e=>{e=e[0];var n=`${e.name}.${r}`,c={get(){or(`Cannot access ${n} due to unbound types`,[t,i])},enumerable:!0,configurable:!0};return c.set=u?()=>or(`Cannot access ${n} due to unbound types`,[t,i]):e=>ye(n+" is a read-only property"),Object.defineProperty(e.registeredClass.instancePrototype,r,c),ce([],u?[t,i]:[t],(t=>{var i=t[0],c={get(){var r=mr(this,e,n+" getter");return i["fromWireType"](a(s,r))},enumerable:!0};if(u){u=ar(o,u);var p=t[1];c.set=function(r){var t=mr(this,e,n+" setter"),a=[];u(l,t,p["toWireType"](a,r)),te(a)}}return Object.defineProperty(e.registeredClass.instancePrototype,r,c),[]})),[]}))},$r=[],wr=[],br=e=>{e>9&&0===--wr[e+1]&&(wr[e]=void 0,$r.push(e))},Cr=()=>wr.length/2-5-$r.length,Tr=()=>{wr.push(0,1,void 0,1,null,1,!0,1,!1,1),i["count_emval_handles"]=Cr},Pr={toValue:e=>(e||ye(`Cannot use deleted val. handle = ${e}`),wr[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=$r.pop()||wr.length;return wr[r]=e,wr[r+1]=1,r}}}},Ar={name:"emscripten::val",fromWireType:e=>{var r=Pr.toValue(e);return br(e),r},toWireType:(e,r)=>Pr.toHandle(r),argPackAdvance:Ce,readValueFromPointer:ne,destructorFunction:null},Wr=e=>ge(e,Ar),_r=(e,r)=>{switch(r){case 4:return function(e){return this["fromWireType"](b[e>>2])};case 8:return function(e){return this["fromWireType"](P[e>>3])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},Fr=(e,r,t)=>{r=fe(r),ge(e,{name:r,fromWireType:e=>e,toWireType:(e,r)=>r,argPackAdvance:Ce,readValueFromPointer:_r(r,t),destructorFunction:null})},Sr=(e,r,t,n,a,s,i,o)=>{var u=dr(r,t);e=fe(e),e=hr(e),a=ar(n,a,i),Be(e,(function(){or(`Cannot call ${e} due to unbound types`,u)}),r-1),ce([],u,(t=>{var n=[t[0],null].concat(t.slice(1));return tr(e,pr(e,n,null,a,s,i),r-1),[]}))},Or=(e,r,t,n,a)=>{r=fe(r),-1===a&&(a=4294967295);var s=e=>e;if(0===n){var i=32-8*t;s=e=>e<<i>>>i}var o,u=r.includes("unsigned"),l=(e,r)=>{};o=u?function(e,r){return l(r,this.name),r>>>0}:function(e,r){return l(r,this.name),r},ge(e,{name:r,fromWireType:s,toWireType:o,argPackAdvance:Ce,readValueFromPointer:we(r,t,0!==n),destructorFunction:null})},Rr=(e,r,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],a=n[r];function s(e){var r=w[e>>2],t=w[e+4>>2];return new a(v.buffer,t,r)}t=fe(t),ge(e,{name:t,fromWireType:s,argPackAdvance:Ce,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},Er=Object.assign({optional:!0},Ar),kr=(e,r)=>{ge(e,Er)},jr=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,s=t+n-1,i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o>=55296&&o<=57343){var u=e.charCodeAt(++i);o=65536+((1023&o)<<10)|1023&u}if(o<=127){if(t>=s)break;r[t++]=o}else if(o<=2047){if(t+1>=s)break;r[t++]=192|o>>6,r[t++]=128|63&o}else if(o<=65535){if(t+2>=s)break;r[t++]=224|o>>12,r[t++]=128|o>>6&63,r[t++]=128|63&o}else{if(t+3>=s)break;r[t++]=240|o>>18,r[t++]=128|o>>12&63,r[t++]=128|o>>6&63,r[t++]=128|63&o}}return r[t]=0,t-a},Dr=(e,r,t)=>jr(e,y,r,t),xr=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Vr="undefined"!=typeof TextDecoder?new TextDecoder:void 0,Br=(e,r=0,t=NaN)=>{var n=r+t,a=r;while(e[a]&&!(a>=n))++a;if(a-r>16&&e.buffer&&Vr)return Vr.decode(e.subarray(r,a));var s="";while(r<a){var i=e[r++];if(128&i){var o=63&e[r++];if(192!=(224&i)){var u=63&e[r++];if(i=224==(240&i)?(15&i)<<12|o<<6|u:(7&i)<<18|o<<12|u<<6|63&e[r++],i<65536)s+=String.fromCharCode(i);else{var l=i-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&i)<<6|o)}else s+=String.fromCharCode(i)}return s},Ir=(e,r)=>e?Br(y,e,r):"",Ur=(e,r)=>{r=fe(r);var t=!0;ge(e,{name:r,fromWireType(e){var r,n=w[e>>2],a=e+4;if(t)for(var s=a,i=0;i<=n;++i){var o=a+i;if(i==n||0==y[o]){var u=o-s,l=Ir(s,u);void 0===r?r=l:(r+=String.fromCharCode(0),r+=l),s=o+1}}else{var c=new Array(n);for(i=0;i<n;++i)c[i]=String.fromCharCode(y[a+i]);r=c.join("")}return Pt(e),r},toWireType(e,r){var n;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var a="string"==typeof r;a||ArrayBuffer.isView(r)&&1==r.BYTES_PER_ELEMENT||ye("Cannot pass non-string to std::string"),n=t&&a?xr(r):r.length;var s=Tt(4+n+1),i=s+4;if(w[s>>2]=n,a)if(t)Dr(r,i,n+1);else for(var o=0;o<n;++o){var u=r.charCodeAt(o);u>255&&(Pt(s),ye("String has UTF-16 code units that do not fit in 8 bits")),y[i+o]=u}else y.set(r,i);return null!==e&&e.push(Pt,s),s},argPackAdvance:Ce,readValueFromPointer:ne,destructorFunction(e){Pt(e)}})},Hr="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Mr=(e,r)=>{var t=e,n=t>>1,a=n+r/2;while(!(n>=a)&&g[n])++n;if(t=n<<1,t-e>32&&Hr)return Hr.decode(y.subarray(e,t));for(var s="",i=0;!(i>=r/2);++i){var o=m[e+2*i>>1];if(0==o)break;s+=String.fromCharCode(o)}return s},Nr=(e,r,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=r,a=t<2*e.length?t/2:e.length,s=0;s<a;++s){var i=e.charCodeAt(s);m[r>>1]=i,r+=2}return m[r>>1]=0,r-n},Lr=e=>2*e.length,zr=(e,r)=>{var t=0,n="";while(!(t>=r/4)){var a=$[e+4*t>>2];if(0==a)break;if(++t,a>=65536){var s=a-65536;n+=String.fromCharCode(55296|s>>10,56320|1023&s)}else n+=String.fromCharCode(a)}return n},Gr=(e,r,t)=>{if(t??=2147483647,t<4)return 0;for(var n=r,a=n+t-4,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343){var o=e.charCodeAt(++s);i=65536+((1023&i)<<10)|1023&o}if($[r>>2]=i,r+=4,r+4>a)break}return $[r>>2]=0,r-n},qr=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},Jr=(e,r,t)=>{var n,a,s,i;t=fe(t),2===r?(n=Mr,a=Nr,i=Lr,s=e=>g[e>>1]):4===r&&(n=zr,a=Gr,i=qr,s=e=>w[e>>2]),ge(e,{name:t,fromWireType:e=>{for(var t,a=w[e>>2],i=e+4,o=0;o<=a;++o){var u=e+4+o*r;if(o==a||0==s(u)){var l=u-i,c=n(i,l);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),i=u+r}}return Pt(e),t},toWireType:(e,n)=>{"string"!=typeof n&&ye(`Cannot pass non-string to C++ string type ${t}`);var s=i(n),o=Tt(4+s+r);return w[o>>2]=s/r,a(n,o+4,s+r),null!==e&&e.push(Pt,o),o},argPackAdvance:Ce,readValueFromPointer:ne,destructorFunction(e){Pt(e)}})},Kr=(e,r,t,n,a,s)=>{re[e]={name:fe(r),rawConstructor:ar(t,n),rawDestructor:ar(a,s),fields:[]}},Xr=(e,r,t,n,a,s,i,o,u,l)=>{re[e].fields.push({fieldName:fe(r),getterReturnType:t,getter:ar(n,a),getterContext:s,setterArgumentType:i,setter:ar(o,u),setterContext:l})},Yr=(e,r)=>{r=fe(r),ge(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,r)=>{}})},Zr=(e,r)=>{var t=ie[e];return void 0===t&&ye(`${r} has unknown type ${ir(e)}`),t},Qr=(e,r,t)=>{var n=[],a=e["toWireType"](n,t);return n.length&&(w[r>>2]=Pr.toHandle(n)),a},et=(e,r,t)=>(e=Pr.toValue(e),r=Zr(r,"emval::as"),Qr(r,t,e)),rt=(e,r)=>(e=Pr.toValue(e),r=Pr.toValue(r),Pr.toHandle(e[r])),tt={},nt=e=>{var r=tt[e];return void 0===r?fe(e):r},at=e=>Pr.toHandle(nt(e)),st=e=>{var r=Pr.toValue(e);te(r),br(e)},it=(e,r)=>{e=Zr(e,"_emval_take_value");var t=e["readValueFromPointer"](r);return Pr.toHandle(t)},ot=()=>2147483648,ut=(e,r)=>Math.ceil(e/r)*r,lt=e=>{var r=f.buffer,t=(e-r.byteLength+65535)/65536|0;try{return f.grow(t),_(),1}catch(n){}},ct=e=>{var r=y.length;e>>>=0;var t=ot();if(e>t)return!1;for(var n=1;n<=4;n*=2){var a=r*(1+.2/n);a=Math.min(a,e+100663296);var s=Math.min(t,ut(Math.max(e,a),65536)),i=lt(s);if(i)return!0}return!1},pt=()=>e=>crypto.getRandomValues(e),dt=e=>{(dt=pt())(e)},ht=(e,r)=>(dt(y.subarray(e,e+r)),0),ft=e=>{var r=i["_"+e];return r},vt=(e,r)=>{v.set(e,r)},yt=e=>Wt(e),mt=e=>{var r=xr(e)+1,t=yt(r);return Dr(e,t,r),t},gt=(e,r,t,n,a)=>{var s={string:e=>{var r=0;return null!==e&&void 0!==e&&0!==e&&(r=mt(e)),r},array:e=>{var r=yt(e.length);return vt(e,r),r}};function i(e){return"string"===r?Ir(e):"boolean"===r?Boolean(e):e}var o=ft(e),u=[],l=0;if(n)for(var c=0;c<n.length;c++){var p=s[t[c]];p?(0===l&&(l=X()),u[c]=p(n[c])):u[c]=n[c]}var d=o(...u);function h(e){return 0!==l&&K(l),i(e)}return d=h(d),d},$t=(e,r,t,n)=>{var a=!t||t.every((e=>"number"===e||"boolean"===e)),s="string"!==r;return s&&a&&!n?ft(e):(...a)=>gt(e,r,t,a,n)};he(),ke(),Qe(),Tr(),i["noExitRuntime"]&&i["noExitRuntime"],i["print"]&&i["print"],i["printErr"]&&(A=i["printErr"]),i["wasmBinary"]&&(h=i["wasmBinary"]),i["arguments"]&&i["arguments"],i["thisProgram"]&&i["thisProgram"],i["ccall"]=gt,i["cwrap"]=$t;var wt={q:Q,t:ee,k:pe,n:be,y:Te,e:ur,r:fr,f:vr,b:yr,c:gr,v:Wr,m:Fr,h:Sr,d:Or,a:Rr,p:kr,w:Ur,g:Jr,j:Kr,i:Xr,z:Yr,l:et,x:br,C:rt,B:at,A:st,o:it,u:ct,s:ht},bt=await N(),Ct=(bt["E"],bt["G"]),Tt=i["_malloc"]=bt["H"],Pt=i["_free"]=bt["I"],At=bt["J"],Wt=bt["K"],_t=bt["L"];function Ft(){function e(){i["calledRun"]=!0,W||(S(),t(i),i["onRuntimeInitialized"]?.(),O())}E>0?k=Ft:(F(),E>0?k=Ft:i["setStatus"]?(i["setStatus"]("Running..."),setTimeout((()=>{setTimeout((()=>i["setStatus"]("")),1),e()}),1)):e())}function St(){if(i["preInit"]){"function"==typeof i["preInit"]&&(i["preInit"]=[i["preInit"]]);while(i["preInit"].length>0)i["preInit"].shift()()}}return St(),Ft(),r=o,r})();export default createBoidsModule;